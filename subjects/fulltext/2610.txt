UTILIZING GIS IN THE DEVELOPMENT OF DETAILED DISTRIBUTED URBAN DRAINAGE MODELS by Zakia Raihan Alam
B. Sc. and M. Sc. in Civil Engineering Bangladesh University of Engineering and Technology (BUET), Dhaka, Bangladesh

A thesis presented to Ryerson University in partial fulfillment of the requirements for the degree of Master of Applied Science in the Program of Civil Engineering
Toronto, Ontario, Canada, 2014 c Zakia Raihan Alam 2014

AUTHOR'S DECLARATION

I hereby declare that I am the sole author of this thesis. This is a true copy of the thesis, including any required final revisions, as accepted by my examiners. I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research. I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research. I understand that my thesis may be made electronically available to the public.

ii

Abstract
Stormwater management practices can mitigate the undesirable impacts of urbanization. Urban drainage models can play a significant role in comprehensive evaluation of stormwater management systems. This thesis presents a methodology for the development of a detailed distributed urban drainage model using Geographic Information System (GIS) databases. The approach incorporates delineation of spatial variables (subcatchment outlets, width, slope etc.) and other model inputs from digital data and assigns them to the GIS database by executing developed Python 2.7 scripts. The proposed methodology is applied on a case study area in Mississauga, Ontario. Observed rainfall data are used as model input and simulation is performed using PCSWMM 5.1.1279. The model performance is evaluated by comparing the uncalibrated simulated discharge with the observed one. The simulated hydrographs are of good fit with the observed hydrographs. The evaluation criteria justify the use of extracted and assumed parameters and the reliability of the developed methodology.

iii

Acknowledgments
I would like to express my sincere appreciation, gratitude and gratefulness to my supervisor Dr. Darko Joksimovic for his friendly supervision, assistance, encouragement, constructive criticism and valuable suggestions in accomplishing my thesis work. His passion for research and broad perspective inspired me all the time. His vast knowledge and skill have been extremely valuable contributions to my research and greatly enhanced my MASc experience. I acknowledge the guidance from my co-supervisor Dr. Songnian Li. I have greatly benefited from his support and insightful advice on my research. I am very thankful to Naglaa Ahmed for her co-operation and for providing me with the necessary data that are crucial for the study presented in the thesis. I also appreciate the support from Mr. Daniel Jakubek. Tirelessly he replied to all my questions and queries with patience and provided me with the appropriate data whenever necessary. Special thanks to my husband Dr. Zahidur Rahim Chowdhury. He always managed time, beside his PhD program, to show me the right approach to solve the research questions. He also took care of our little daughter so that I can concentrate solely on my work. I am also grateful to my parents whose hard work, honesty and dedication have brought me to this stage of my life. Finally, I thank Allah, the almighty, for arranging everything so nicely towards the completion of this work.

iv

Contents
Abstract Acknowledgments List of Tables List of Figures 1 Introduction 1.1 1.2 1.3 Motivation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Objectives . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Thesis Outline . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . iii iv viii ix 1 1 3 4 5 5 6 8 8 9 10 11 14 15 15 16

2 Literature Review 2.1 2.2 2.3 Background . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Scale Effect in Stormwater Modelling . . . . . . . . . . . . . . . . . . . . . . GIS in Urban Stormwater Modelling . . . . . . . . . . . . . . . . . . . . . . 2.3.1 2.3.2 2.3.3 2.4 2.5 2.6 GIS to Prepare Model Inputs . . . . . . . . . . . . . . . . . . . . . . GIS to Analyze Model Outputs . . . . . . . . . . . . . . . . . . . . . GIS as Spatial Analyst . . . . . . . . . . . . . . . . . . . . . . . . . .

GIS and Urban Stormwater Models . . . . . . . . . . . . . . . . . . . . . . . Limitations of GIS Data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . PCSWMM . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2.6.1 2.6.2 Surface Runoff . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Infiltration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

v

2.6.3 2.6.4 2.7

Flow Routing . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Surface Ponding . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

17 18 18 18 18 19 19 19 20 20 21 22 22 24 24 26 26 32 32 33 33 33 34 34 35 37 38 41 42

Flow Direction Algorithms . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2.7.1 Single Flow Direction Algorithms . . . . . . . . . . . . . . . . . . . . 2.7.1.1 2.7.1.2 2.7.2 Deterministic Eight-node (D8) . . . . . . . . . . . . . . . . Random Eight-node (Rho8) . . . . . . . . . . . . . . . . . .

Multiple Flow Direction Algorithms . . . . . . . . . . . . . . . . . . . 2.7.2.1 2.7.2.2 2.7.2.3 FD8 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Digital Elevation Model Network (DEMON) . . . . . . . . . D . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

2.8

Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

3 Model Development and Simulation 3.1 3.2 Outline of the Work . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

Data Preparation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.2.1 3.2.2 Creation of Data Layers . . . . . . . . . . . . . . . . . . . . . . . . . Extraction of Model Input Parameters . . . . . . . . . . . . . . . . . 3.2.2.1 3.2.2.2 3.2.2.3 3.2.2.4 Subcatchment Attributes . . . . . . . . . . . . . . . . . . . Outfall Attributes . . . . . . . . . . . . . . . . . . . . . . . Junction Attributes . . . . . . . . . . . . . . . . . . . . . .

Conduit Attributes . . . . . . . . . . . . . . . . . . . . . . .

3.3 3.4

Model Development and Simulation . . . . . . . . . . . . . . . . . . . . . . . Case Study . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.4.1 3.4.2 Study Area . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Collected Data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.4.2.1 3.4.2.2 3.4.2.3 3.4.3 Rainfall Data . . . . . . . . . . . . . . . . . . . . . . . . . . Runoff Data . . . . . . . . . . . . . . . . . . . . . . . . . . . Other Data . . . . . . . . . . . . . . . . . . . . . . . . . . .

Preparation of Data Layers . . . . . . . . . . . . . . . . . . . . . . . 3.4.3.1 Subcatchments . . . . . . . . . . . . . . . . . . . . . . . . .

vi

3.4.3.2 3.4.3.3 3.4.3.4 3.4.4 3.5

Outfall . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Junctions . . . . . . . . . . . . . . . . . . . . . . . . . . . . Conduits . . . . . . . . . . . . . . . . . . . . . . . . . . . .

42 43 43 43 45 46 46 48 51 52 57 59 60 60 61 63 64 67 68 74 78 83 95

Model Build Up and Simulation . . . . . . . . . . . . . . . . . . . . .

Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

4 Results and Discussion 4.1 4.2 4.3 4.4 4.5 4.6 Comparison of Hydrographs . . . . . . . . . . . . . . . . . . . . . . . . . . . Sensitivity Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Comparison of Peak Flows and Runoff Volume . . . . . . . . . . . . . . . . . Model Performance Evaluation . . . . . . . . . . . . . . . . . . . . . . . . .

Outputs without Downspout Disconnection . . . . . . . . . . . . . . . . . . . Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

5 Conclusions 5.1 5.2 5.3 Summary . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Conclusions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Recommendations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

Appendix A Comparison of Hydrographs Appendix B Python 2.7 Scripts B.1 Deriving Subcatchment Outlets . . . . . . . . . . . . . . . . . . . . . . . . . B.2 Deriving Subcatchment Width . . . . . . . . . . . . . . . . . . . . . . . . . . B.3 Deriving Subcatchment Slope . . . . . . . . . . . . . . . . . . . . . . . . . . B.4 Adding Fields and Values . . . . . . . . . . . . . . . . . . . . . . . . . . . . List of References

vii

List of Tables
3.1 3.2 3.3 3.4 4.1 Collected Data . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Summary of Rainfall Events (from July 2010 to February 2011) . . . . . . . Summary of Rainfall Events (from March 2011 to August 2011) . . . . . . . Summary of Rainfall Events (from September 2011 to December 2011) . . . Summary of Comparison Criteria . . . . . . . . . . . . . . . . . . . . . . . . 35 39 40 41 55

viii

List of Figures
2.1 2.2 3.1 3.2 3.3 3.4 3.5 3.6 3.7 Surface runoff modelling in PCSWMM . . . . . . . . . . . . . . . . . . . . . Flow direction allocation using FD8 algorithm . . . . . . . . . . . . . . . . .
Outline of the work . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Aerial photograph of a residential area . . . . . . . . . . . . . . . . . . . . . . . Data layers for each homogeneous landuse type and sewer network . . . . . . . . Steps of delineating subcatchment outlet . . . . . . . . . . . . . . . . . . . . . . Flow directions with codes and delineated subcatchment outlets . . . . . . . . . . Steps of delineating subcatchment width . . . . . . . . . . . . . . . . . . . . . .

16 20 23 24 25 27 28 29

(a) Flow length raster of upstream flow distance and (b) Calculated flow length of a single subcatchment . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30 31 32 34 36 36 37 38 44 47 49

3.8 3.9

Steps of delineating subcatchment slope . . . . . . . . . . . . . . . . . . . . . . Calculated slope of subcatchments . . . . . . . . . . . . . . . . . . . . . . . . .

3.10 Location of the case study area . . . . . . . . . . . . . . . . . . . . . . . . . . 3.11 Location of Riverwood Gauge and CVC Climate Station . . . . . . . . . . . . . 3.12 Location of Cawthra Gauge and Mississauga Gauge S01 . . . . . . . . . . . . . . 3.13 Plot of rainfall event duration and intensity in IDF curve for Mississauga . . 3.14 Location of monitoring manhole LV-1 . . . . . . . . . . . . . . . . . . . . . . 3.15 Developed model in PCSWMM . . . . . . . . . . . . . . . . . . . . . . . . . . 4.1 4.2 4.3 Observed and simulated hydrographs at event scale . . . . . . . . . . . . . . Sensitivity of subcatchment width on simulation output at event scale . . . . Comparison of hydrographs obtained from the lumped and the distributed model . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.4 Comparison of hydrographs when downspouts are connected to the backyards ix

50 51

4.5

Scatter plot of simulated vs observed values: (a) peak flows and (b) runoff volumes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52

4.6

Comparison of hydrographs when downspouts are connected to sewer network 58 64 65 66 67

A.1 Observed and simulated hydrographs at event scale (1) . . . . . . . . . . . . A.2 Observed and simulated hydrographs at event scale (2) . . . . . . . . . . . . A.3 Observed and simulated hydrographs at event scale (3) . . . . . . . . . . . . B.1 Outline of input parameter extraction . . . . . . . . . . . . . . . . . . . . . . .

x

Chapter 1 Introduction

1.1

Motivation

The management, operation and maintenance of urban drainage systems is a necessary activity in any developed urban area. The practice of drainage system has been marked out as one of the earliest recorded histories of mankind. The evolution of sewer system was primarily motivated by the rapid conveyance of stormwater from developed areas to reduce the flood damage potential. Furthermore, the removal of domestic waste water from households using drainage networks was also found to be convenient. But some other problems, such as, artificially induced flooding, increased erosion and environmental degradation resulting from the pollution of receiving water are often associated with an urban drainage system. This consequences could occur as a result of inadequate runoff control or from a network that is not properly managed. These problems can be solved by introducing a comprehensive management system. Application of urban drainage models can play a significant role in a comprehensive evaluation of stormwater management systems. Urban hydrology is associated with numerous interacting subsystems, such as, infiltration, surface runoff, conduit routing, groundwater discharge to receiving water, etc. In addition, urban landscape possesses a high degree of heterogeneity. Successful modelling of an urban drainage system depends on proper representation of the spatial variability and the 1

interacting sub systems. Researchers developed models at various spatial resolutions, performed simulations and compared the predictions of total outflow volume and peak flow that demonstrates that the results are quite sensitive to model discretization (Ghosh and Hellweger, 2012; Ahmed, 2012). Development of detailed distributed urban drainage models can play significant role in capturing spatial heterogeneity in model input parameters through proper representation of spatial variability. These models may be also able to better predict systems' response at different locations with potentially minimal model calibration (Pugh and Keeble, 2004; Kertesz et al., 2007). Models built up of homogeneous subcatchments are also recommended by many studies (Ahmed, 2012; Amaguchi et al., 2012). Therefore, this work aims at developing a methodology to build up a distributed model with finer resolutions that would help the modellers to evaluate or predict runoff more accurately at any location in the sewershed. In addition to that, municipalities in North America, more in the U.S.A. but increasingly in Canada as well, are establishing stormwater utility fees, which may require detailed distributed modelling for establishment of equitable fees. As a result, a highly explicit and spatially distributed strategy in urban drainage modelling is also crucial for facilitating the stakeholders in this field. Building a complete drainage model by means of nodes, conduits and catchment units and processing all the data layers to extract input parameters can be very time-consuming work. Moreover, the workload increases with the increased size of the catchment. To avoid building the model manually, Geographic Information System (GIS) databases can be utilized to prepare the model components. In addition to that, effective urban stormwater management is highly dependent on appropriate consideration of the spatial variability of the catchment. GIS are ideally suited for preparing, storing, updating, analyzing and displaying georeferenced data in conjunction with urban stormwater modelling. GIS have also been proved to be a powerful tool in spatial data preparation of different sources and scales. It can link land cover data to topographic data and to other information concerning processes and properties related to geographic location. When applied to hydrologic systems, information regarding description of soils, land use, ground cover, ground water conditions, as well as man-made systems and their characteristics on or below the land surface can also be stored and analyzed using GIS. Utilization of GIS as a spatial data analyst also increases the efficiency 2

of parameterizing in detailed distributed models and improves the visualization of results. From these realizations, geospatial databases and GIS has been investigated in this research as a primary aid in for the development of detailed urban drainage models. This work presents an approach that facilitates the development of a detailed distributed urban drainage model using digital database where the time consuming process of parameter extraction is performed through the development and execution of programming scripts. The methodology aims at obtaining realistic rainfall-runoff response from model simulation without performing any calibration with a view to utilize the proposed methodology to predict the drainage discharge of an urban residential area for which any observed or monitored data is unavailable. In addition to that, producing realistic simulation output without tuning the model parameters will enhance the way to identify manhole overflow locations or to evaluate performance of installed Low Impact Developments (LID) where there is no scope of calibration based on measured data.

1.2

Objectives

The major objective of this research work is to develop a methodology for rapid build up of accurate, detailed distributed urban drainage models by fully utilizing available digital data. In this approach, a sewershed is divided into homogeneous subcatchments, called microcatchments to develop a detailed urban drainage model. Different GIS layers for homogeneous subcatchments are developed to capture the spatial heterogeneity in input parameters (e.g., land use, slope, soil type, organization of drainage network, etc.). In this work, the whole process of extracting and assigning model input parameters will be automated. Programming scripts will be developed and used for this purpose. The general approach adopted in this study is to develop python scripts, delineate model input parameters at very high resolution from GIS databases by executing developed scripts, performing hydrologic simulation at these resolutions and finally, to evaluate the model performance by comparing the simulated output with the observed data without performing any calibration of parameters. The performance of the presented approach is evaluated by applying it on a typical urban 3

residential area located in Mississauga, Ontario. For the case study area, the model is developed based on actual drainage networks. Observed rainfall data is used as model input and simulation is performed by using a rainfall-runoff simulation model, PCSWMM. PCSWMM is a spatial decision support system for EPA SWMM5 (Storm Water Management Model) used for stormwater management, wastewater and watershed modelling. Finally, evaluation is performed by comparing the uncalibrated simulated discharge with the monitored flow data of the study area.

1.3

Thesis Outline

The research work reported herein is divided into the following chapters. Chapter 2 justifies the development of detailed distributed urban drainage model and reviews the utilization of GIS in urban drainage models. The chapter also describes the theory behind the model development. The working principals of the drainage modelling software, PCSWMM is also explained briefly. Chapter 3 explains how information collected from different sources is processed to be used in PCSWMM. The chapter also explains the logics used to extract input parameters and presents the model development methodology in details . Chapter 4 introduces and presents the results of the methodology application on a case study area that includes the comparison of the observed runoff hydrograph with the simulated one. The extracted and the assumed parameters are assessed based on evaluation criteria. Outcome of the study is discussed with different perspectives. Simulation results for different scenarios are also presented to present the sensitivity analysis and the effects of connected and disconnected downspouts. Chapter 5 summarizes the methodology of the whole work and the simulation results. Recommendations for the future direction based on the current study are also made.

4

Chapter 2 Literature Review

2.1

Background

A stormwater model is a simplified representation of the real stormwater network and the associated catchment area. Its main objective is to simulate hydrological processes mathematically in order to make accurate predictions of discharge and other parameters, as close as possible to the reality. Hydrologic simulation models can be either event-based (e.g., Hydrologic Engineering Center HEC-1 (HEC, 1990)) or continuous (e.g., USEPA Stormwater Management Model SWMM (Rossman, 2010)). Based on modelling approach, they can also be classified as, empirical lumped model or the physically based distributed model (Viessman and Lewis, 2003). Whatever be the type of the model, the accuracy of predictions depends upon how well a model represents the response of a real system. The efficiency of an urban drainage model greatly depends upon the representation of urban landscape as it is characterized by a high degree of heterogeneity. In most cases, a detailed distributed model typically results with a more realistic simulation result since it can represent the catchment spatial properties in details (Quinn et al., 1991; Vieux, 1993, 2001; Vieux and Farajalla, 1994; Farajalla and Vieux, 1995). Therefore, this work focuses on developing a detailed distributed urban drainage model in order to produce a realistic output using uncalibrated parameters. Development of an efficient detailed distributed urban drainage model requires the full ad5

vantage of today's geographical data sources and processing tools. Current GIS technology provides powerful capabilities for supporting the spatial database requirements of urban stormwater management. During the early days of urban stormwater modelling, lack of large and detailed spatial and temporal databases and their high cost were responsible for the limited use of GIS. Besides, many computer tools were not easily amenable to integration with GIS. However, as local data gathering efforts have enhanced and software integration has developed, the use of GIS in urban stormwater is now widespread.

2.2

Scale Effect in Stormwater Modelling

Distributed models play significant roles in modelling spatial variability of processes, inputs, boundary conditions and catchment characteristics. Most of the raster-based distributed models utilize Digital Elevation Model (DEM) to represent land-use characteristics (e.g. SHE (Abbott et al., 1986b,a)). Grid-based distributed models are generally of simpler structure that calculates the direct runoff from each grid based on the runoff coefficients or estimated fractions of impervious area in different land use categories of an urban catchment (Niehoff et al., 2002; Choi and Ball, 2002; Park et al., 2008). Accurate runoff simulation in urban environments requires proper representation of land use and especially the imperviousness (Leopold, 1968). Researches show that finer spatial resolutions improve the accuracy and reduce uncertainty of modelling simulations (Quinn et al., 1991; Vieux, 1993, 2001; Vieux and Farajalla, 1994; Farajalla and Vieux, 1995). Scale of catchment representation has been recognized as an important affecting parameter in the hydrologic modelling since the early 1960's (Minshall, 1960; Amorocho, 1961). It has been demonstrated and well-established from the previous studies that spatial resolution affects the model output to a great extent (Metcalf and Eddy, 1971; Warwick and Litchfield, 1993; Wood et al., 1988; FitzHugh and Mackay, 2012; Ao et al., 2003; Elliott et al., 2009). In recent years, a number of modellers have studied catchment-scale effects of spatially distributed systems by breaking down the catchment into the individual property scale and modelling each individual device. For example, the USEPA Storm-Water Management Model, SWMM 6

(Rossman, 2010), was applied to a 2.8ha catchment subdivided into 390 microcatchments (Kertesz et al., 2007). The study illustrates a tool that quantifies the net effect of onsite control methods in subcatchments ranging from 0.01 to 7 acres. Hydrologic and hydraulic analysis were performed using EPA Stormwater Management Model (SWMM) and available data were organized by creating a geo-database of relevant site information in ArcGIS. A SWMM model with 80 subcatchments were developed for a 1.7ha area by Bosley (Bosley, 2008). Another stormwater model, MOUSE was utilized to develop a detailed model of a housing development in 2005 (Menzies and Paterson, 2005). SWMM was modified to model onsite devices and was applied to a 2.5km2 catchment divided into 2130 subareas by Elliott et al. (Elliott et al., 2001). Elliott A. H. examined the effects of aggregation on predictions of water quantity and quality. For this purpose, a detailed model for urban stormwater improvement conceptualization simulation was set up which was reduced to three (55, 7 and 1 catchment) aggregation levels. The influence of aggregation was assessed by comparing the predictions of the aggregated models against the predictions of the detailed model (Elliott et al., 2009). Sample et al. built up a model for assessment of catchment-scale effects of on-site infiltration and water demand management (Sample and Heaney, 2006). Ostrowski (Ostrowski, 2002) discussed temporal and spatial scaling issues in the context of urban storm-water modelling, drawing on general concepts of scaling in hydrology. He noted that at catchment scale there is a tension between representing small-scale process and keeping the computational demands reasonable. From the above review of previous researches on the effects of spatial resolution on model results, it can be concluded that significantly more projects focused on rural hydrology compared to urban hydrology. But, urban areas are characterized by a high level of heterogeneity with complex subsystems. Therefore, this work focuses on the modelling of urban drainage system. It is also well-established from the above discussion that, scale (level of subdivision of model elements, input data resolution, or both) does affect both water quantity and water quality predictions. According to some researchers, aggregation of spatial information seems to be the solution to maintain computational efficiency necessary for practical planning (Ostrowski, 2002) while others argue that retaining the full detail of an urban drainage system is necessary to obtain accurate representation of the flows (Kertesz et al., 2007; Pugh and Keeble, 2004). 7

Clearly there are situations where aggregation will be required or desirable, such as, when the location of individual devices is not known, when long-term continuous simulations with detailed catchment representation and fine time-steps take days to run, or when modern calibration methods requiring large numbers of simulations are used. Therefore, this thesis aims at developing a methodology for a detailed distributed drainage modelling for an urban area for which GIS database with detail information is available. The work also focuses on obtaining realistic simulation output without performing calibration of any model input parameter.

2.3

GIS in Urban Stormwater Modelling

Application of GIS to urban stormwater modelling incorporates storing, manipulating, analyzing, and displaying data in a geographical context (Seth et al., 2006). The most fundamental role a GIS can play in the modelling of urban stormwater is that of a preparator of spatial data. As a data preparator, GIS may simply store geographic information in a database, or it may be used to prepare model-input parameters from stored georeferenced data. Frequently data are transmitted from the GIS to a file format consistent with a modelinput file. GIS may play significant role in model output analysis. GIS may be used to map water surface elevations, pollutant concentrations, etc. or to derive spatial statistics based on model output.

2.3.1

GIS to Prepare Model Inputs

Several researchers used GIS as a spatial database for modelling stormwater network. Detailed georeferenced and maintenance data were used by researchers to develop an operation and management schedule as well as to link junction information required for creating a SWMM EXTRAN model (VanGelder and Miller, 1996). Integrated data transfer from a GIS and a SCADA system to a SWMM model was performed in Louisiana (Barbe et al., 1993). GIS was also utilized to export details of the urban stormwater network to a hydraulic

8

simulator in 1998 (Pryl et al., 1998). The Danish Hydraulic Institute (DHI) developed Model Of Urban Sewers (MOUSE) to model various scenarios of an urban stormwater master plan. Integration of GIS, time series data and the urban stormwater model was accomplished for better understanding of flooding characteristics. Modelers created GIS layer from existing paper maps and utilized it to integrate with a Digital Elevation Model (DEM), the street network and the sewer network to be used in BEAMUS hydraulic simulation model (Sotic et al., 1998). Similar approach was also reported where an information tool was developed to build up a hydrodynamic model of the sewer system, to record monitored flow and rain data, to evaluate current hydraulic sewer capacity and to evaluate the feasibility of alternative sewer developments (Hora et al., 1998). GIS and urban hydrologic model was integrated to evaluate small storm hydrology for parcel level management decisions by Rodriguez (Rodriguez et al., 1998). In this study, urban land parcel was considered as the primary hydrologic unit of a detailed hydrologic model that was used in conjunction with the stormwater network for catchments response analysis under a wide variety of storm events. In fact, the development of Geographic Information Systems (GIS) has vastly increased the quality and availability of data required for hydrological modelling. It can also be concluded that, the increase in record of urban areas' information as GIS coverages has paved the way of integration of modelling software and GIS. Since in many cities, spatial information is recorded in a Geographic Information System (GIS) databases by municipalities and GIS is a powerful tool for the management and analysis of spatially referenced data, GIS has been used for data preparation in this study.

2.3.2

GIS to Analyze Model Outputs

In addition to their use as a data preparator for model development, GIS can also be utilized to analyze simulation output. GIS has been used to produce maps from the simulation output by many researchers (Sorensen et al., 1996; Xu et al., 1998). DHI developed a modelling tool named MIKE GIS to interface between ArcInfo or ArcView and a flood assessment model, MIKE. MIKE GIS, first developed to study flood management in Bangladesh, utilizes both the maximum flood extent and the time series of flooding to analyze expected damages from 9

peak inundation and the duration of inundation (Sorensen et al., 1996). In this work, GIS is used not only as mapping tool but also as spatial analysis that adds to the information gained from the model output. Shamsi reports the difference between transferring data files between ArcView and SWMM. He created an interface that uses SWMM output as a spatial coverage layer in a GIS (Shamsi, 1998). GIS has improved the visualization and analysis of data obtained from model simulations.

2.3.3

GIS as Spatial Analyst

GIS has powerful and well-built spatial analysis functions that can be applied in hydrological model development. Along with the development of GIS technology, land-use maps, Digital Elevation Models (DEM), soil imperviousness maps, contour data, digital orthographic aerial photos and piping-network maps of the drainage area can be utilized to extract input parameters for rainfall-runoff models (Seth et al., 2006). One of the most important control parameters of an urban drainage model is impervious area. A methodology was described by Fankhauser (Fankhauser, 1998) to estimate impervious area from color infrared aerial photographs and orthophotos. Imperviousness was estimated to within 10% of the value determined manually. However, due to high deviation for individual catchments, the methodology was recommended only for large projects. GIS is also widely used to calculate hydrographic properties of terrain. GIS functions for overland flow path delineation and flow properties calculation from topographic data were reported by several researchers (Olivera et al., 1996; Cluis et al., 1996). Detailed spatial information (aerial photograph, GIS databases of contour elevations, streams, buildings, roads, etc.) was utilized to develop a stormwater model in Tallahassee, FL using XPSWMM software (Mercado, 1996). Flow gradients were defined and sub-basin delineation were performed from the Triangulated Irregular Network (TIN) and Grid functions. A distributed GIS-based urban hydrologic model was developed by Herath et al. (Herath et al., 1996) from high-resolution raster data sets. The hydrologic model was integrated with the GIS by writing the numerical simulation codes within the GIS and hence, the problems of data

10

transfer was reduced. However, the computational time of hydrologic simulation was too high to be employed for practical purposes.

2.4

GIS and Urban Stormwater Models

GIS can be linked with hydrologic and hydraulic modelling in different ways. It may be used to calculate model input parameters which can be transferred to and from the model data set using a batch processor. It can be utilized as an intermediate program to import data from a variety of common third party GIS software and to export to a model data set. GIS can also be operated as program interface where the input file is created in GIS and the model is executed independently from the GIS. Whatever be the integration process, linking GIS with modelling provides the potential of increasing the degree of spatial sub units both in number and in descriptive detail. Initial efforts focused on developing GIS tools to derive urban terrain descriptions and to calculate input parameters of existing urban hydrologic models (Ichikawa and Sakakibara, 1984; Thorpe, 1988). A map-based system, MAPHYD, played significant role in developing distributed hydrologic models for urban areas (Johnson, 1988). However, the system was not able to model street or sewer flows. Then a gridded overland flow model was developed that represented watershed as a series of parallel linear reservoir cascades in suburban catchments (Bergman and Richtig, 1990). In this way, research efforts were being carried out to improve terrain representation which paved the way for advanced modelling of surface water and storm sewer flows. Djokic and Maidment played a significant role in applying GIS technology to urban hydrologic modelling. They developed a GIS tool to evaluate the connectivity and the capacity of the storm sewer network (Djokic and Maidment, 1991). Automatic GIS-based procedures able to define small drainage basins and surface flow paths within urban areas were developed by Smith (Smith and Vidmar, 1994). Hence, traditional terrain analysis procedures were modified to incorporate man-made features. Danish Hydraulic Institute executed numerous modelling systems for river basins, urban drainage, sewer systems, rivers and channels, es11

tuaries and coastal waters during the past decades and since 1998 have started to link their models with the ESRI (Environmental Systems Research Institute) family of GIS products. Conjunction of stormwater models with GIS data, such as, the USEPA BASINS toolkit (USEPA, 2001) has made possible a more detailed simulation of infrastructural controls. The recent advances in GIS technology and data availability have paved the way for new possibilities in the field of urban storm runoff modelling. GIS is utilized to improve urban stormwater analysis by using land-use parcel boundaries (apartment, commercial, low and medium-density residual and school) (Sample et al., 2001). In contrast to current modelling approaches based on gridded data (Hsu et al., 2000; Ettrich et al., 2005; Dey and Kamioka, 2007), Amaguchi (Amaguchi et al., 2012) proposed the use of a vector-based catchment description in simulation of urban storm runoff and flood inundation. The model applied GIS to divide urban environment into homogeneous primary elements that are hydraulically connected and finally combined to form a complete catchment for rainfall runoff analysis. Besides creating pre-processed data files within the GIS, the integration of GIS and several hydrologic process models are studied by several researchers (Charnock et al., 1996; DeVantier and Feldman, 1993). Several commercial modelling products featured a data management program to facilitate data transfer between the GIS and urban drainage models. Among many urban hydrologic models, the Storm Water Management Model (SWMM) (Rossman, 2010) is the most widely used one to simulate all aspects of urban hydrologic and quality cycles, including rainfall, snowmelt, overland flow, flow routing through a drainage network. The Runoff Block of the EPA SWMM was integrated with Arc/INFO and AUTOCAD to assess the ability of both of the systems to define input variables (such as, flow lengths, area etc.) required for SWMM simulation (Huber et al., 1991). Smith analyzed how explicit routing of stormwater improves hydrograph fit utilizing GIS raster data of urban impervious cover in combination with SWMM (Smith, 1993). Shamsi studied the linkage of ArcView and SWMM and ArcView was found to be a user-friendly environment to perform stormwater modelling (Shamsi and Fletcher, 1996). Shamsi later distinguished three forms of information exchange between ArcView and SWMM namely, data interchange, program interface,

12

and program integration (Shamsi, 1998). The interchange and interface methods only deal with the transfer of information between ArcView and SWMM while in the third method, integration, SWMM is executed within ArcView as the hydrologic and hydraulic simulator (Shamsi, 1998). Shamsi also defined integration steps to combine a SWMM Graphical User Interface (GUI) with GIS to provide a complete data environment (Shamsi, 1998). The original SWMM model, written during the '70s, has continued to evolve since being ported to personal computers. Many other researchers and interested modelers, like, consultants, local governments and third party developers added their own refinements to the model that upgraded the original program code. The name of XP-SWMM (by XP-Software 1998) and PCSWMM (by CHI 1998) can be mentioned as example of this type of refinement. This work utilizes PCSWMM for drainage network simulation. It can be demonstrated from the above discussion that, scale (level of subdivision of model elements, input data resolution, or both) has a significant effect on water quantity predictions. Most of the research on the scale effects in stormwater modelling are significantly focused on rural hydrology. In addition to that, most of the detailed distributed stormwater modelling for urban area deals with the development of grid-based models. In a grid-based model, direct runoff from each grid is usually calculated on the basis of runoff coefficients or estimated fractions of impervious area in different land use categories. As a result, the high level of heterogeneity of an urban area is not properly characterized. Moreover, in a gridded model, it is difficult to identify the exact location of over flow or to recommend a location for control measures installation since complex subsystems of an urban drainage system are not properly addressed. Therefore, building spatially distributed detailed drainage modelling for urban areas is crucial for accurate evaluation of the effectiveness of various measures. Recognizing these facts, this study focuses on developing a methodology that supports building a detailed distributed urban drainage model where each homogeneous landuse type is represented as a single subcathment. GIS being utilized by many municipalities to record spatial information and have developed into a powerful tool for the management and analysis of spatially referenced data; has been used in this work to create data layers and to extract necessary model input parameters. The whole process of parameterization is automated by

13

developing and executing programming scripts. PCSWMM is utilized for model simulation as it supports the GIS layers and does not require any separate data transfer system.

2.5

Limitations of GIS Data

GIS has emerged with the development of stormwater modelling and is being developed day by day. But uncertainty is unavoidable in GIS data sets and might be considered as limitations of GIS data. Uncertainties may take place with regard to space, time or attribute. Spatial inaccuracies may result from incorrect identification of the location of any entity (i.e. point, line or polygon). Attribute errors can occur if the attribute data for objects or the data values for sample points used to interpolate a field are measured or recorded incorrectly. Inaccuracies in recorded time can result in temporal error. Overall, the uncertainty indicators can be modeled for six aspects, such as, lineage, position uncertainty, attribute uncertainty, logical consistencies, completeness, and temporal uncertainty (Wang et al., 2005). Topography plays a significant role in many water resources processes including hydrologic modelling. In recent years, the uncertainty in topological relations caused by the inaccuracy or uncertainty of spatial data has caught the attention of the GIS field. Raster based Digital Elevation Data are commonly used to represent the topography in GIS supported regional water resources studies. Inaccuracies with DEMs constitute uncertainty which is propagated with manipulation of elevation data into hydrologic analysis results. Horizontal resolution and vertical accuracy are the two principal parameters of DEM quality. Researchers indicate that hydrologic models can be very sensitive to elevation data uncertainties and recommends to propagate the uncertainties through application analyses to identify their effects on modelling outputs (Wu et al., 2008). Technique to evaluate elevation uncertainty in water resources modelling are also reported in this study.

14

2.6

PCSWMM

PCSWMM is a urban drainage system modelling package. It is a spatial decision support system for EPA SWMM5 (Storm Water Management Model) utilized for stormwater management, wastewater and watershed modelling. PCSWMM requires no third party software to synchronize with GIS data. In addition to that, most projections, datums and ellipsoids, provides interaction with a large number of GIS data formats are supported by this software. Since the data preparation of this research work is performed using GIS layers, PCSWMM has been selected to be used for model simulation. The software can be used to perform both single event or long-term (continuous) simulation of runoff quantity and quality, primarily for urban areas. Its runoff component operates on a collection of subcatchment areas that receive precipitation and generate runoff and pollutant loads. The routing portion transports this runoff through a system of pipes, channels, storage or treatment devices, pumps and regulators. PCSWMM tracks the quantity and quality of runoff generated within each subcatchment and the flow rate, flow depth, and water quality in each pipe and channel during a simulation period. The physical processes used by PCSWMM to model stormwater runoff quantity and quality are reviewed in this section.

2.6.1

Surface Runoff

PCSWMM assumes subcatchment surface as a nonlinear reservoir in case of surface runoff calculation as shown in Figure 2.1. Inflows consist of precipitation and the runoff from other upstream subcatchments whereas outflows are generated from infiltration, evaporation and surface runoff. When the depth of water d exceeds the maximum depression storage, dp ; surface runoff, Q takes place and is governed by Manning's equation as given below:

Q=W

1.49 (d - dP )5/3 S 1/2 n

(2.1)

where W stands for the subcatchment's hydraulic width, S stands for its slope and n stands 15

EVAPORATION

RAINFALL, SNOW MELT

d

Q dp

INFILTRATION

Figure 2.1: Surface runoff modelling in PCSWMM (Rossman, 2010) for its Manning roughness value (Rossman, 2010).

2.6.2

Infiltration

PCSWMM provides three options for modelling infiltration, namely, Horton's Equation, Green-Ampt Method, Curve Number Method (Rossman, 2010). Horton's equation is mainly an empirical model of infiltration calculation. This method assumes that infiltration decreases exponentially from an initial maximum rate to some minimum rate over the course of a long rainfall event. A decay coefficient describes the rate of decreases over time and the time required by saturated soil to completely dry. Green-Ampt method is based on the assumption that a sharp wetting front exists in the soil column, separating soil with some initial moisture content below from saturated soil above. The input parameters required for this model are the initial moisture deficit of the soil, the soil's hydraulic conductivity and the suction head at the wetting front. Curve Number method uses the NRCS (SCS) Curve Number method of runoff estimation for infiltration calculation. The approach assumes that the total infiltration capacity of a soil can be found from the soil's tabulated Curve Number. This capacity is depleted as a function of cumulative rainfall and remaining capacity during a rain event.

16

2.6.3

Flow Routing

Flow routing is performed by solving the equation of conservation of mass, energy and momentum i.e., the Saint Venant flow equations. Steady Flow Routing, Kinematic Wave Routing and Dynamic Wave Routing can be carried out based on the level of sophistication. Steady Flow routing is the simplest of all that assumes a uniform and steady flow within each computational time step. It translates inflow hydrographs at the upstream end of the conduit to the downstream end without any delay or change in shape. The normal flow equation is utilized to link the flow rate to flow area (or depth). This type of routing cannot account for channel storage, backwater effects, entrance or exit losses, flow reversal or pressurized flow and is insensitive to the time step employed. This form of routing is appropriate for preliminary analysis using long-term continuous simulations. Kinematic Wave Routing solves the continuity equation and a simplified form of the momentum equation based on the assumption that the water surface and the conduit has the same slope. The maximum limit of flow is the full normal flow value within a conduit. This method is an accurate and efficient routing method for long-term simulations when backwater effects, entrance or exit losses, flow reversal or pressurized flow etc. are not incorporated. Dynamic Wave routing solves the complete one-dimensional Saint Venant flow equations that consist of the continuity and momentum equations for conduits and a volume continuity equation at nodes. Channel storage, backwater, entrance or exit losses, flow reversal and pressurized flow can be represented using this form of routing equation. Since it couples together the solution for both water levels at nodes and flow in conduits, it can be applied to any general network layout, even those containing multiple downstream diversions and loops.

17

2.6.4

Surface Ponding

When the flow into a junction exceeds the capacity of the system, an additional `surcharge' depth can be specified in PCSWMM so that the excess volume can be stored at the top of the junction and can be reintroduced into the system as capacity permits. Under Kinematic Wave flow routing, the ponded water is stored simply as an excess volume. For Dynamic Wave routing, the excess volume is assumed to pond over the node with a constant surface area. This amount of surface area is an input parameter supplied for the junction. PCSWMM is a special decision support system for stormwater management, stormwater and watershed modelling that supports most projections, datums, and ellipsoids and provides interaction with a large number of GIS formats, as well as topological operations and querying. The software automatically maintains standard US EPA SWMM5 models from GIS data and synchronizes in both directions. After extracting input parameters from geospatial databases, PCSWMM is used in this study for drainage network analysis.

2.7

Flow Direction Algorithms

Flow direction algorithms are used to define the overland flow path of water within a catchment. There are a number of flow direction algorithms followed to delineate the flow direction of water. The most commonly used algorithms are reviewed in this section.

2.7.1
2.7.1.1

Single Flow Direction Algorithms
Deterministic Eight-node (D8)

The deterministic eight-node (D8) algorithm represents the flow of rivers and streams and flow convergence in valleys. It is a single flow directional approach based on the steepest slope. There are eight valid output directions, relating to the eight adjacent cells into which flow could travel. The algorithm calculates the slope gradient of each of the eight neighbor cells of the center cell and defines flow direction to the cell having the maximum gradient. If 18

the descent to all adjacent cells is the same, the neighborhood is enlarged until the steepest descent is found. In this algorithm, the aspect (measured degree clockwise from north) is used to mark the flow direction. However, this method can't be utilized to simulate divergent flows since it defines the possible flow direction to one cell only (Lam, 2004).

2.7.1.2

Random Eight-node (Rho8)

The random eight-node (Rho8) algorithm uses randomness in finding the flow direction to break the parallel flow paths developed by D8 algorithm. The algorithm identifies all neighboring cells in the downslope, calculates their slope gradient and selects a number from a table of random numbers to direct the flow to one of these cells. These numbers are developed based on slope weight bases so that the steepest gradient has the greatest probability of being selected. One of the limitations of this method is that, different flow networks can be developed each time the algorithm is used since the flow direction is relying on a table of randomness. As a result, overestimation or underestimations in attributes can take place (Lam, 2004).

2.7.2
2.7.2.1

Multiple Flow Direction Algorithms
FD8

The FD8 multiple flow direction algorithm directs flow to more than one cell based on slope weighted bases, as shown in Figure 2.2. In addition to slope gradients, the algorithm uses two weights 0.5 and 0.35 for cardinal and diagonal directions respectively. These weights to calculate the proportion of flow directed to three cells from the center cell and to assign the flow to each cell in a three by three moving window to all cells.

19

103

101

102

102

100

98

c

101

96

95

a

b

a = 0.50*tan((100-96)/dx1) = 47.34%
b = 0.35*tan((100-95)/dx2) = 28.99%

c = 0.50*tan((100-98)/dx1) = 23.66%
Figure 2.2: Flow direction allocation using FD8 algorithm (Beven et al., 1994) 2.7.2.2 Digital Elevation Model Network (DEMON)

This method defines flow direction from the local aspect angle. The flow is described as a rolling ball released from the center of the grid cell to the steepest grade. When two opposite pixels have the same elevation, three by three moving window is applied to identify the lowest cell. This approach transforms the catchment into irregular shapes, defined by orthogonal and equipotential lines. The width of the stream tube increases over divergent topography, decreases over convergent topography and remains constant over planar surfaces. When the direction of flow entering the grid cell is 90 degrees or its multiples, the flow is directed to the neighbor cell; otherwise, the flow is splitted to the cardinal cells (Lam, 2004).

2.7.2.3

D

This algorithm incorporates several themes from the DEMON algorithm. Triangular faces are used to calculate flow direction. A down-slope vector is drawn from each center cell with an angle that lies within or outside 45c . When the slope vector angle falls within the facet, it indicates the steepest flow direction of that facet, otherwise, the steepest flow occurs along the steepest edge (Lam, 2004).

20

2.8

Summary

This chapter presents the concepts essential for better understanding of the subject matters of this study. The chapter greatly covers scale effects in stormwater modelling and different aspects of utilizing GIS in urban drainage modelling. Recognizing the potential of GIS to analyze the digital databases with sophisticated hydrologic simulation models, this research work utilizes GIS in developing the new approach of data preparation and parameterization. The fine resolution of the segments, however, involves lots of tedious work in data preparing. Therefore, the whole task of data processing is performed by executing programming script written in Python 2.7. The used modelling software, PCSWMM; its elements and features are presented in this chapter. The chapter also describes the hydrological processes that the model considers. Several flow direction algorithms are also reviewed.

21

Chapter 3 Model Development and Simulation

3.1

Outline of the Work

Development of a detailed distributed urban drainage model and its evaluation by applying it on a case study area are the main purposes of this study. The methodology can be summarized in a number of steps: (1) GIS database of a drainage

system is created using the topological primitives, points, lines and polygons to represent the salient characteristics of the drainage area and infrastructure, (2) the database are used to create an input data set for the hydrologic simulation model, such as, PCSWMM, (3) the hydrologic simulation is performed and (4) the model performance is evaluated. The steps of this work are shown in a flow chart in figure 3.1. The GIS data layers build up the main model structure. To represent the heterogeneity of urban landscape in detail, separate layers for homogeneous landuse types and sewer components are prepared using GIS tools. Programming scripts are written in Python 2.7 to calculate and assign various spatial parameters, such as, subcatchment outlets, width, slope etc. to the data layers. The programming codes are also executed to assign other variables to the databases, such as, roughness co-efficients, depression storage values, infiltration pa-

22

Roofs Create Geospatial Database from Aerial Photograph Green Area Driveway Side Walks Road

Delineate Subcatchment Attributes Execute Python Scripts Define Network Parameters Add Parameters to Layer Attributes

Import Layers in PCSWMM

Run Simulation

Evaluate Methodology

Figure 3.1: Outline of the work rameters, raingauge information etc. so that the whole process of data preparation becomes automated (scripts are added in Appendix B). Then all the layers are imported to PCSWMM for rainfall-runoff analysis. Finally, the model performance is evaluated by comparing the simulated flow data with the observed one.

23


Scale: 1cm1:2,160 = 20m SCALE
Figure 3.2: Aerial photograph of a residential area

3.2
3.2.1

Data Preparation
Creation of Data Layers

Separate GIS data layers presenting subcatchments of different landuse types and sewer network components build up the main model structure. Since the collected GIS data layers were of coarse resolution and did not provide with enough detailed information; the preparation of the spatial database representing the study area was the very first step of the model development. The photogrammetric data is used to get the information on homogeneous landuse types and to develop respective subcatchment layers. Classification of the landuse types is performed to obtain the homogeneous subcatchment types. For example, five types of landuse classes, such as roofs, green area, driveways, sidewalks and roads can be identified from the above aerial photograph (Figure 3.2). The next step is to create separate GIS layers for each landuse class. The layers representing the sewer network and junctions are collected. The preparation of the subcatchment layers involves digitizing the polygons from the aerial photograph. Digitizing in GIS is the process 24

!

!

1 centimeter = 15 meters
Legend
Roofs Green area Driveways Side Walks Roads Conduits



!

#

#

!

Junctions OutFall

Figure 3.3: Data layers for each homogeneous landuse type and sewer network of 'tracing', in a geographically correct way, from the photogrammetric data. Each polygon of all the layers will be modeled as separate subcatchment with a view to build up a detailed drainage model. The GIS layers of the manhole locations and the drainage network are used to extract information of sewer junction and sewer network. Layers of sewer network, junction and homogeneous subcatchments for the five landuse types derived from the above aerial photograph (Figure 3.2) are shown in Figure 3.3.

25

3.2.2

Extraction of Model Input Parameters

Parameters in a hydrological model are often categorized as measured parameters or inferred parameters (Shamsi and Fletcher, 2001, 2002). Measured parameters reflect the geometric characteristics of objects, such as, pipe size, surface elevation, catchment area, manhole depth etc. On the other hand, inferred parameters cannot be measured directly and are inferred from models. This section explains briefly the methodology of determining various parameters required for simulation. The process of delineating the input parameters and assigning them to layer attributes is automated by accomplishing all the steps by executing Python scrips. The codes used in this research is customary included in Appendix B.

3.2.2.1

Subcatchment Attributes

Subcatchment attributes are specified based on the land-use type of a GIS layer. Homogeneous subcatchments are used for the realistic representation of the sewershed. i) Identifying Outlet: Subcatchment outlets of different subcatchments are delineated based on Flow directions. The delineated outlet or the closest manhole is assigned as subcatchment outlet whichever nearest. Figure 3.4 presents the steps of delineating subcatchment outlet according to the written Python script as given in the Appendix B.1. Digital Elevation Model (DEM) is utilized to delineate the direction of flow following the D8 method (Jenson and Domingue, 1988). The method determines the direction of the steepest descent from each cell. D8 algorithm is used in this work since in PCSWMM runoff from a subcatchment is directed to a single outlet. The flow direction raster is converted to vector data layer and clipped by the subcatchment layers. This intersection produces the flow direction codes within each subcatchment. Then the total count of each type of flow direction code within a subcatchment is performed. 3.5(b) shows each subcatchment with the flow direction codes. Since each homogeneous subcatchment is very small in area, the code having the maximum count i.e is assumed to determine

26

Find the nearest manhole

Assign as outlet in attribute table

Delineate Flow Direction

Count each type of flow direction code within a subcatchment

Find the code having the maximum count

Update that code in the attribute table

Find the nearest subcatchment in that direction

Yes

Distance to nearest subcatchment > distance to nearest manhole?

Don't update outlet

No Assign that subcatchment as outlet

outlet

Figure 3.4: Steps of delineating subcatchment outlet the direction of flow from that specific subcatchment. The nearest subcatchment or the nearest manhole to that specific direction is searched (for example, the code '4' refers that the flow is directed towards to the south) and assigned as the outlet of that subcatchment as shown in 3.5(c). ii) Delineating Width: The Figure 3.6 shows the step by step processes of delineating subcatchment width based on the developed programming scripts given in Appendix B.2. Initially, the geometric width of the subcatchments are assigned. Then subcatchment width is determined from 27

32

64

128 1

16 8 4

2

(a) Flow Direction Codes
8 4 4 4 4 4 8 4 4 4

4 4

4 4 4 2 4 2 4 4 8 2 4 4

1

0 0.001 0.002 0.004 0.006 0.008 Scale: 1 cm = 5.5 meters 1 Miles



2 4

8 1

0 0.001 0.002

0.006 0.008 Scale: 1 0.004 cm = 5.5 meters Miles 1



4

Legend
1 Roads House Roofs 1 Driveways Green Area 1 Side Walks 1 2 4 1 2

8

Legend
Green Area 1 Driveways 1 Roads House Roofs 16 16 1 Side Walks 1 8

4

4

(b)

(c)

Figure 3.5: Flow directions with codes and delineated subcatchment outlets the flow direction raster by executing python code and updated in the GIS data layers. The flow direction raster acts as the base for subcatchment width delineation. This raster is utilized to produce another raster that represents the upstream distance of each cell along the flow path. The `Flow Length' tool of ArcGIS is utilized for this purpose. Figure 3.7(a) presents the raster showing the flow distance of the cells from the outlet along with the outline of the subcatchments. The `Zonal Statistics' tool is used to find out the maximum and the minimum flow length value within each subcatchment. The difference between these two values specifies the flow length of a subcatchment. The corresponding width is calculated by dividing the subcatchment area by the flow 28

Calculate subcatchment width from area and perimeter

Assign as width in attribute table

Delineate Flow Direction

Delineate upstream flow length of cells along flow path

Find the maximum and minimium flow length within each subcatchmet

Flow length = maximum flow length - mimum flow length

Yes

Flow length = 0?

Don't update width

No Width = subcatchment area flow length

update width

Width

Figure 3.6: Steps of delineating subcatchment width length. In case of very small subcatchments, the maximum and the minimum flow length becomes the same value and their difference becomes zero. In such cases, the geometric width is assigned as the flow width. Figure 3.7 (b) shows the maximum flow distance, the minimum flow distance and the corresponding flow length within a single subcatchment derived in the above mentioned way. In case of the roofs, the geometric width is assigned as the subcatchment width. Geometric width of a subcatchment is determined from its area and perimeter calculated by applying `Calculate Geometry' tool of ArcGIS.

29

m 361.6297 m 373.7007 m 12.07108

Max. flow distance Min. flow distance Flow Length

m 352.4875
19.14215 m

m 371.6297

Scale: 1cm = 20 m



Scale: 1cm = 1.5 m
382.8429 40.35538



15 330.4164

(a)

(b)

Figure 3.7: (a) Flow Length raster showing the upstream flow distance of the cells from the outlet (b) Calculated flow length of a single subcatchment iii) Other Subcatchment Properties: The area of the subcatchments are calculated by using the `Calculate Geometry' tool of ArcGIS. Slope of the subcatchments are derived from Digital Elevation Model (DEM). The steps of defining subcatchment slopes are given in Figure 3.8. 'Slope function' of ArcGIS is utilized to calculate the percent rise i.e. the rate of change of elevation for each cell of the DEM. The raster representing the slope of the whole study area is then converted to vector data layer. This layer is masked by all the data layers to have the slope values within each subcatchment. Average slope value within each subcatchment is calculated by executing python 2.7 code. This value is then added to the layer attribute tables. Figure 3.9 shows average slope of some of the homogeneous subcatchments calculated from the DEM. In case of the house roofs, the model input with a wide range of slope (1% to 40%) did not produced any change in simulation result. Field inspection shows, asphalt shingles are the most commonly used roofing material in Ontario. Ontario Building

30

Calculate slope of cells from DEM using `Slope Function'

Calculate average slope within each subcatchment

Assign the value as Subcatchment slope to the attribute table

Slope

Figure 3.8: Steps of delineating subcatchment slope Code (Regulation, 2012) recommends a minimum slope of 1 in 3 for roofs made of asphalt shingles. Therefore, a constant slope of 33% is assigned for all the house roofs of the case study area. Percent imperviousness of the subcatchments are found out based on the landuse type. In this study, each layer consists of subcathments of homogeneous characteristics. Therefore, a percent imperviousness of 0% was assigned to all the subcatchments of the `Green Area' data layer. The rest of the layers (roofs, road, driveways, sidewalks) have impervious surface and the assigned value of percent imperviousness is 100%. Manning's roughness value is selected based on text book values (McCuen et al., 1996). For the pervious green areas, a roughness value of 0.15 is added to the feature attributes. The house roofs and the sidewalks are assumed to have concrete lining and 0.014 is assigned as Manning's roughness value in these layers. The roads and the driveways are assumed to be made of smooth asphalt and a roughness value of 0.011 is utilized. Typical depression storage values are entered into the database as suggested by ASCE (ASCE, 1992). The value is assumed to be 2.54mm and 5.08mm for impervious and pervious surface respectively. Percent of the impervious area with no depression storage 31

33

2.30005 33

2.61727

2.42187

2.36869

33

2.00293

0.00125 0 0.00250.0050.0075 0.01 Scale: 1 cm = 4 meters Miles
Legend
Roads
2.40377



2.63344 2.56569

2.42922

2.3275

Side Walks

2.55204

1.59666

Green Area House Roofs Driveways

2.09635

2.74101

Figure 3.9: Calculated slope of subcatchments was chosen to be 0% for all the layers.

3.2.2.2

Outfall Attributes

At the last end of the drainage network, an outfall is added. A separate GIS data layer is created to define its location and assign other properties. The rim elevation of the outfall is assumed to be the same as the ground elevation of that point found from DEM.

3.2.2.3

Junction Attributes

The collected data layer of the manhole locations are clipped using GIS tools to create the layer of sewer junctions of the study area. The manhole locations are modeled as junctions.

32

No treatment function or inflow (direct, dry weather and/or RDII flow) are assigned to the nodes. Ground elevations from the DEM are input as the rim elevation of the nodes.

3.2.2.4

Conduit Attributes

The geospatial database containing the information regarding location and material of the installed sewers within an area can be used to model the sewer network. The conduit lengths are calculated by utilizing `Calculate Geometry' tool. Inlet elevations and outlet elevations are found from the invert elevations of the inlet and outlet junctions. Manning's roughness value is selected based on the conduit material. Inlet nodes and outlet nodes are defined based on the junction locations.

3.3

Model Development and Simulation

All the geospatial databases of subcatchments, conduits and junctions are imported to the stormwater management model interface to develop the model. Raingauge is added for the study area and rainfall data are assigned to the raingauge. Infiltration model, start and end date of analysis, time steps for routing and routing method are selected and the simulation is performed to get the rainfall-runoff analysis of the area.

3.4

Case Study

The developed methodology described above is used to perform the rainfall-runoff analysis of a case study area. The simulation result is compared with the monitored flow data of the case study area for the assessment of the methodology.

33

3.4.1

Study Area

A typical urban residential area is chosen as the case study area for the implementation of the developed approach. The study area is located within the Lakeview District Neighborhood in the City of Mississauga having an approximate area of 37152m2 . The site is outside of the Cooksville Creek Watershed and drains directly into the Lake Ontario. For analysis, the part of the `Northmount Avenue' that is intersected by `Atwater Avenue' and `Fourth Street' and the surrounding area, as shown in Figure 3.10, is selected for the developed methodology to be applied.

Scale: 1cm = 2 Km

Figure 3.10: Location of the case study area

3.4.2

Collected Data

The collected data, their source and format are tabulated in the Table 3.1. A brief description of collected data is also included in the following subsections.

34

Collected data Aerial photograph Digital Elevation Model (DEM) Soil information Junction information Conduit information Rainfall data Runoff data

Developed by Ontario Ministry of Natural Resources The City of Mississauga

Format Image file GIS Raster Data

Ontario Ministry of Natural Resources The City of Mississauga The City of Mississauga Credit Valley Conservation Authority Credit Valley Conservation (CVC)

GIS Raster Data GIS shapefile GIS shapefile Excel Data sheet Excel Data sheet

Table 3.1: Collected Data 3.4.2.1 Rainfall Data

The collected rainfall data and flow data are observed by the Credit Valley Conservation (CVC) Authority, a community based environmental agency based in Ontario, Canada. Rainfall data of eighteen consecutive months (5th July 2010 to 31st December 2011) are utilized in this work for model simulation. Among the rainfall data of these eighteen months, the record of the 5th July, 2010 to the 2nd September, 2010 and of the 1st to the 20th November, 2010 is monitored by the Riverwood gauge. Rainfall record of the 3r d September to the 31st October, 2010 and of the 26th October, 2011 to the 22nd November, 2011 is observed by the Mississauga gauge, S01. The record of the 21st November, 2010 to the 25th October, 2011 is observed by the Cawthra gauge and of the 23rd November, 2011 to the 31st December, 2011 is observed by the Mississauga gauge, S03. Rainfall volume is recorded in milimetre at 5 minute intervals.

35

CVC Climate Station

Case Study Area

Riverwood Gauge

Scale: 1cm = 800m

Figure 3.11: Location of Riverwood Gauge and CVC Climate Station

Cawthra Gauge

Case Study Area

Mississauga Gauge S01
Scale: 1cm = 100m

Figure 3.12: Location of Cawthra Gauge and Mississauga Gauge S01

36

The locations of the raingauges are shown in the Figure 3.11 and 3.12. Both the Cawthra gauge and the City of Mississauga rainfall gauge, S01 are located within about 1km from the study area. A summary of the rainfall events are given in Table 3.2 to 3.4. The duration and the intensity of the events used in this work are plotted in Figure 3.13, along with the Intensity-Duration-Frequency (IDF) rainfall curve for the City of Mississauga.

Figure 3.13: Plot of rainfall event duration and intensity in IDF curve for Mississauga (Source of
IDF curve: Mississauga Transportation and Works)

3.4.2.2

Runoff Data

The Credit Valley Conservation Authority (CVC) have been monitoring water quality and quantity at four different sites (shown in Figure 3.14) of Lake View District neighborhood in the City of Mississauga. In this study, the model is applied on the drainage area that contributes to the manhole LV1, located near the intersection of the Northmount Avenue and the 4th street. Therefore, the simulated flow is compared with the flow data monitored

37

LV1
LV3

LV2
LEGEND
Curb and Gutter Control Station Traditional Swale Monitoring Station LID Monitoring Station

LV4

Source: Credit Valley Conservation Authority

Figure 3.14: Location of monitoring manhole LV-1 (source: Credit Valley Conservation Authority) at the site, LV1. The flow meter recorded the flow and water level in every five minute.

3.4.2.3

Other Data

The Digital Elevation Model (DEM) of 5m resolution is collected from the City of Mississauga through Ryerson University library. Geospatial data of the existing sewer network and manhole locations are provided by the City of Mississauga. Aerial photograph of the study area, downloaded from internet is originally developed by Ontario Ministry of Natural Resources in Southwestern Ontario Orthophotography Project (SWOOP) 2006 (Doe, 2011). The soil types were extracted from the digital soil survey coverage for Ontario developed by Ontario Ministry of Natural Resources (OMNR) (OMNR, 2003).

38

Event Date

Time

Gauge Name

Duration (Hr) 12.17 10.5 39.33 46.92 30.17 47.67 18.83 15.83 10.83 5.83 7.58 5.83 10.33 19.58 9.33 16.33 4.83 6.33 5.33 6.33 11.08 10.33

Peak Intensity (mm/Hr) 12.6 12 28.8 25.2 50.4 7.2 6 2.4 3.6 1.2 4.8 1.2 1.2 8.4 4.8 1.2 12 6 2.4 2.4 4.8 18

Mean Intensity (mm/Hr) 1.87 1.24 0.76 0.27 0.85 0.40 0.28 0.15 0.30 0.051 0.55 0.086 0.097 0.34 0.47 0.018 0.47 0.39 0.13 0.11 0.33 1.46

Total rainfall (mm) 22.8 13.1 30.1 12.8 25.8 19.2 5.4 2.4 3.3 0.3 4.2 0.5 1 6.7 4.4 0.3 2.3 2.5 0.7 0.7 3.7 15.1

Jul 09,2010d Jul 24,2010a Aug 21,2010d Sep 02,2010b Sep 27,2010c Oct 04,2010c Jan 07,2011c Jan 11,2011c Jan 15,2011c Jan 17,2011c Jan 18,2011b Jan 20,2011b Jan 24,2011c Feb 01,2011a Feb 05,2011c Feb 06,2011c Feb 17,2011b Feb 20,2011b Feb 24,2011c Feb 25,2011c Feb 26,2011c Feb 28,2011c

03:05 AM 11:05 AM 11:45 AM 16:15 PM 14:05 PM 14:40 PM 20:50 PM 21:20 PM 04:05 AM 06:50 AM 15:05 PM 22:05 PM 17:50 PM 22:50 PM 16:35 PM 19:35 PM 06:05 AM 19:50 PM 05:50 AM 07:35 AM 17:35 PM 01:05 AM

RiverWood RiverWood RiverWood RiverWood Miss. G. S01 Miss. G. S01 Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra

Table 3.2: Summary of Rainfall Events (from July 2010 to February 2011)
Notes:- a: Events used for validation, b: No Observed flow, c: Observed Data Missing, d: Observed flow very low

39

Event Date

Time

Gauge Name

Duration (Hr) 47.67 56.83 14.33 10.08 22.83 9.33 5.33 37.33 21.33 14.33 31.83 24.83 10.08 4.08 133.83 4.58 107.58 8.58 27.58 68.08 4.33 21.58 6.58

Peak Intensity (mm/Hr) 8.4 16.8 3.6 14.4 10.8 2.4 10.8 28.8 40.8 18 44.4 63.6 6 1.2 49.2 24 86.4 67.2 26.4 51.6 2.4 33.6 14.4

Mean Intensity (mm/Hr) 0.58 0.88 0.34 0.72 0.50 0.20 0.68 0.76 1.12 0.66 0.60 0.46 0.18 0.024 0.61 0.70 0.40 2.20 0.21 0.46 0.069 0.74 0.77

Total rainfall (mm) 27.7 50.2 5 7.3 11.5 1.9 3.6 28.2 23.9 9.4 19.2 11.3 1.9 0.1 81.4 3.2 43.4 18.9 5.9 31.1 0.3 16.1 5.1

Mar 04,2011c Mar 09,2011b Mar 15,2011c Mar 20,2011b Mar 23,2011c Mar 31,2011c Apr 10,2011b Apr 16,2011a Apr 19,2011a Apr 22,2011d Apr 25,2011d Apr 27,2011d May 06,2011b May 12,2011a May 13,2011a May 20,2011b May 25,2011a Jun 04,2011a Jun 06,2011a Jun 21,2011c Jul 31,2011a Aug 03,2011a Aug 31,2011a

12:20 PM 09:10 AM 22:10 PM 22:10 PM 02:40 AM 00:25 AM 08:05 AM 02:05 AM 15:05 PM 19:35 PM 10:50 AM 12:50 PM 08:20 AM 10:35 AM 17:20 PM 13:35 PM 17:20 PM 06:35 AM 23:20 PM 21:50 PM 07:05 AM 01:20 AM 23:05 PM

Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra

Table 3.3: Summary of Rainfall Events (from March 2011 to August 2011)
Notes:- a: Events used for validation, b: No Observed flow, c: Observed Data Missing, d: Observed flow very low

40

Event Date

Time

Gauge Name

Duration (Hr) 15.58 12.33 79.58 51.58 17.83 11.83 4.08 42.58 6.83 38.08 19.67 14.17 79.33 5.75 5.67 8.33 17.92

Peak Intensity (mm/Hr) 36 75.6 85.2 15.6 21.6 1.2 4.8 32.4 4.8 14.4 4.8 7.2 12 4.8 4.8 4.8 4.8

Mean Intensity (mm/Hr) 0.92 2.83 0.35 0.19 0.24 0.042 0.098 1.04 0.19 0.57 0.30 1.46 0.65 0.21 0.18 0.28 0.46

Total rainfall (mm) 14.4 34.9 27.8 9.6 4.4 0.5 0.4 44.3 1.3 21.9 6 20.8 52.2 1.2 1 2.4 8.4

Sep 19,2011b Sep 23,2011a Sep 28,2011a Oct 02,2011b Oct 13,2011c Oct 15,2011c Oct 16,2011c Oct 18,2011c Oct 24,2011a Oct 25,2011a Nov 09,2011b Nov 22,2011a Nov 27,2011a Dec 02,2011b Dec 21,2011b Dec 22,2011a Dec 27,2011b

09:35 AM 08:20 AM 00:20 AM 02:20 AM 20:35 PM 07:50 AM 15:50 PM 21:20 PM 04:35 AM 12:05 PM 05:45 AM 16:55 PM 07:10 AM 06:20 AM 11:55 AM 19:05 PM 10:00 AM

Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Cawthra Miss. G. S01 Miss. G. S03 Miss. G. S03 Miss. G. S03 Miss. G. S03 Miss. G. S03 Miss. G. S03

Table 3.4: Summary of Rainfall Events (from September 2011 to December 2011)
Notes:- a: Events used for validation, b: No Observed flow, c: Observed Data Missing, d: Observed flow very low

3.4.3

Preparation of Data Layers

The aerial photograph of the study area is used to find out the landuse types of that area. Landuse classification are performed based on viusal inspection. The aerial photograph is projected to `NAD 1983 UTM Zone 17N' in Arc GIS 10.1. Five types of landuse classes, such as roofs, green area, driveways, sidewalks and roads are identified within the study area. Separate layers are created for each homogeneous landuse type. 41

3.4.3.1

Subcatchments

Subcatchments outlets are derived according to the method described in section 3.2.2.1. The road sections have the lowest elevation and all the collecting manholes are situated on the road sections. Therefore, all the road sections are assumed to drain only to the nearest manhole. Since the driveways of the case study area have a downward slope towards the road section, they are assumed to drain to the road section or to the manhole, whichever is nearest. The house roofs of the study area are connected to downspouts that drain water into the frontyards. Therefore, in case of the roofs, the nearest frontyard is considered as the outlet. If a frontyard is not available, the nearest green area is considered as the outlet of a house roof. A different scenario is also explored in this work. Another model structure is also developed assuming that all the roofs are draining into the backyards. The outlets of the rest of the subcatchments are derived in the same way as described earlier. After defining the outlets, they are assigned to the related layers. The area, width, slope, percent imperviousness and other subcatchment properties are extracted according to the methodology explained in section 3.2.2.1.

3.4.3.2

Outfall

The outfall attributes are added to the layer created for the outfall of the case study area. Ground elevation is assumed to be the rim elevation of the outfall. The minimum invert depth requirement is 3.2m for storm sewers in the City of Mississauga (Mississauga, 2009). The difference between the invert elevation and the rim elevation is assumed to be 4.0m. No tide gate, inflows or treatment function is assigned to the outfall. The `Free' outfall boundary condition is selected i.e. no tail water condition occurs and the stage is determined by the minimum of critical flow depth and normal flow depth in the connecting conduit.

42

3.4.3.3

Junctions

The collected GIS databases of the manhole locations and the drainage network are used to build up the layers of sewer junction and sewer network. The catch basins are eliminated to avoid complexity in modelling. Junctions are added in the location of manholes. Ground elevations from the DEM are assumed to be the rim elevation of the nodes. A minimum invert depth of 3.2m is suggested for storm sewers by Transportation and Works Department of the City of Mississauga (Mississauga, 2009). Therefore, 3.5m is assigned as the height between the invert and the rim elevation. Tide gate, treatment functions or inflows (direct, dry weather and/or RDII flow) are not assigned to the nodes. The value of initial depth, surcharge depth and ponded area are assumed to be zero.

3.4.3.4

Conduits

The layer representing the drainage network of the City of Mississauga is subset to get the network of the study area. Defining conduit lengths and inlet and outlet nodes are explained in Section 3.2.2.4. Since all the conduits are made of concrete, a Manning's roughness value of 0.01 is assigned to the attribute table. Since only three conduit sections are analyzed, the entry and exit loss co-efficients are ignored in this study. No flap gate and initial flow is assumed to exist. All the conduits are assumed to have circular cross section with 1m diameter since the minimum suggested value is 975mm (Mississauga, 2009).

3.4.4

Model Build Up and Simulation

In this research work, PCSWMM is used for hydrologic simulation of the case study area. All the GIS data layers representing the subcatchments, outfall, conduits and junctions are imported to the PCSWMM interface to build up the model structure. The rainfall data recorded by of different raingauges are assigned to the one single raingauge to simplify the model development process. Since, this study deals with homogeneous subcatchments, internal routing of runoff between pervious and impervious areas are ignored. Runoff from

43

any subcatchment is assumed to flow directly to the outlet. Percent of runoff routed between subareas is assumed to be 0%. Exchange of groundwater with the drainage system is ignored with a view to simplify the model. Vertical movement of water infiltrating from the subcatchments and snow pack factors are also neglected for the same reason.

3M

2M

1M

Figure 3.15: Developed model in PCSWMM

Infiltration model based on Horton's law is selected for simulation. The soil type of the study area is the fox sandy loam (OMNR, 2003). Representative values for maximum and minimum infiltration rate of 203.2mm/hr and 67.73mm/hr respectively are used as model input (Rawls, 1983). For the sandy loam soil of the study area, a value of 4/hours is assigned as decay constant and 2days are assigned as drying time from the typical values suggested by SWMM User's Manual (Rossman, 2010). Maximum infiltration volume is assumed to be null. Kinematic wave flow routing analysis is performed to get the flows through the storm sewer network using a time step of 10s. The simulation is carried out for the long term continuous 44

event starting from 05 July, 2010 to 31 December, 2011 using PCSWMM 5.1.1279. The developed model in PCSWMM is shown in Figure 3.15.

3.5

Summary

This chapter covers how the background work for this study is performed to run the simulation. Aerial photograph is one of the most important data that is utilized to produce all the subcatchment layers. Collected GIS layers of sewer network and junctions are used directly in modelling after clipping. Digital Elevation Model (DEM) is another important source of information. Subcatchment outlet, width, slope etc. are delineated from the DEM using various GIS tools and functions. The extraction of these spatial properties are accomplished by developing and executing Python 2.7 programming scripts. All the model input parameters are also added to the data attribute tables by running codes. Execution of developed scripts made the steps of data preparation faster and more efficient. All these layers are imported to build up the model in PCSWMM and simulation is performed. The next chapter concentrates on the simulation results of this study.

45

Chapter 4 Results and Discussion
The developed methodology is utilized to model the drainage system of an urban residential catchment. For the case study, the generated subcatchments, junctions and sewer network are implemented on the PCSWMM platform to perform hydrologic simulation. Calibration is not performed with a view to obtain simulation outputs as close to the observed data as possible using real values of input parameters. All the spatial variables of the subcatchments are used directly. The hydraulic properties of the sewer network are also used without any calibration. Model performance is assessed (1) by comparing the pattern of the simulated hydrographs with that of the observed hydrographs, (2) by comparing the event peak flows and runoff volume obtained from simulation with that from the monitored data and (3) by analyzing comparison criteria, such as, percent error in peak ( p (%)), Nash criterion (CN ash ), bias criterion (Cb ), root mean square error (RSM E ) and Pearson's correlations co-efficients (R2 ).

4.1

Comparison of Hydrographs

The model outputs produced by PCSWMM are studied by comparing the simulated hydrograph with the observed one at event scale. All the rainfall event characteristics of these eighteen months are summarized in Table 3.2 to 3.4. The events that produced no flow or

46

10.0

20.0

8.0

15.0

6.0

10.0
L (l/s)
L (l/s)
4.0 (l/s) (l/s)

(l/s) (l/s) 5.0

2.0

0.0

0.0

l

(a) The event of 02/28/2011
80.0 70.0
40.0 50.0

(b) The event of 14/05/2011

60.0 50.0 40.0
30.0

L (l/s)

30.0 20.0

(l/s) (l/s)

L (l/s)

20.0

(l/s) (l/s)

10.0

10.0 0.0
0.0

(c) The event of 29/05/2011
20.0

(d) The event of 04/06/2011
20.0

(l/s) (l/s)

L (l/s)

(l/s) L

10.0

10.0
(l/s) (l/s)

0.0

0.0

(e) The event of 25/10/2011

(f) The event of 22/11/2011

Figure 4.1: Observed and simulated hydrographs at event scale

47

unreasonably low flow are not considered for comparison with simulated data. The reason behind very low discharge might be the location of the raingauges. The rainfall recorded by the gauges might not cover the study area or there might be difference in total amount of rainfall between the study area and the area covered by the raingauge. Figure 4.1 presents the comparison of the six events that took place at different time of throughout the whole simulation period. The rest of the hydrographs are displayed in the Appendix A. In Figure 4.1 the rainfall hyetograph is also presented with the hydrographs. As observed from the figure, the simulated hydrographs are similar to the observed ones and the shapes are very close to each other.

4.2

Sensitivity Analysis

Sensitivity analysis was performed to identify all the sensitive parameters in the modeling process. All the delineated subcatchments are of homogeneous landuse type i.e. either 0% or 100% impervious. Subcatchment slope is determined from the DEM and the infiltration parameters are selected based on the properties of the fox sandy loam type soil. Therefore, percent imperviousness, slope and infiltration parameters are not considered for sensitivity analysis. Sensitivity analysis by changing Manning's roughness value and depression storage did not produce any remarkable change in the simulation outputs. Sensitivity of subcatchment width is also studied. Changing the subcatchment width produced negligible change in the shape of the hydrograph. The sensitivity of the subcatchment width is presented in Figure 4.2. The figure presents the simulated hydrographs for six events produced by the original width, 20% increased width and 20% decreased width. The effect of catchment discretization is also studied in this work. A lumped model is developed for this purpose and the obtained simulation result is compared with that of the detailed distributed model. Figure 4.3 displays comparison between hydrographs obtained from the lumped and the detailed distributed model for six events. The figure shows that the lumped model produced more runoff with comparison to the detailed distributed homogeneous model. 48

L

(a) The event of 02/28/2011

L

(b) The event of 14/05/2011

L

(c) The event of 29/05/2011

L

(d) The event of 04/06/2011

L

(e) The event of 25/10/2011

L

(f) The event of 22/11/2011

Figure 4.2: Sensitivity of subcatchment width on simulation output at event scale

49

(a) The event of 02/28/2011

(b) The event of 14/05/2011

(c) The event of 29/05/2011

(d) The event of 04/06/2011

(e) The event of 25/10/2011

(f) The event of 22/11/2011

Figure 4.3: Comparison of hydrographs obtained from the lumped and the detailed distributed model at event scale

50

10.0

20.0

8.0

15.0

6.0

10.0
L (l/s)
L (l/s)
4.0 (l/s) (l/s)

(l/s) (l/s) 5.0

2.0

0.0

0.0

l

(a)

(b)

Figure 4.4: Comparison of hydrographs for two of the events when downspouts are connected to the backyards A different scenario is tested by changing the model structure. In this case, all the outlets of the downspouts are connected to the backyards of the houses. This analysis is performed to know if the changed model structure can produce a better result. The changed model structure produced the same result as the previous one that demonstrates the reliability of the developed model structure. For example, comparison of two random events are shown in Figure 4.2.

4.3

Comparison of Peak Flows and Runoff Volume

The model performance is evaluated by studying scatter plot of observed and simulated peak flows and flow volumes. The Coefficient of Determination (Dodge, 2008) (r2 ) of the plots are determined based on the following formula : [n xy - ( x)( y )]2 x 2 ) - ( x ) 2 ] [ n( y 2 ) - (

r2 =

[ n(

y )2 ]

(4.1)

The model's ability to reproduce peak flow rates is analyzed by displaying the scatter plot of simulated vs. observed peak flow for the rainfall events occurring during the 18 months of

51

10% Envelope

L

10% Envelope

L

(a)

(b)

Figure 4.5: Scatter plot of simulated vs observed values: (a) peak flows and (b) runoff volumes the simulation period. This plot is characterized by a high proportion of similarity between the observed and the simulated peak flow values as shown in Figure 4.4(a). The coefficient of determination of 0.81 demonstrates that 81% of the total variation in y can be explained by the linear relationship between x and y (as described by the regression equation). The scatter plot of the simulated and the observed flow volume shows a good level of agreement between them. Flow volumes are overestimated during some of the events. Utilizing very small homogeneous subcatchments for model simulation may be one of the reasons behind it. However, the model reproduces more than half of the observed variability in the flow volume of the series of rain events. The fitting corresponds to a coefficient of determination of 0.67 which means that 67% of the total variation in y can be explained by the linear relationship between x and y (based on the the regression equation)

4.4

Model Performance Evaluation

Four comparison criteria are adopted for the model evaluation. Errors in the simulated flow are evaluated by using percentage error in Peak discharge ( p ), a bias criterion (Cb ), NashSutcliffe efficiency (CN ash ) (Nash and Sutcliffe, 1970) and the square of Pearson correlation 52

coefficient (R2 ) given by the following equations: |Qpo - Qps |  100 Qpo
N t=1 (Qo

p (%)

=

(4.2)

CN ash =

- Qs ) 2 - Qo ) 2

N t=1 (Qo (t)

(4.3)

Cb =

|Qvo - Qvs |  100 Qvo
N

(4.4)

RM SE =

1 N

(Qvs - Qvo )2
t=1

(4.5)

R2 =

(

N t=1 (Qs (t)

- Qs )(Qo (t) - Qo ))2
N t=1 (Qo (t)

N t=1 (Qs (t)

- Qs ) 2

- Qo ) 2

(4.6)

where Qpo and Qps refers to the observed and simulated peak discharges respectively; Qvo and Qvs denotes to the observed and simulated runoff volumes respectively; Qs and Qo are the simulated and observed discharge, respectively; N is the total number of ordinates used in the comparison and Qo and Qs indicates observed and simulated mean discharge values. The goodness of fit can also be assessed by the three objective functions given in the equations 4.4 to 4.6. Nash criterion, CN ash measures the model capability to simulate observed runoff amplitudes dominated by surface runoff. Possible CN ash values range from - to 1. CN ash values ranging from 0 to 1 are generally viewed as acceptable model levels of performance. Higher values (closer to 1) indicates that the model has potential to reproduce the observed values. Negative cN ash values indicates that model performance is not acceptable (Moriasi et al., 2007). Root mean square error (RM SE ) and %BIAS (Cb ) are also often used as objective functions in model calibration and validation. The RM SE is the variance of the residuals indicating the fit of the observed data to the predicted values by the model. It is an absolute measure of 53

fit that explains the standard deviation of the unexplained variance. Low values of RM SE indicate a better estimation where fit is defined as how accurately the model predicts the response. Since it is reported in the same units as the data, the value is representative of the size of a 'typical' error. RMSE is more sensitive than other measures to the occasional large error because the squaring process disproportionate weights them. Large errors are typically associated with the high-flow portions of the hydrographs. %BIAS (Cb ) is another frequently-used measure of the difference between calculated values and measured values and is given in equation 4.4. %BIAS refers to the relative percentage difference between the average simulated and measured time series over `N' time steps (Tolson and Shoemaker, 2007). It indicates whether the predictions are skewed in a particularly direction. The optimal value for percent bias is zero with low magnitude values indicating accurate model simulation. Positive values indicate model underestimation of bias and negative values indicate model overestimation of bias (Gupta et al., 1999). The square of Pearson correlation coefficient (R2 ) is a widely used statistic, ranging from 0 to 1, with 1 indicating a perfect fit and is included here to facilitate comparisons with other studies. The values of the CN ash , RM SE and Cb for the model output are calculated to assess the validity of the model structure. The calculated objective functions for the events are tabulated in Table 4.1. The evaluation criteria summarizes the performances of the developed model.

54

Event 07/24/2010 02/28/2011 03/10/2011 04/16/2011 04/19/2011 05/03/2011 05/13/2011 05/14/2011 05/25/2011 05/26/2011 05/29/2011 06/04/2011 06/07/2011 08/03/2011 09/23/2011 09/29/2011 10/25/2011 11/22/2011 11/29/2011 12/22/2011

CN ash 1.00 1.00 0.99 1.00 1.00 0.99 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 1.00 0.99 1.00

p (%)

RM SE 1.03 0.39 0.74 0.96 1.99 0.32 0.24 0.60 0.98 0.41 1.62 1.3 0.29 0.74 2.86 2.48 0.36 0.60 0.93 0.16

Cb 14.77 -2.84 17.63 -89.45 -62.55 -82.30 -35.62 -3.009 -21.84 -38.70 -54.05 -26.35 -40.09 -44.51 -79.39 -80.95 -12.99 -24.96 -24.75 -33.17

R2 0.79 0.92 0.90 0.79 0.48 0.69 0.83 0.86 0.82 0.91 0.74 0.84 0.97 0.95 0.92 0.70 0.83 0.71 0.69 0.48

40.45 4.82 29.64 -28.85 48.34 22.62 1.72 8.85 -21.35 4.58 1.08 -24.82 -43.24 -55.96 -58.64 -22.91 -36.48 22.15 18.12 -46.64

Table 4.1: Summary of Comparison Criteria

From the table it is found that, the lowest value of CN ash is 0.998 and the mean value of these event CN ash is 1.00. These values demonstrate that the simulated values describe the trend of the measured data better than the mean of the observed values. CN ash of 0.5 is often applied as a criterion for assessing the calibration results for a hydrological model (Engel et al., 2007). Therefore, a high CN ash value (close to 1) in most of the events refers that the model simulated acceptably the shape of the actual hydrograph. The lower RM SE

55

values also support the accuracy of the developed approach in simulating the shape of the hydrograph. The lower values of percent peak value error indicates that the developed model simulated acceptably the occurrence time of the peak flow. The bias criterion (Cb ) displays significant variability. However, the bias criterion proves to be negative more often, which means that the simulated discharges are higher than those measured. It can be seen that the overall shape fit is good. The peaks are also well represented. This is confirmed by the excellent R2 and RM SE values. The simulation result also yields a correct CN ash but the majority of the errors on discharge rates result from the errors on the runoff volumes. In case of most of the events, the model hydrograph is less responsive in the falling limb and the total simulated runoff volume is higher than the observed one. It can be seen in the plot that some overestimation of volume exist in the area of recession limb of the hydrographs. At this point, it must be emphasized that the simulation extends over a continuous 18-month time period and utilizes rainfall data from four different gauges, spanning the entire range of hydrological behavior of the catchment. The majority of the uncertainties are assumed to come from spatial variability of rainfall. Rainfall data is recorded by four rain gauges but all the rainfall data are assigned to one raingauge to avoid complexity and to make the simulation easier which might be a considerable source of error. Besides, the amount of rainfall in the area covered by the raingauge might vary from that in the study area. The overestimation might also take place by the smallness of the elementary catchments, which makes the routing in the drainage system very predominant when using the complete available data. The description of the elementary catchments may not be very accurate since the subcatchments are derived by visual inspection from the aerial photograph having resolution of 5m. Utilization of aerial photograph of finer resolution and image processing software for landuse classification could result in more landuse types and hence produce more realistic output. The lower values of percent peak value error indicates that the developed model simulated

56

acceptably the occurrence time of the peak flow. These validation assessments have proved the accuracy and reliability of the proposed automatic parameterization approach. The bias criterion (Cb ) displays significant variability. However, the bias criterion proves to be negative more often, which means that the simulated discharges are higher than those measured. However, these validation assessments have proved the accuracy and reliability of the proposed automatic parameterization approach. It also justifies the use of assumed parameters. The model development methodology presented in this study can be conveniently used for drainage network analysis of any typical urban residential area.

4.5

Outputs without Downspout Disconnection

In urban areas, downspouts are commonly connected to the drain pipes that feed the sewer system. The cumulative effect of thousands of connected downspouts can greatly increase the runoff volume. The response of a drainage system with downspouts connected to the sewer network is also studied in this work. For this purpose, simulation is performed with another model setup. In this model setup, it is assumed that all the downspouts are directly connected to the conveyance system. Therefore, the outlets of the roofs were changed from the nearest frontyard to the nearest manhole. The simulation result of six events are shown in Figure 4.6. The figure also displays the rainfall hyetograph, observed hydrograph and the simulated hydrograph with disconnected downspout. Simulation with connected downspout increased the peak discharge since the roof runoff directly enters the sewer. The figure shows that the connected downspouts concentrated and centralized roof runoff. The comparison of the hydrographs also indicates that an increase in runoff volume took place due to the reduction in infiltration and evapotranspiration in the frontyards. On the other hand, disconnected downspouts reduced the amount of directly connected impervious area by redirecting the roof runoff onto pervious surfaces and by allowing more water to be absorbed.

57

30.0

30.0

20.0

20.0

L (l/s)

(l/s)
10.0 10.0 0.0 0.0

(a) The event of 02/28/2011
100.0 100.0

(b) The event of 14/05/2011

80.0

80.0

60.0

60.0

(l/s)

40.0

L (l/s)

40.0

20.0

20.0

0.0

0.0

(c) The event of 29/05/2011
20.0 20.0

(d) The event of 04/06/2011

L (l/s)

10.0
L (l/s)

10.0

0.0

0.0

(e) The event of 25/10/2011

(f) The event of 22/11/2011

Figure 4.6: Comparison of hydrographs when downspouts are connected to sewer network

58

4.6

Summary

Uncalibrated simulated result is presented in this chapter to find out the rainfall response of the case study area. The developed methodology produced hydrographs very similar to the observed one. The extracted and assumed parameters also provided good predictions of peak flow and flow volume. Comparison criteria show some overestimation of runoff volume that might occur from the error in observed data, use of inappropriate raingauge data or utilization of microcatchment that made the routing very predominant. The results of sensitivity analysis and the effect of downspouts connected with the sewer networks are also presented in this chapter.

59

Chapter 5 Conclusions

5.1

Summary

In this thesis a detailed distributed urban drainage model has been developed using GIS databases and applied on a study area utilizing PCSWMM. Separate GIS databases are developed for five landuse classes of the study area, such as, roofs, green area, driveways, sidewalks and roads. These layers are developed to be used as subcatchment in PCSWMM. All the spatial properties, such as, subcatchment width, outlet, slope etc. are delineated by executing programming script written in Python 2.7. Digital Elevation Model (DEM) is utilized to delineate these properties. Other variables, such as, subcatchment area, percent imperviousness, Manning's roughness value, depression storage value etc. are also assigned to the databases by running written scripts. The collected layers of drainage network and sewer junctions are clipped to be used for model building in PCSWMM. A `Free' type outfall is assigned to the model. The catch basins are neglected for simplicity and junctions are built in the manhole locations. The rim elevation of the outfall and the sewer junctions are assumed to be the same as the ground elevation of that point found from DEM. Other junction and conduit properties are also assigned automatically to the respective layers. Finally, all the data layers are imported to PCSWMM 5.1.1279 and simulation is carried out for the long term continuous event starting 60

from 05 July, 2010 to 31 December, 2011. The model evaluation is performed by comparing the model outputs with the monitored data and by calculating objective functions. The sensitivity analysis of the model is also performed.

5.2

Conclusions

The model output is analyzed by comparing the simulated hydrographs with the observed ones at event scale. It can be found from the sensitivity analysis that modelling the drainage area as a lumped one produces much more runoff with compared to the detailed distributed one. The sensitivity analysis also presents that the downspouts connected to the frontyards produced the same simulation output as they are connected to the backyards. The comparison of hydrographs shows that the observed and the simulated hydrographs are very close to each other. The scatter plot of the simulated and the observed peak flows demonstrate a very strong level of agreement having the coefficient of determination of 0.81. The scatter diagram of the event runoff volumes also shows good correlation between them (Dodge, 2008). The fitting corresponds to a coefficient of determination of 0.67 which indicates that the model reproduces more than half of the observed variability in the flow volume of the series of rain events. Five evaluation criteria: percentage error in Peak discharge ( p ), a bias criterion (Cb ), NashSutcliffe efficiency (CN ash ) and the square of Pearson's correlation coefficient (R2 ) are calculated to assess the validity of the model structure. The mean value of CN ash is found 1.00. The high value of CN ash and (R2 ) represent that the model simulated acceptably the shape of the actual hydrograph. The lower root mean square error (RM SE ) values also demonstrates the accuracy of the developed methodology. The lower values of percent peak value error indicates that the developed approach reproduced acceptably the occurrence of the peak flow. The bias criterion (Cb ) are found to be negative more often indicating an overestimation of flow volume. This overestimation of the runoff volume in some of the events can be explained by the smallness of the primary unit of the model. It seems that the small homogeneous 61

subcatchments have made the routing in the drainage system very predominant when using the complete available data. In addition to that, the description of the elementary catchments might not be very accurate since the landuse types are delineated by visual inspection from the aerial photograph. Besides, the monitored flow may be erroneous at times due to the errors in observations. Spatial variability of rainfall is another major source of uncertainty. The simulation utilizes rainfall data from four different gauges and extends over a continuous eighteen months time period. The contribution of each raingauge is unknown. To avoid complexity in modelling, all available rainfall data are assigned to one raingauge which might be a considerable source of erroneous output. However, the validation assessments demonstrates a good fit of the simulated hydrographs and well matched peaks. This evaluation have proved the accuracy and reliability of the proposed automatic parameterization approach. The comparison criteria demonstrates not only the accuracy of the developed methodology used for parameter extraction but also justifies the use of assumed parameters. The outputs indicate that the detailed distributed drainage model produced very realistic simulation result without calibration. The results also demonstrate that GIS can be a viable source of input data for sophisticated hydrologic simulation models. This study shows that the uncalibrated simulation result is very close to the monitored data. Therefore, the presented approach can play significant role if applied to predict the rainfall response of any typical urban residential area for which observed data are not available. Since the use of programming script has automated the parameterization process, the method can be conveniently used for drainage network analysis of urban residential catchments and calibration as well. The model output can be useful in identifying critical spots or overflow locations where control structures are to be installed. The model can also be utilized to study the feasibility of LID implementation in a specific location.

62

5.3

Recommendations

Further investigations could potentially improve the methodology of model building presented in this thesis and also the performance of the model. Future research potential is identified in this regard. Uncertainty in parameters can play significant role issues in modelling without calibration. The obtained results indicate that some uncertainties still remain regarding subcatchment delineation, flow direction definition, accuracy of rainfall data and flow measuring equipment etc. The model development and parameterization greatly depends upon the resolution of DEM of the study area. DEM of higher resolution would definitely affect the flow direction raster and also the flow path raster. Hence, the subcatchment outlets and flow lengths can be delineated more accurately and model performance can be improved. The delineation of subcatchments is performed based on landuse types. Landuse classification is performed based on visual inspection in this work. Utilization of image processing software can be explored to get better result. Remotely sensed satellite imagery of higher resolution would help to distinguish between different landuse types more precisely. Hence the efficiency of landuse classification can be increased by identification of more subcatchments or incorporation of more landuse types which might be helpful in developing the detailed drainage model and improve the model performance. The parameterization of the exchanges between groundwater and sewer network deserves detailed investigation and can be explored in future researches. Using the appropriate raingauge with rainfall data observed by that gauge might produce better model performance.

63

Appendix A Comparison of Hydrographs

30.0

20.0

L (l/s)
10.0

0.0

(a) The event of 24/07/2010
20.0

L (l/s)

10.0

0.0 0.0

(b) The event of 10/03/2011

Figure A.1: Observed and simulated hydrographs at event scale (1)

64

20.0

50.0

40.0

30.0
L (l/s)
10.0

L (l/s)
0.0

20.0

10.0

0.0

(a) The event of 16/04/2011
10.0
10.0

(b) The event of 19/04/2011

8.0

8.0

6.0

6.0

L (l/s)

4.0

(l/s) L

4.0

2.0

2.0

0.0

0.0

(c) The event of 03/05/2011
30.0 20.0

(d) The event of 13/05/2011

20.0

L (l/s)

10.0 10.0
L (l/s)

0.0

0.0

(e) The event of 25/05/2011

(f) The event of 26/05/2011

Figure A.2: Observed and simulated hydrographs at event scale (2)

65

20.0

30.0

20.0

L (l/s)

L (l/s)

10.0

10.0

0.0

0.0

(a) The event of 07/06/2011
80.0

(b) The event of 03/08/2011
20.0

60.0

L (l/s)

20.0

L (l/s)

40.0

10.0

0.0

0.0

(c) The event of 23/09/2011
80.0

(d) The event of 29/11/2011
10.0

60.0

8.0

6.0
40.0
L (l/s)

L (l/s)

4.0

20.0

4.0

0.0

0.0

(e) The event of 23/09/2011

(f) The event of 22/12/2011

Figure A.3: Observed and simulated hydrographs at event scale (3)

66

Appendix B Python 2.7 Scripts
The whole process of extracting input parameters and adding them to respective layers are illustrated in figure B.1. Subcatchment outlet, width and slope are delineated from collected DEM. Other subcatchment, junction, conduit and outfall properties are selected based on their properties. Finally all the parameters are added to the respective layers.

Figure B.1: Outline of input parameter extraction

The Appendix B.1 presents the scripts developed for outlet identification as described in 67

Section 3.2.2.1 (i). The Appendix B.2 describes the scripts written for width delineation as mentioned in Section 3.2.2.1 (ii). In appendix B.3, the scripts developed for extraction of subcatchment slope is given (process described in Section 3.2.2.1 (iii)). The codes written for assigning the subcatchment, outfall, junction and conduit properties to layer attributes are given in Appendix B.4.

B.1

Deriving Subcatchment Outlets

i) Assigning Closest Manholes:
#import modules import arcpy #Create File Geodatabase from arcpy import env env.workspace = "C:/Python/Data/Study_Area.gdb" # Search cursor will be used to find the outlet of "featureClass" featureClass = "C:\\Python\\Data\\Study_Area.gdb\\Nearest_Man_Side" # Create the search cursor rows = arcpy.SearchCursor(featureClass) # Call SearchCursor.next() to read the first row row = rows.next()

Current_IN_FID=0 Index=-1 FD = []

# Start a loop that will exit when there are no more rows available while row:

if row.IN_FID != Current_IN_FID: Index += 1 FD.append(0) FD[Index] = row.Subcatch_no row = rows.next()

featureClass2w = "C:\\Python\\Data\\Study_Area.gdb\\Closest_Side"

field1 = "NEAR_MANHOLE" Current_IN_FID=0 Index=-1

68

cursor = arcpy.UpdateCursor(featureClass2w) row = cursor.next()

while row:

if row.IN_FID != Current_IN_FID: Index += 1 row.setValue(field1, FD[Index]) cursor.updateRow(row) Current_IN_FID = row.IN_FID else: row.setValue(field1, FD[Index]) cursor.updateRow(row) Current_IN_FID = row.IN_FID row = cursor.next()

print print "Script Completed"

ii) Finding Maximum Flow Direction Code:
#import modules import arcpy #Create File Geodatabase from arcpy import env env.workspace = "C:/Python/Data/Study_Area.gdb" # Search cursor will be used to find the outlet of "featureClass" featureClass = "C:\\Python\\Data\\Study_Area.gdb\\SideWalks2" # Create the search cursor rows = arcpy.SearchCursor(featureClass)

# Call SearchCursor.next() to read the first row row = rows.next()

Current_IN_FID=0 Index=-1 FD = []

# Start a loop that will exit when there are no more rows available while row:

if row.OBJECTID != Current_IN_FID: #Current_IN_FID = row.OBJECTID Index += 1

69

FD.append(0) FD[Index] = row.Max_grid row = rows.next()

featureClass2w = "C:\\Python\\Data\\Study_Area.gdb\\Closest_Side"

field1 = "Max_grid" Current_IN_FID=0 Index=-1

cursor = arcpy.UpdateCursor(featureClass2w) row = cursor.next()

while row:

if row.IN_FID != Current_IN_FID: Index += 1 row.setValue(field1, FD[Index]) cursor.updateRow(row) Current_IN_FID = row.IN_FID else: row.setValue(field1, FD[Index]) cursor.updateRow(row) Current_IN_FID = row.IN_FID row = cursor.next()

print print "Script Completed"

iii) Updating Maximum Flow Direction Code:
#import modules import arcpy #Create File Geodatabase from arcpy import env env.workspace = "C:/Python/Data/Study_Area.gdb"

# Search cursor will be used to find the outlet of "featureClass" featureClass = "C:\\Python\\Data\\Study_Area.gdb\\flow_side" # Create the search cursor rows = arcpy.SearchCursor(featureClass) # Call SearchCursor.next() to read the first row row = rows.next()

Current_IN_FID=0

70

Index=-1 FD = []

# Start a loop that will exit when there are no more rows available while row:

# Do something with the values in the current row print print "In FID: " + str(row.FID_SideWalks2) #print "Flow Direction: " + str(row.grid_code) #print "Area: " + str(row.Area)

if row.FID_SideWalks2 != Current_IN_FID: Current_IN_FID = row.FID_SideWalks2 Index += 1 FD.append(0) # initializing Outlet for current index

Max_Area = 0

if row.Area > Max_Area: Max_Area = row.Area FD[Index] = row.grid_code row = rows.next()

#Printing outlets in a field featureClass2w = "C:\\Python\\Data\\Study_Area.gdb\\SideWalks2"

field1 = "Max_grid"

Index=-1

cursor = arcpy.UpdateCursor(featureClass2w) row = cursor.next()

while row: Index += 1 row.setValue(field1, FD[Index]) cursor.updateRow(row) row = cursor.next()

print print "Script Completed"

iv) Updating Outlets:
#import modules

71

import arcpy #Create File Geodatabase from arcpy import env env.workspace = "C:/Python/Data/Study_Area.gdb"

# Search cursor will be used to find the outlet of "featureClass" featureClass = "C:\\Python\\Data\\Study_Area.gdb\\Closest_Side"

# Create the search cursor rows = arcpy.SearchCursor(featureClass)

# Call SearchCursor.next() to read the first row row = rows.next()

Min_angle = 0 Max_angle = 0

Current_IN_FID=0 Index=-1 Outlet = [] DrainIn = []

# Start a loop that will exit when there are no more rows available while row:

# Do something with the values in the current row print print "In_FID: " + str(row.IN_FID) #print "Near_FID: " + str(row.NEAR_FID) #print "Distance: " + str(row.NEAR_DIST) + " m" #print "Angle: "+ str(row.NEAR_ANGLE) + " degree" #print row.NEAR_FC

if row.IN_FID != Current_IN_FID:

Current_IN_FID = row.IN_FID Index += 1 Outlet.append(0) # initializing Outlet for current index DrainIn.append("") # initializing DrainIn for current index DrainIn[Index] = row.NEAR_MANHOLE # initializing DrainIn to Near_Manhole

Min_Distance = float("inf")

#finding angle range #print row.Max_grid

72

if row.Max_grid == 1: Min_angle = -45 Max_angle = 45 elif row.Max_grid == 2: Min_angle = -90 Max_angle = 0 elif row.Max_grid == 4: Min_angle = -135 Max_angle = -45 elif row.Max_grid == 8: Min_angle = -180 Max_angle = -90 elif row.Max_grid == 16: Min_angle = -135 Max_angle = 135 elif row.Max_grid == 128: Min_angle = 0 Max_angle = 90 #print "Lower limit of angle is "+str(Min_angle) #print "Upper limit of angle is "+str(Max_angle)

if row.NEAR_ANGLE >= Min_angle and row.NEAR_ANGLE <= Max_angle: if row.NEAR_DIST < Min_Distance: Min_Distance = row.NEAR_DIST Outlet[Index] = row.NEAR_FID DrainIn[Index] = str(Outlet[Index]) + str(row.NEAR_FC[59]) print "Outlet: " + DrainIn[Index]

row = rows.next()

#Printing outlets in a field featureClass2w = "C:\\Python\\Data\\Study_Area.gdb\\SideWalks2"

field1 = "Drain"

Index=-1

cursor = arcpy.UpdateCursor(featureClass2w) row = cursor.next()

while row: Index += 1 row.setValue(field1, DrainIn[Index]) cursor.updateRow(row) row = cursor.next()

73

print print "Script Completed"

B.2

Deriving Subcatchment Width

i) Calculating Geometric properties:
#import modules import arcpy

#set workspace from arcpy import env env.workspace = "C:/Python/Data/Study_Area.gdb"

Driveway = "C:/Python/Data/Study_Area.gdb/Driveways2new" Roads = "C:/Python/Data/Study_Area.gdb/Split_road" SideWalks = "C:/Python/Data/Study_Area.gdb/SideWalks2"

#Adding fields

Subcatchment = ["Area_m2", "Perimeter_m", "Width_m", "Flowlength_m", "Width_from_FL"] for s in Subcatchment: print print "Adding Field " + str(s) arcpy.AddField_management(Driveway,str(s),"FLOAT","#","#","#","#","NULLABLE","NON_REQUIRED","#") arcpy.AddField_management(Roads,str(s),"FLOAT","#","#","#","#","NULLABLE","NON_REQUIRED","#") arcpy.AddField_management(SideWalks,str(s),"FLOAT","#","#","#","#","NULLABLE","NON_REQUIRED","#")

arcpy.CalculateField_management(Driveway,"Area_m2","!shape.area!","PYTHON","#") arcpy.CalculateField_management(Driveway,"Perimeter_m","!shape.length!","PYTHON","#")

arcpy.CalculateField_management(Roads,"Area_m2","!shape.area!","PYTHON","#") arcpy.CalculateField_management(Roads,"Perimeter_m","!shape.length!","PYTHON","#")

arcpy.CalculateField_management(SideWalks,"Area_m2","!shape.area!","PYTHON","#") arcpy.CalculateField_management(SideWalks,"Perimeter_m","!shape.length!","PYTHON","#")

Calculating geometric width: field = "Width_m"

Layers = [Driveway, Roads, SideWalks]

74

for fc in Layers: cursor = arcpy.UpdateCursor(fc) row = cursor.next() while row: P = row.Perimeter_m A = row.Area_m2 K = P**2-16*A if K >= 0: W = P/4 - 0.25*K**(0.5) else: W = A**(0.5) print W row.setValue(field, W) cursor.updateRow(row) row = cursor.next()

#arcpy.CalculateAreas_stats("C:/Python/Data/Study_Area.gdb/Driveways2new", "C:/Python/Data/Study_Area.gdb/drive_area") print "Script completed"

ii) Executing Zonal Statistics:
#import modules import arcpy from arcpy import env from arcpy.sa import *

# Set environment settings env.workspace = "C:/Python/Data/Study_Area.gdb"

Driveway = "C:/Python/Data/Study_Area.gdb/Driveways2new" Roads = "C:/Python/Data/Study_Area.gdb/Split_road" SideWalks = "C:/Python/Data/Study_Area.gdb/SideWalks2"

Layers = [Driveway, Roads, SideWalks]

for fc in Layers: # Set local variables inZoneData = fc zoneField = "Id" inValueRaster = "C:/Python/Data/Study_Area.gdb/fl_length" outTable = "C:/Python/Data/Study_Area.gdb/zonal_stat_" + str(fc[50:55]) # Check out the ArcGIS Spatial Analyst extension license arcpy.CheckOutExtension("Spatial") # Execute ZonalStatisticsAsTable arcpy.gp.ZonalStatisticsAsTable_sa(inZoneData,zoneField,inValueRaster,outTable,"DATA","ALL")

75

print "Script Completed"

iii) Calculating Subcatchment Width:
#import modules import arcpy

#Create File Geodatabase from arcpy import env env.workspace = "C:/Python/Data/Study_Area.gdb"

# Search cursor will be used to find the outlet of "featureClass" fc = "C:\\Python\\Data\\Study_Area.gdb\\SideWalks2"

field1 = "Area_m2" field2 = "Perimeter_m" field3 = "Width_m"

cursor = arcpy.UpdateCursor(fc) row = cursor.next() while row: P = row.Perimeter_m A = row.Area_m2 K = P**2-16*A if K >= 0: W = P/4 - 0.25*K**(0.5) else: W = A**(0.5) print W row.setValue(field3, W) cursor.updateRow(row) row = cursor.next() print print "Script Completed"

iv) Updating Flow Lengths:
#import modules import arcpy from arcpy import env # Set environment settings env.workspace = "C:/Python/Data/Study_Area.gdb"

Driveway = "C:/Python/Data/Study_Area.gdb/Driveways2new" Roads = "C:/Python/Data/Study_Area.gdb/Split_road" SideWalks = "C:/Python/Data/Study_Area.gdb/SideWalks2"

76

Layers = [Driveway, Roads, SideWalks]

for fc in Layers: DefaultFlowLength = 0 DefaultWidth = 0 inTable = "C:/Python/Data/Study_Area.gdb/zonal_stat_" + str(fc[50:55]) # Create the search cursor rows = arcpy.SearchCursor(inTable) # Call SearchCursor.next() to read the first row row = rows.next()

Current_IN_FID=0 Index=-1 ID = [] FL = [] Total_Index = 0

# Start a loop that will exit when there are no more rows available while row: #print row.ID if row.ID != Current_IN_FID: Index += 1 ID.append(0) FL.append(0) ID[Index] = row.ID FL[Index] = row.RANGE Total_Index+= 1 row = rows.next() #print Total_Index print Total_Index field1 = "Flowlength_m" field2 = "Width_from_FL" Index=-1

cursor = arcpy.UpdateCursor(fc) row = cursor.next()

Offset = 0 # is used to shift element for the missing data while row: Index += 1 IndexInReadData=Index-Offset if IndexInReadData < Total_Index: if Index == ID[IndexInReadData] - 1: FlowLength=FL[IndexInReadData] row.setValue(field1, FlowLength)

77

cursor.updateRow(row) else: FlowLength = 0 row.setValue(field1, DefaultFlowLength) cursor.updateRow(row) Offset += 1 else: FlowLength = 0 row.setValue(field1, DefaultFlowLength) cursor.updateRow(row)

if FlowLength!=0: W=row.Area_m2/FlowLength else: W=row.Width_m

row.setValue(field2, W) cursor.updateRow(row)

row = cursor.next()

print print "Script Completed"

B.3

Deriving Subcatchment Slope

i) Calculating Slope for Driveways:
#import modules import arcpy #Create File Geodatabase from arcpy import env env.workspace = "C:/Python/Data"

# Search cursor will be used to find the outlet of "featureClass" featureClass = "C:\\Python\\Data\\Slope_Drive.shp"

# Create the search cursor rows = arcpy.SearchCursor(featureClass)

# Call SearchCursor.next() to read the first row row = rows.next()

78

Current_IN_FID=0 Index=0 Slope = [] Count = [] S = 0 n = 1 # Start a loop that will exit when there are no more rows available while row:

if row.ID != Current_IN_FID: if row.ID < Current_IN_FID: Index = row.ID-1 Count[Index] = n n = n+1 Total = Slope[Index]*Count[Index] Count[Index]= n S = row.Slope_flt Total = Total + S Avg_Slope = Total/Count[Index] Slope[Index] = Avg_Slope else: Current_IN_FID = row.ID Index = row.ID-1 n = 1 Total = 0 Slope.append(0) Count.append (0) Count[Index] = n S = row.Slope_flt Total = Total + S Avg_Slope = Total/Count[Index] Slope[Index] = Avg_Slope else: Current_IN_FID = row.ID n+= 1 Count[Index] = n S = row.Slope_flt Total = Total + S Avg_Slope = Total/Count[Index] Slope[Index] = Avg_Slope print "Slope of "+ str(row.ID)+ "P: "+ str (Slope[Index]) row = rows.next()

#Printing Slopes in a field featureClass2w = "C:\\Python\\Data\\Driveways.shp"

79

field1 = "Slope_avg"

Index=-1

cursor = arcpy.UpdateCursor(featureClass2w) row = cursor.next()

while row: Index += 1 row.setValue(field1, Slope[Index]) cursor.updateRow(row) row = cursor.next()

print "Script Completed"

ii) Calculating Slope for Green Areas:
#import modules import arcpy

#Create File Geodatabase from arcpy import env env.workspace = "C:/Python/Data"

# Search cursor will be used to find the outlet of "featureClass" featureClass = "C:\\Python\\Data\\Slope_perv.shp"

# Create the search cursor rows = arcpy.SearchCursor(featureClass)

# Call SearchCursor.next() to read the first row row = rows.next()

Current_IN_FID=0 Index=0 Slope = [] Count = [] S = 0 n = 1 # Start a loop that will exit when there are no more rows available while row:

if row.ID != Current_IN_FID: if row.ID < Current_IN_FID: Index = row.ID-1

80

Count[Index] = n n = n+1 Total = Slope[Index]*Count[Index] Count[Index]= n S = row.Slope_flt Total = Total + S Avg_Slope = Total/Count[Index] Slope[Index] = Avg_Slope else: Current_IN_FID = row.ID Index = row.ID-1 n = 1 Total = 0 Slope.append(0) Count.append (0) Count[Index] = n S = row.Slope_flt Total = Total + S Avg_Slope = Total/Count[Index] Slope[Index] = Avg_Slope else: Current_IN_FID = row.ID n+= 1 Count[Index] = n S = row.Slope_flt Total = Total + S Avg_Slope = Total/Count[Index] Slope[Index] = Avg_Slope print "Slope of "+ str(row.ID)+ "P: "+ str (Slope[Index]) row = rows.next()

#Printing Slopes in a field featureClass2w = "C:\\Python\\Data\\Pervious.shp"

field1 = "Slope_avg"

Index=-1

cursor = arcpy.UpdateCursor(featureClass2w) row = cursor.next()

while row: Index += 1 row.setValue(field1, Slope[Index]) cursor.updateRow(row)

81

row = cursor.next()

print "Script Completed"

iii) Calculating Slope for Road Sections:
#import modules import arcpy

#Create File Geodatabase from arcpy import env env.workspace = "C:/Python/Data"

# Search cursor will be used to find the outlet of "featureClass" featureClass = "C:\\Python\\Data\\Slope_roads.shp"

# Create the search cursor rows = arcpy.SearchCursor(featureClass)

# Call SearchCursor.next() to read the first row row = rows.next()

Current_IN_FID=0 Index=0 Slope = [] Count = [] S = 0 n = 1 # Start a loop that will exit when there are no more rows available while row:

if row.ID_1 != Current_IN_FID: if row.ID_1 < Current_IN_FID: Index = row.ID_1-1 Count[Index] = n n = n+1 Total = Slope[Index]*Count[Index] Count[Index]= n S = row.Slope_flt Total = Total + S Avg_Slope = Total/Count[Index] Slope[Index] = Avg_Slope else: Current_IN_FID = row.ID_1 Index = row.ID_1-1 n = 1

82

Total = 0 Slope.append(0) Count.append (0) Count[Index] = n S = row.Slope_flt Total = Total + S Avg_Slope = Total/Count[Index] Slope[Index] = Avg_Slope

else: Current_IN_FID = row.ID_1 n+= 1 Count[Index] = n S = row.Slope_flt Total = Total + S Avg_Slope = Total/Count[Index] Slope[Index] = Avg_Slope print "Slope of "+ str(row.ID_1)+ "R: "+ str (Slope[Index]) row = rows.next()

#Printing Slopes in a field featureClass2w = "C:\\Python\\Data\\Roads.shp"

field1 = "Slope_avg"

Index=-1

cursor = arcpy.UpdateCursor(featureClass2w) row = cursor.next()

while row: Index += 1 row.setValue(field1, Slope[Index]) cursor.updateRow(row) row = cursor.next()

print "Script Completed"

B.4

Adding Fields and Values

i) In layers of subcatchments:
#import modules

83

import arcpy

from arcpy import env

#Set environment settings env.workspace = "C:/Python/Data/Study_Area.gdb"

Driveway = "C:/Python/Data/Driveways" Roads = "C:/Python/Data/Roads" SideWalks = "C:/Python/Data/SideWalks" Pervious = "C:/Python/Data/Pervious"

Layers = [Driveway, Roads, SideWalks, Pervious]

#Fields = [Gr_Water, LID, SubareaRou, Max_infill, Min_infill, Decay_Cons, Drying_tim, Max_Vol] for shapes in Layers: arcpy.AddField_management(shapes,"Gr_Water","TEXT","#","#","#","#","NULLABLE","NON_REQUIRED","#") arcpy.AddField_management(shapes,"LID","SHORT","#","#","#","#","NULLABLE","NON_REQUIRED","#") arcpy.AddField_management(shapes,"SubareaRou","TEXT","#","#","#","#","NULLABLE","NON_REQUIRED","#") arcpy.AddField_management(shapes,"Max_infill","FLOAT","#","#","#","#","NULLABLE","NON_REQUIRED","#") arcpy.AddField_management(shapes,"Min_infill","FLOAT","#","#","#","#","NULLABLE","NON_REQUIRED","#") arcpy.AddField_management(shapes,"Decay_Cons","SHORT","#","#","#","#","NULLABLE","NON_REQUIRED","#") arcpy.AddField_management(shapes,"Drying_tim","SHORT","#","#","#","#","NULLABLE","NON_REQUIRED","#") arcpy.AddField_management(shapes,"Max_Vol","FLOAT","#","#","#","#","NULLABLE","NON_REQUIRED","#") #Fields = ["Gr_Water", "LID", "SubareaRou", "Max_infill", "Min_infill", "Decay_Cons", "Drying_tim", "Max_Vol"] GW = "NO" LID = 0 SR = "OUTLET" MaxI = 76.2 MinI = 12.7 DC = 4 DT = 7 MaxV = 0

cursor = arcpy.UpdateCursor(shapes) row = cursor.next() while row: row.setValue("Gr_Water", GW) row.setValue("LID", LID) row.setValue("SubareaRou", SR) row.setValue("Max_infill", MaxI) row.setValue("Min_infill", MinI) row.setValue("Decay_Cons", DC) row.setValue("Drying_tim", DT) row.setValue("Max_Vol", MaxV)

84

cursor.updateRow(row) row = cursor.next()

print "Script completed"

ii) Adding fields in layers of Conduits and Junction:
#import modules import arcpy

from arcpy import env

#Set environment settings env.workspace = "C:/Python/Data/Study_Area.gdb"

#Junction Properties Junction = ["Invert_Ele", "Rim_Ele", "Depth", "Ini_Depth", "SurchgDpth", "PondedArea", "Baseline", "Scale_Fctr", "Avg_value", "Sewer_Area"] for j in Junction: print print "Adding Field " + str(j) arcpy.AddField_management("C:/Python/Data/Study_Area.gdb/Node",str(j),"FLOAT","#","#","#","#","NULLABLE", "NON_REQUIRED","#")

Conduit = ["Roughness", "Inlet_Offs", "Outlet_Off", "Ini_Flow", "Flow_Limit", "EntryLssCo", "ExitLossCo", "AvgLssCoff"] for c in Conduit: print print "Adding Field " + str(c) arcpy.AddField_management("C:/Python/Data/Study_Area.gdb/Conduits",str(c),"FLOAT","#","#","#","#", "NULLABLE","NON_REQUIRED","#")

print "Script completed"

iii) Adding Fields and Values in layers of Outfall and Junction:
#import modules import arcpy

from arcpy import env

#Set environment settings env.workspace = "C:/Python/Data/Study_Area.gdb"

Driveway = "C:/Python/Data/Outfall" Roads = "C:/Python/Data/Nodes"

85

Layers = [Outfall, Nodes]

for shapes in Layers: arcpy.AddField_management(shapes,"Inflow","TEXT","#","#","#","#","NULLABLE","NON_REQUIRED","#") arcpy.AddField_management(shapes,"Treatment","TEXT","#","#","#","#","NULLABLE","NON_REQUIRED","#") arcpy.AddField_management(shapes,"Invert_Ele","FLOAT","#","#","#","#","NULLABLE","NON_REQUIRED","#") arcpy.AddField_management(shapes,"Rim_Ele","FLOAT","#","#","#","#","NULLABLE","NON_REQUIRED","#") #Fields = ["Inflow", "Treatment"] InFl = "NO" Trtmnt = "NO"

cursor = arcpy.UpdateCursor(shapes) row = cursor.next() while row: row.setValue("Inflow", InFl) row.setValue("Treatment", Trtmnt) cursor.updateRow(row) row = cursor.next()

print "Script completed"

86

Bibliography
Abbott, M. B., Bathurst, J. C., Cunge, J., OConnel, P. E., and Rasmussen, J. (1986a). An introduction to the european hydrologic system system hydrologique europeen, SHE 2: Structure of a physically based, distributed modeling system. Journal of Hydrology, 87:6177. Abbott, M. B., Bathurst, J. C., Cunge, J., OConnel, P. E., and Rasmussen, J. (1986b). An introduction to the european hydrological system systeme hydrologique europeen, SHE, 1: History and philosophy of a physically-based, distributed modelling system. Journal of Hydrology, 87:4559. Ahmed, N. (2012). Investigation of appropriate model structures for modelling small urban catchments. Masters Thesis, Ryerson University, Canada. Amaguchi, H., Kawamura, A., Olsson, J., and Takasaki, T. (2012). Development and testing of a distributed urban storm runoff event model with a vector-based catchment delineation. Journal of Hydrology, pages 205215. Amorocho, J. (1961). Discussion on 'predicting storm runoff on small experimental watersheds ', by n. e. minshall. J. Hydraul. Div., 87(HY2):185191. Ao, T. Q., Yoshitani, J., Takeuchi, K., Fukami, K., Mutsuura, T., and Ishidaira, H. (2003). Effects of sub-basin scale on runoff simulation in distributed hydrological model: BTOPMC. Proc., Weather radar information and distributed hydrological modeling, IAHSAISH Publication No. 282, 236(1-2):227233. ASCE (1992). American Society of Civil Engineers (ASCE). Design and construction of ur-

87

ban stormwater management systems. ASCE Manual and Reports of Engineering Practice No. 77. Barbe, D. E., Miller, H., and Jalla, S. (1993). Development of a computer interface among GDS, SCADA and SWMM for use in urban runoff simulation. Proc. of the Symposium on Geographic Information Systems and Water Resources, 7:113120. Bergman, H. and Richtig, G. (1990). Decision support model for improving storm drainage management in suburban catchments. Proceedings of the Fifth International Conference on Urban Storm Drainage, Osaka, Japan, pages 1429 1434. Beven, K. J., Quinn, P. F., Romanowicz, R., Freer, J., Fisher, J., and Lamb, R. (1994). TOPMODEL and GRIDATE, a users guide to the distribution versions (95.02). Technical Report TR110/94, Center for Research on Environmental Systems and Statistics, 02. Bosley, E. K. I. (2008). Hydrologic evaluation of low impact development using a continuous, spatially-distributed model. Masters Thesis, Virginia Polytechnic Institute and State University, Va. Charnock, T. W., Hedges, P. D., Elgy, J., and Nachtnebel, H. P. (1996). Application of Geographic Information Systems in hydrology and water resources management. HydroGIS 96, pages 2936. Choi, K. S. and Ball, E. B. (2002). Parameter estimation for urban runoff modeling. Urban Water, 4:3141. Cluis, D., Martz, L., Quentin, E., and Rechatin, C. (1996). Coupling GIS and DEM to classify the hortonian pathways of non-point sources to the hydrologic network. HydroGIS 96: Application of Geographic Information Systems in Hydrology and Water Resources Management, pages 3744. DeVantier, B. A. and Feldman, A. D. (1993). Review of GIS applications in hydrologic modeling. Journal of Water Resources Planning and Management, 119 (2):246261. Dey, A. K. and Kamioka, S. (2007). An integrated modeling approach to predict flooding on urban basin. Water Science Technology, 55. 88

Djokic, D. and Maidment, D. R. (1991). Terrain analysis for urban stormwater modelling. Hydrological Processes, 5:115124. Dodge, Y. (2008). The Concise Encyclopedia of Statistics. Springer. Doe, J. ((generated December 1, 2011)). Ontario Ministry of Natural Resources. Southwestern Ontario Orthophotography Project (SWOOP) 2006. Elliott, A. H., Trowsdale, S. A., and Wadhwa, S. (2009). Effect of aggregation of on-site storm-water control devices in an urban catchment model. Journal of Hydrologic Engineering, 14(9):975983. Elliott, S., Ibbitt, R., Woods, R., Spigel, B., and Shankar, U. (2001). Stormwater modelling for biological flows and distributed flow controls. 2nd South Pacific Stormwater Conf., New Zealand Water and Wastes Association, Auckland, New Zealand, pages 237247. Engel, B., Storm, D., White, M., Arnold, J., and Arabi, M. (2007). A hydrologic/ water quality model application protocol. Am Water Resour Assoc., 43(5):12231236. Ettrich, N., Steiner, K., Thomas, M., and Pothe, R. (2005). Surface models for coupled modelling of runoff and sewer flow in urban areas. Water Science Technology, 52:2533. Fankhauser, R. (1998). Automatic determination of imperviousness in urban areas from digital orthophotos. UDM 98 Fourth International Conf. on Developments in Urban Drainage Modeling, pages 321326. Farajalla, N. S. and Vieux, B. E. (1995). Capturing the essential spatial variability in distributed hydrological modelling: infiltration parameters. Hydrol. Process, 9:5568. FitzHugh, T. W. and Mackay, D. S. (2012). Impacts of input parameter spatial aggregation on an agricultural nonpoint source pollution model. J Hydrol, 236(1-2):3553. Ghosh, I. and Hellweger, F. L. (2012). Effects of spatial resolution in urban hydrologic simulations. NZWWA Modelling Conf., New Zealand Water and Wastes Association, Wellington, New Zealand. Gupta, H. V., Sorooshian, S., and Yapo, P. O. (1999). Status of automatic calibration for

89

hydrologic models: Comparison with multilevel expert calibration. J. Hydrologic Eng., 4(2):135143. HEC (1990). HEC-1 flood hydrograph package, users manual. US Army Corps of Engineers, Hydrologic Engineering Center. Herath, S., Musiake, K., and Hironaka, S. (1996). Development and application of a GIS based distributed catchment model for urban areas. IAHR/IAWQ Proc. of the 7th Annual Conference on Urban Storm Drainage. Hannover, Germany, III:16951700. Hora, J., Kuby, R., and Suchanek, M. (1998). Information technologies and hydroinformatic tools in the Town of Pilsen. UDM 98 Fourth International Conf. on Developments in Urban Drainage Modeling, pages 341 346. Hsu, M. H., Chen, S. H., and Chang, T. J. (2000). Inundation simulation for urban drainage basin with storm sewer system. Journal of Hydrology, 234. Huber, W. C., Zollo, A. F., Tarbox, T. W., and Heaney, J. P. (1991). Integration of the SWMM runoff block with ARC/INFO and AUTOCAD: a case study final report to FosterWheeler Enviresponse, Inc. Photogrammetric Engineering and Remote Sensing. Ichikawa, A. and Sakakibara, T. (1984). A proposal of a new simulation model grid method for urban storm runoff analysis and design of stormwater systems. Proceedings of the 3rd International Conference on Urban Storm Drainage, Goteborg, Sweden, June 48, 1:245 253. Jenson, S. K. and Domingue, J. O. (1988). Extracting topographic structure from Digital Elevation Data for Geographic Information System analysis. Photogrammetric Engineering and Remote Sensing, 54(11):15931600. Johnson, L. E. (1988). MAPHYD - a digital map-based hydrologic modeling system. Photogrammetric Engineering and Remote Sensing, 55(6):911917. Kertesz, R., Heaney, J., and J., S. (2007). Disaggregated modeling for urban hydrologic controls. World Environmental and Water Resources Congress, pages 111.

90

Lam, C. S. (2004). Comparison of flow routing algorithms used in Geographic Information Systems. Masters Thesis, University of Southern California, USA. Leopold, L. B. (1968). Hydrology for urban land planning. US Geological Survey Circular, 554:118. McCuen, R., Johnson, P., and Ragan, R. (1996). Highway hydrology. Hydraulic design series no. 2. pub. no. FHWA-SA-96-067. federal highway administration, u.s. department of transportation, washington, dc. http://www.fhwa.dot.gov/bridge., page 326. Menzies, M. and Paterson, G. (2005). Modelling the performance of spatially-distributed on-site stormwater management devices in Auckland City. Proc., 4th South Pacific Conf. on Stormwater and Aquatic Resource Protection CD-ROM. Mercado, R. M. (1996). Geographic Information Systems GIS and image processing for stormwater management modeling using XPSWMM in Tallahassee, Florida. Proc. of the AWRA Annual Symposium: GIS and Water Resources, pages 305313. Metcalf and Eddy, I. (1971). Storm Water Management Model, final report. US Environmental Protection Agency, Water Quality Office. Minshall, N. E. (1960). Predicting storm runoff on small experimental watershed. J. Hydraul. Div., 86(HY8):1738. Mississauga, C. (2009). Development requirements manual. City of Mississauga, Transportation and Works Department. Moriasi, D. N., Arnold, J. G., Van, L. M. W., Bingner, R. L., Harmel, R. D., and Veith, T. L. (2007). Model evaluation guidelines for systematic quantification of accuracy in watershed simulations. Transactions of the ASABE., 50:885900. Nash, J. E. and Sutcliffe, J. V. (1970). River flow forecasting through conceptual models, part 1: a discussion of principles. Journal of Hydrology, 10:282290. Niehoff, D., U., F., and A., B. (2002). Land-use impacts on storm-runoff generation: scenarios of land-use change and simulation of hydrological response in meso-scale catchment in SWGermany. Journal of Hydrology, 267:8093. 91

Olivera, F., Maidment, D. R., and Charbeneau, R. J. (1996). Spatially distributed modeling of storm runoff and non-point source pollution using Geographic Information Systems (GIS). CRWR Online Report 96-4. Internet file retrieved from The Center for Research in Water Resources, The University of Texas at Austin. OMNR (2003). Ontario Ministry of Natural Resources (OMNR). Soil Survey Complex. Ostrowski, M. W. (2002). Modeling urban hydrological processes and management scenarios at different temporal and spatial scales. Best modeling practices for urban water systems, Monograph Series,, 10:2740. Park, S. Y., Lee, K. W., Park, I. H., and Ha, S. R. (2008). Effect of the aggregation level of surface runoff fields and sewer network for a SWMM simulation. Desalination, 226(13):328337. Pryl, K., Vanecek, S., and P., V. (1998). Data processing and manipulation tools used for urban drainage systems. UDM 98 Fourth International Conf. on Developments in Urban Drainage Modeling, pages 327 332. Pugh, A. and Keeble, R. (2004). A comparison of full pipe and skeletonised models. When bigger is better (and faster). NZWWA Modelling Conf., New Zealand Water and Wastes Association, Wellington, New Zealand. Quinn, P. L., Beven, K., Chevallier, P., and O., P. (1991). The prediction of hillslope flow paths for distributed hydrological modelling using digital terrain models. Hydrological Process, 5:5979. Rawls, W. (1983). J. Hyd. Engr., 109:1316. Regulation, O. (2012). Ontario building code. Published on e-Laws. Rodriguez, F., Andrieu, H., Creutin, J. D., and Raimbault, G. (1998). Relevance of geographic information systems for urban hydrological analysis. UDM 98 Fourth International Conf. on Developments in Urban Drainage Modeling, pages 333 340. Rossman, L. A. (2010). Strom Water Management Model user's manual version 5.0. Rep. No. EPA/600/R-05/040. 92

Sample, D. J. and Heaney, J. P. (2006). Integrated management of irrigation and urban storm-water infiltration. Journal of Water Resources, Planning and Management, 132(5). Sample, D. J., Heaney, J. P., Wright, L. T., and Koustas, R. (2001). Geographic Information Systems, decision support systems, and urban storm-water management. ASCE Journal of Water Resources Planning and Management, 127 (3):155161. Seth, I., Soonthornnonda, P., and E., C. (2006). Use of GIS in urban storm-water modeling. Journal of Environmental Eng, 32(12):15501552. Shamsi, U. M. (1998). ArcView Applications in SWMM Modeling, Chapter 11, Advances in Modeling the Management of Stormwater Impacts. Computational Hydraulics International, Guelph, Ontario, Canada. Shamsi, U. M. and Fletcher, B. A. (1996). Arcview applications in stormwater and wastewater management. Proc. of the AWRA Annual Symposium: GIS and Water Resources, pages 259268. Shamsi, U. M. and Fletcher, B. A. (2001). Comparison of uncertainty analysis methods for a distributed rainfall-runoff model. Journal of Hydrology, 244:4359. Shamsi, U. M. and Fletcher, B. A. (2002). Parameter estimation for urban runoff modelling. Urban Water, 4:3141. Smith, M. B. (1993). A GIS-based distributed parameter hydrologic model for urban areas. Hydrological Processes, 7:4561. Smith, M. B. and Vidmar, A. (1994). Data set derivation for GIS-based urban hydrological modeling. Photogrammetric Engineering and Remote Sensing, 60(1):6776. Sorensen, H. R., Kjelds, J. T., Deckers, F., and Waardenburg, F. (1996). Application of GIS in hydrological and hydraulic modeling: DLIS and MIKE11-GIS. HydroGIS 96: Application of Geographic Information Systems in Hydrology and Water Resources Management, pages 149156. Sotic, A., Despotovic, J., Petrovic, J., Babic, B., Djukie, A., and D., P. (1998). Hydroinfor-

93

matic approach in sewer system design - Kumodraz case study. UDM 98 Fourth International Conf. on Developments in Urban Drainage Modeling, pages 341 346. Thorpe, J. A. (1988). Contour interpolation in large scale urban mapping systems. Proceedings of the World in Space, ACSM/ASPRS Annual Convention, St. Louis, Missouri, March 1318, GIS, 5:6168. Tolson, B. A. and Shoemaker, C. A. (2007). Cannonsville reservoir watershed SWAT2000 model development, calibration and validation. Journal of Hydrology, 337(1-2):6886. USEPA (2001). Better assessment science integrating point and nonpoint sources: BASINS version 3.0 users manual. EPA-823-B-01- 001, page 337. VanGelder, P. and Miller, M. (1996). GIS as an aid in the evaluation of drainage facilities at the Albany County Airport, New York. Proc. of the AWRA Annual Symposium: GIS and Water Resources, 32(12):295303. Viessman, W. and Lewis, G. L. (2003). Introduction to Hydrology. Pearson Education,Inc., Upper Saddle River, NJ. Vieux, B. E. (1993). DEM resampling and smoothing effects on surface runoff modelling. ASCE Journal of Comput. Civil Eng. Special issue on Geographic Information Analysis, 7(3):310338. Vieux, B. E. (2001). Distributed Hydrologic Modelling Using GIS. Kluwer Academic Publishers, Netherlands. Vieux, B. E. and Farajalla, N. S. (1994). Capturing the essential spatial variability in distributed hydrological modelling: hydraulic roughness. Hydrol. Process, 8:221236. Wang, S., Shi, W., Yuan, H., and Chen, G. (2005). Attribute uncertainty in gis data. Second International Conference, FSKD 2005, Changsha, China, August 27-29, 2005, Proceedings, Part II, pages 614623. Warwick, J. J. and Litchfield, J. (1993). Impact of spatial and temporal data limitations on the modeling of runoff quantity and quality. 20th Aniversary Conf. Water Management in the 90s: A time for innovation, ASCE, NY,, pages 862865. 94

Wood, E. F., Sivapalan, M., Beven, K., and Band, L. (1988). Effects of spatial variability and scale with implications to hydrologic modeling. J Hydrol, 102(1-4):2947. Wu, S., Li, J., and Huang, G. H. (2008). Characterization and evaluation of elevation data uncertainty in water resources modeling with gis. Water Resource Management, page 959972. Xu, Z., Schultz, G., and Ito, K. (1998). GIS application in a watershed-based water resources management. UDM 98 Fourth International Conf. on Developments in Urban Drainage Modeling, pages 487494.

95

