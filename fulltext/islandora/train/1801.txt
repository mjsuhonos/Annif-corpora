Ryerson University

Digital Commons @ Ryerson
Theses and dissertations

1-1-2012

Enhancing the Spatial Reusability Offered by Smart Beamforming Antennas in Multi-hop Wireless Networks
Osama Bazan
Ryerson University

Follow this and additional works at: http://digitalcommons.ryerson.ca/dissertations Part of the Electrical and Computer Engineering Commons Recommended Citation
Bazan, Osama, "Enhancing the Spatial Reusability Offered by Smart Beamforming Antennas in Multi-hop Wireless Networks" (2012). Theses and dissertations. Paper 1462.

This Dissertation is brought to you for free and open access by Digital Commons @ Ryerson. It has been accepted for inclusion in Theses and dissertations by an authorized administrator of Digital Commons @ Ryerson. For more information, please contact bcameron@ryerson.ca.

ENHANCING THE SPATIAL REUSABILITY OFFERED BY SMART BEAMFORMING ANTENNAS IN MULTI-HOP WIRELESS NETWORKS
by

Osama Bazan BSc, Cairo University, Cairo, Egypt, 2000 MSc, Cairo University, Cairo, Egypt, 2003
A Dissertation Presented to the School of Graduate Studies at Ryerson University in partial fulfilment of the requirements for the degree of Doctor of Philosophy in the Program of Electrical and Computer Engineering

Toronto, Ontario, Canada, 2009 c Osama Bazan, 2009

Author's Declaration
I hereby declare that I am the sole author of this dissertation. I authorize Ryerson University to lend this dissertation to other institutions or individuals for the purpose of scholarly research. Author's Signature:

I further authorize Ryerson University to reproduce this dissertation by photocopying or other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research. Author's Signature:

ii

Abstract Enhancing The Spatial Reusability Offered by Smart Beamforming Antennas in Multi-Hop Wireless Networks
c Osama Bazan, 2009 Doctor of Philosophy Electrical and Computer Engineering Ryerson University

The increasing use of multi-hop wireless networks and the growing demand of bandwidthintensive multimedia applications are the driving force to explore innovative techniques that can enhance the capacity of multi-hop wireless networks. The commonly used omnidirectional antennas limit the spatial reusability of the wireless channel and hence reduce the available capacity of wireless networks. On the contrary, beamforming antennas, that enable directional transmissions and receptions, can overcome the aforementioned limitation. With the recent advances in signal processing and antenna technologies, smart beamforming antennas have become feasible in compact sizes and suitable prices and hence pertinent to multi-hop wireless networks. However, lack of appropriate control over the antenna beamforming may deteriorate the overall performance even below the level achieved by omnidirectional antennas. Moreover, beamforming antennas introduce unprecedented challenges including deafness and directional hidden terminal problems. Hence, it is important to design efficient mechanisms for both Medium Access Control (MAC) and routing to deal with these challenges that hinder the full exploitation of the spatial reusability offered by smart beamforming antennas. In this dissertation, we develop an analytical framework for modeling directional contention-based MAC protocols, which is, up to our knowledge, the first model to include deafness in the analysis. We show that deafness can severely limit the network capacity. Based on the insights gained from our analysis of the limitations of the existing solutions, we propose a novel opportunistic directional MAC protocol for multi-hop wireless networks with beamforming antennas. The proposed MAC protocol employs a new iii

backoff mechanism that aims at minimizing the unnecessary idle waiting time, which is a key factor in leveraging the spatial reuse. Through extensive simulations, we demonstrate that the proposed MAC protocol enhances the performance in terms of throughput, delay, packet delivery ratio and fairness. We have also addressed the question about the theoretical capacity gain achieved by beamforming antennas. We derive a generic interference model that can accommodate any antenna radiation pattern and show that the capacity gain is significant even when realistic antenna radiation patterns are used. Since smart beamforming antennas can significantly spare the network resources, they can be utilized to provide Quality of Service (QoS) guarantees. We study the bandwidth-guaranteed routing problem in contention-based multi-hop wireless networks with beamforming antennas. We first present an analysis for the wireless links interdependencies in a contention-based environment in the presence of beamforming, which helps in our formulation of the QoS routing problem as a mixed-integer non-linear optimization problem. We then propose a routing and admission control algorithm for its solution. Our simulation results demonstrate the accuracy of our analysis and the ability of our proposed algorithm to find bandwidth-guaranteed routes. In summary, the analysis and design approaches, adopted in this dissertation, enhance the throughput of multi-hop wireless networks by grasping the transmission opportunities offered by smart beamforming antennas while dealing with the beamforming-related challenges at the MAC and network layers, which otherwise limit the spatial reusability of the wireless channel.

iv

Acknowledgements

First and foremost, all praises are due to Allah, who has given me strength, knowledge and patience to accomplish this work. Without His Blessings, Mercy and Grace, this dissertation would not have been possible. I would like to express my deep gratitude to my supervisor, Dr. Muhammad Jaseemuddin, for his guidance and support throughout this work. His expertise, understanding, and patience added considerably to my graduate experience. Through constant encouragement and invaluable advices, he helped me to develop as a researcher and an independent thinker. I particularly enjoyed all those inspiring discussions we had. His careful reviews of this dissertation contributed significantly to its improvement. I would like to thank my thesis committee, Dr. Alagan Anpalagan, Dr. Lian Zhao and Dr. Javad Alirezaie, for taking the time and effort to review this dissertation and provide me with their insightful comments. My deep appreciations go out to Professor Hossam Hassanein, Queen's University, for agreeing to act as my external examiner and for his valuable comments that have added to the final version of this dissertation. I would also like to thank Dr. Abdolreza Abhari for agreeing to be my internal/external examiner. I am also grateful to Dr. Isaac Woungang for granting me access to CPLEX software package. Thanks are also due to the technical staff at the Dept. of Electrical and Computer Engineering, Computer Networks Program and the Dept. of Computer Science for their technical support throughout my graduate program. Appreciation also goes to the administrative staff at the School of Graduate Studies and the Dept. of Electrical and Computer Engineering for all the instances in which their assistance helped me along the way. I would also like to thank the members of the WiNCoRe Lab, present and past, and in particular the MoWiN research group for providing a friendly and supportive environment that helped me during the difficult stages of my research. Furthermore, I acknowledge that this research would not have been possible without the v

financial assistance of the Natural Sciences and Engineering Research Council of Canada, Government of Ontario and Ryerson University. My deepest appreciations go out to my family members to whom I owe so much. I am blessed with my lovely wife, Lamiaa, whose love, patience, understanding and support made my doctoral journey come to this end. There certainly exist no words that could express my gratitude for her compassion and encouragement during the stressful times. I am truly and deeply indebted to her that there is no way to repay. I am also sincerely grateful to my parents for their everlasting care and endless encouragement throughout my entire life. Thank you, mama and papa, for always believing in me. I am also thankful to my parentsin-law for their encouragement. My special appreciations go to my grandmother and my grandmother-in-law who prayed for me days and nights. I would also like to thank Uncle Abdelraouf Bazan for referring me to the PhD program at Ryerson and for hosting me in his house in the few months following my enrollment. Finally, I would like to thank someone very special: my son Zeyad, for being the constant source of joy and happiness.

vi

Contents
Abstract . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . List of Tables . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . iii v x

List of Figures . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . xiii List of Acronyms . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1 Introduction 1.1 1.2 1.3 Research Focus and Motivation . . . . . . . . . . . . . . . . . . . . . . . . . Research Contributions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Dissertation Outline . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . xiv 1 4 6 9 10 10 13 13 14 15

2 Overview on Smart Antennas 2.1 2.2 Antenna Concepts . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Types of Smart Antennas . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2.2.1 2.2.2 2.3 Beamforming Antennas . . . . . . . . . . . . . . . . . . . . . . . . . . MIMO Systems . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

The Antenna System Model . . . . . . . . . . . . . . . . . . . . . . . . . . .

3 Performance Analysis of Directional CSMA/CA in The Presence of Deafness 3.1 Medium Access Control in Wireless Networks . . . . . . . . . . . . . . . . . 3.1.1 IEEE 802.11 DCF . . . . . . . . . . . . . . . . . . . . . . . . . . . . vii 17 18 18

3.1.2 3.2

Basic Directional MAC (DMAC) Protocol . . . . . . . . . . . . . . .

20 23 23 24 26 26 29 29 30 35 40 43 48 50 51 61 65 69 69 70 70 70 71 71 75 75 80

Key Issues with Basic DMAC . . . . . . . . . . . . . . . . . . . . . . . . . . 3.2.1 3.2.2 3.2.3 Deafness . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Directional Hidden Terminal . . . . . . . . . . . . . . . . . . . . . . . Range Underutilization . . . . . . . . . . . . . . . . . . . . . . . . . .

3.3 3.4

Impact of Deafness . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Deafness Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.4.1 3.4.2 3.4.3 3.4.4 3.4.5 Related Work . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . The Model Framework . . . . . . . . . . . . . . . . . . . . . . . . . . Transition Probabilities and State Mean Times . . . . . . . . . . . . Model Validation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Numerical Results . . . . . . . . . . . . . . . . . . . . . . . . . . . .

3.5

Conclusions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

4 An Opportunistic Directional MAC Protocol 4.1 4.2 4.3 4.4 Related Work . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Problem Formulation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Main Design Considerations . . . . . . . . . . . . . . . . . . . . . . . . . . . Protocol Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.4.1 4.4.2 4.4.3 4.4.4 4.4.5 4.5 4.6 RTS Transmission . . . . . . . . . . . . . . . . . . . . . . . . . . . . . RTS Reception and CTS Transmission . . . . . . . . . . . . . . . . . CTS Reception and DATA/ACK Exchange . . . . . . . . . . . . . . . Missing CTS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . The Listening Period . . . . . . . . . . . . . . . . . . . . . . . . . . .

Implementation Details . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Performance Evaluation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.6.1 4.6.2 Simple Topologies . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Random Topologies . . . . . . . . . . . . . . . . . . . . . . . . . . . . viii

4.7

Conclusions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

90 92 94 95 99

5 On the Capacity Gain by Using Beamforming Antennas 5.1 5.2 5.3 Related Work . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . A Generic Interference Model . . . . . . . . . . . . . . . . . . . . . . . . . . The Optimization Problem . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5.3.1 5.3.2 5.4

The Conflict Graph . . . . . . . . . . . . . . . . . . . . . . . . . . . . 100 The Linear Programming Formulation . . . . . . . . . . . . . . . . . 102

Numerical Results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 104 5.4.1 5.4.2 Gain by Beamforming Antennas . . . . . . . . . . . . . . . . . . . . . 105 Gain due to Spatial Reuse Only . . . . . . . . . . . . . . . . . . . . . 107

5.5

Conclusions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 110 112

6 QoS Routing with Contention-based MAC 6.1 6.2 6.3 6.4 6.5 6.6

Related Work . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 114 Analysis of Links Interdependency . . . . . . . . . . . . . . . . . . . . . . . . 119 Problem Formulation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 125 QoS Routing Algorithm . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 129 Performance Evaluation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 131 Conclusions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 138 140

7 Conclusions and Future Work 7.1 7.2

Conclusions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 140 Future Work . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 144 145

Bibliography

ix

List of Tables
3.1 4.1 System parameters. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Comparison between existing directional MAC protocols: Antenna type and protocol operation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.2 Comparison between existing directional MAC protocols: Neighbor discovery, problems addressed , overhead and complexity . . . . . . . . . . . . . . . . . 4.3 4.4 6.1 6.2 Aggregate throughput of flows A-B and A-C for the scenario in Figure 4.4 . New OPDMAC parameters . . . . . . . . . . . . . . . . . . . . . . . . . . . 60 79 83 59 41

Traffic configurations. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 131 Percentage of admitted flows by our admission control scheme. . . . . . . . . 138

x

List of Figures
1.1 2.1 3.1 3.2 3.3 3.4 An illustrative example of the spatial reuse benefit of directional antennas . . Antenna radiation pattern with a main lobe and side lobes. . . . . . . . . . . Channel reservation in IEEE 802.11 MAC. . . . . . . . . . . . . . . . . . . . A scenario to illustrate the DNAV mechanism. . . . . . . . . . . . . . . . . . A scenario to illustrate the deafness problem. . . . . . . . . . . . . . . . . . 3 11 20 22 23

A scenario to illustrate the hidden terminal problem due to the asymmetry in gain. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24 25

3.5 3.6 3.7

A scenario to illustrate the hidden terminal problem due to unheard CTS. .

A scenario illustrating the negative impact of deafness on the channel utilization. 27 A scenario illustrating that deafness is the cause of multiple packet drops and short-term unfairness. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28 32 32 38 42 43 44 45 45

3.8 3.9

A Markov model for the node's transmission activity. . . . . . . . . . . . . . Illustrating the deafness state. . . . . . . . . . . . . . . . . . . . . . . . . . .

3.10 A node x is trying to communicate with a deaf node y . . . . . . . . . . . . . 3.11 Channel saturation throughput for different network densities . . . . . . . . 3.12 Channel saturation throughput for different packet sizes . . . . . . . . . . . . 3.13 Per-node throughput for different beamwidths with N =10. . . . . . . . . . . 3.14 Per-node throughput for different node densities. . . . . . . . . . . . . . . . . 3.15 Optimum beamwidth for different node densities. . . . . . . . . . . . . . . .

xi

3.16 Macro backoff slot for different node densities. . . . . . . . . . . . . . . . . . 3.17 Deafness Index behavior. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.18 Explaining the Deafness Index behavior. . . . . . . . . . . . . . . . . . . . . 4.1 4.2 4.3 4.4 A classification of directional MAC protocols. . . . . . . . . . . . . . . . . . A directional hidden terminal scenario. . . . . . . . . . . . . . . . . . . . . . A deafness scenario. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . A scenario illustrating the trade-off between directional backoff and omnidirectional backoff. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4.5 4.6 4.7 4.8 4.9 The pseudocode of the proposed OPDMAC protocol. . . . . . . . . . . . . . Aggregate throughput for the scenario in Figure 4.2. . . . . . . . . . . . . . . Average delay for the scenario in Figure 4.2. . . . . . . . . . . . . . . . . . . Aggregate throughput for the scenario in Figure 4.3. . . . . . . . . . . . . . . Average delay for the scenario in Figure 4.3. . . . . . . . . . . . . . . . . . .

46 47 47 58 61 62

64 72 76 77 78 78 81 81 82 83 84 84 85 86 86 88 89 89 99

4.10 Aggregate throughput for multihop random network with one-hop flows. . . 4.11 Average delay for multihop random network with one-hop flows. . . . . . . . 4.12 Packet delivery ratio for multihop random network with one-hop flows. . . . 4.13 Aggregate throughput for OPDMAC with the new parameters. . . . . . . . . 4.14 Average delay for OPDMAC with the new parameters. . . . . . . . . . . . . 4.15 Packet delivery ratio for OPDMAC with the new parameters. . . . . . . . . 4.16 Aggregate throughput for OPDMAC with different LP windows. . . . . . . . 4.17 Average delay for OPDMAC with different LP windows. . . . . . . . . . . . 4.18 Packet delivery ratio for OPDMAC with different LP windows. . . . . . . . . 4.19 Aggregate end-to-end throughput for random multi-hop topologies and flows. 4.20 Average end-to-end delay for random multi-hop topologies and flows. . . . . 4.21 The Fairness Index for random multi-hop topologies and flows. . . . . . . . . 5.1 An example to illustrate the interference model. . . . . . . . . . . . . . . . .

xii

5.2 5.3 5.4 5.5 5.6

An example to illustrate the conflict graph. . . . . . . . . . . . . . . . . . . . 101 The number of vertices in the conflict graph for the same transmission power. 106 The average vertex degree in the conflict graph for the same transmission power.106 The maximum flow in the network for the same transmission power. . . . . . 107 The number of vertices in the conflict graph for the same peak transmission range. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 108

5.7

The average vertex degree in the conflict graph for the same peak transmission range. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 108

5.8 6.1

The maximum flow in the network for the same peak transmission range. . . 109 A classification of conflicts between the wireless links in contention-based multi-hop wireless networks with beamforming antennas . . . . . . . . . . . 121

6.2 6.3 6.4 6.5 6.6 6.7 6.8 6.9

A simple example to illustrate the colored conflict graph . . . . . . . . . . . 123 Throughput in case of zone-disjoint routing algorithm. . . . . . . . . . . . . 132 End-to-end delay in case of zone-disjoint routing algorithm. . . . . . . . . . . 132 Throughput in case of Dijkstra routing algorithm. . . . . . . . . . . . . . . . 133 End-to-end delay in case of Dijkstra routing algorithm. . . . . . . . . . . . . 133 Throughput in case of the proposed QoS routing algorithm. . . . . . . . . . 134

End-to-end delay in case of the proposed QoS routing algorithm. . . . . . . . 135 Average packet delivery ratio for different Bmax . . . . . . . . . . . . . . . . . 136

6.10 Total throughput for different Bmax . . . . . . . . . . . . . . . . . . . . . . . . 137 6.11 Average delay for different Bmax . . . . . . . . . . . . . . . . . . . . . . . . . 137

xiii

List of Acronyms
AoA BFN CBR CCG CDMA CRM CSMA CSMA/CA CTS CW DCF DCTS DDSR DIFS DMAC DMAC-OM-BO DNAV DoA DRP DRTS DSP DSR DSSS DVCS F-DMAC-TONE Angle-of-Arrival Beam Forming Network Constant Bit Rate Colored Conflict Graph Code Division Multiple Access Circular Request-To-Send Medium access control Carrier Sensing Multiple Access Carrier Sensing Multiple Access with Collision Avoidance Clear-To-Send Contention Window Distributed Coordinated Function Directional Clear-To-Send Directional Dynamic Source Routing Distributed Coordinated Function Interframe Spacing Directional Medium Access Control Directional Medium Access Control with Omni-directional Backoff Directional Network Allocation Vector Direction-of-Arrival Directional Routing Protocol Directional Request-To-Send Digital Signal Processing Dynamic Source Routing Direct Sequence Spread Spectrum Directional Virtual Carrier Sensing Fragmentation-based Directional Medium Access Control with TONE xiv

FIFO GPS HoL LP MAC MANET MCF MIMO NAV OCTS OPDMAC ORTS PDR PLCP QoS RREQ RTS RTT SDC SIFS SINR SNR SSC TDMA TCP

First Input First Output Global Positioning System Head-of-Line Listening Period Medium Access Control Mobile Ad-hoc Network Multi-Commodity Flow Multiple Input Multiple Output Network Allocation Vector Omni-directional Clear-To-Send Opportunistic Directional Medium Access Control Omni-directional Request-To-Send Packet Delivery Ratio Physical Layer Convergence Procedure Quality of Service Route Request Request-To-Send Round Trip Time Strong Destination-based Conflict Short Interframe Spacing Signal to Interference and Noise Ratio Signal-to-Noise Ratio Strong Source-based Conflict Time Division Multiple Access Transmission Control Protocol

xv

VCS WDC WLAN WSC

Virtual Carrier Sensing Weak Destination-based Conflict Wireless Local Area Network Weak Source-based Conflict

xvi

Chapter 1 Introduction
The proliferation of computing devices in different form factors in conjunction with the rapid advances in communication and wireless networking has brought about a revolution in information technology. The wireless technologies provide a highly flexible, mobile, cost-effective and easy to use communication service that has started the era of pervasive communications and computing. Motivated by numerous applications and broad range of services, the research community is developing methods, architectures and protocols to overcome the challenges of wireless networks. Traditionally, wireless networks are designed to provide single hop connectivity either to cellular base stations or Wireless Local Area Network (WLAN) access points. However, the possibility to extend the wireless coverage, improve the overall capacity and enable network auto-configuration with no infrastructure support has sparked the idea of multi-hop wireless networks in which nodes are able to forward data targeted for other nodes [1]. The concept of multi-hop wireless networks dates back to the 1970s with the introduction of packet radio networks. However, the development of the multi-hop wireless networking paradigm has recently surged with the increasing interest in Mobile Ad-hoc Networks (MANETs) and their applications in battlefield and disaster relief environments which evolved to a broader arena that encompasses wireless mesh networks, wireless sensor networks, wireless personal

1

area networks, mobile multi-hop relay networks, multi-hop cellular networks, delay tolerant networks, and vehicular ad-hoc networks. The research on multi-hop wireless networks has attracted both academia and the wireless industry resulting in rapid commercialization, such as community mesh networks and WiMAX, as well as recent standardization efforts such as IEEE 802.11s and IEEE 802.16j. Motivated by the rapid deployment and emerging applications, the research community is interested in developing innovative solutions to address the challenges facing multi-hop wireless networks. Some of the key challenges include interference-limited capacity, power efficiency, quality of service and security. In this context, the "smart beamforming antennas" technology is a promising technology to be utilized with multi-hop wireless networks [2, 3]. Although smart beamforming antennas have provided significant improvements in expanding coverage and mitigating interference when deployed in cellular networks [4], omni-directional antennas are still dominating all forms of multi-hop wireless networks. This is mainly due to the cost and size limitations. However, the recent advances in the antenna technology along with the shift towards higher operating frequencies have made it feasible to use this technology even in small, mobile and battery-operated devices [5,6]. By the smart beamforming antenna technology, we refer to the antenna arrays technology coupled with sophisticated signal processing techniques responsible for the smart beamforming of the antenna radiation pattern. Recently, the use of smart beamforming antennas in multi-hop wireless networks has received increasing attention in the research community due to their potential benefits and numerous advantages compared to omni-directional antennas. Some of these benefits include the following aspects: · Since a directional antenna is able to radiate energy in the direction of the intended receiver, this transmission does not interfere with neighboring nodes residing in other directions. This increases the spatial reuse of the wireless channel as multiple simultaneous transmissions can take place within the same vicinity. The possibility of having 2

R2

R2

X
S2 R1 S1 S3 R4 S3 S1 R4 S2 R1

X
R3

X
S4 R3 S4

(a) Omni-directional antennas.

(b) Directional antennas

Figure 1.1: An illustrative example of the spatial reuse benefit of directional antennas. In case of omni-directional antenna, a single communication S1 -R1 precludes all other communications that involve the neighbors of either S1 or R1 , whereas using directional antenna all four pair wise communications can occur simultaneously. more simultaneous transmissions in the same region promises a significant improvement in the wireless network capacity. Figure 1.1 shows this intuitive benefit and how the limited scope of the directional transmissions can increase the channel utilization significantly. · The directional reception and the ability of sophisticated smart beamforming antennas to completely suppress the reception from interfering directions can significantly reduce interference, which deals with a major problem in multi-hop wireless networks. · Focusing more energy in the intended direction (directional gain) increases the Signalto-Noise Ratio (SNR). This improves the link reliability and robustness. · For the same transmit power as omni-directional antennas, the directional gain of smart beamforming antennas is translated to communication range extension. This may lead to fewer-hops routes and consequently a reduction in the end-to-end delay. In addition, the communication range extension makes it possible to bridge network 3

partitions improving the network connectivity. · Reductions in the power consumption can trade-off the benefit of range extension. For a specific pair of nodes, smart beamforming antennas are able to reduce the transmit power while maintaining the same wireless link quality as omni-directional antennas. This makes smart beamforming antennas an attractive option to be used in batteryoperated networks. · The unique features of smart beamforming antennas reduce the risks of eavesdropping and jamming, hence, providing more secure wireless communication. In addition to the above-mentioned benefits, smart beamforming antennas provide more opportunities such as location estimation and efficient broadcasting. However, it is not sufficient to plug-and-play a smart beamforming antenna to exploit the offered potential. The smart beamforming antenna system needs to be appropriately controlled by upper layers of the networking protocol stack [7]. Several network mechanisms such as Medium Access Control (MAC) and routing need to be redesigned in order to realize the full potential of the smart beamforming antennas.

1.1

Research Focus and Motivation

From the above discussion, it is apparent that smart beamforming antennas offer a number of potential benefits for improving the performance of multi-hop wireless networks. Based on the network's usage and applications, the smart beamforming antenna can be efficiently utilized to satisfy the network's requirements such as higher throughput, quality of service guarantees and power savings just to name a few. However, an important measure of any wireless network operational performance is its capacity. The increasing use of multi-hop wireless networks and the ever-growing demand of bandwidth-intensive network applications are the driving force behind exploring innovative techniques that enable multi-hop wireless

4

networks to provide higher throughput. Researchers have looked into solutions that can exploit the physical layer capabilities such as multi-channel networks, power control and rate control. In this dissertation, we focus on the use of smart beamforming antennas in multi-hop wireless networks in order to overcome their capacity limitations. By employing directional transmission and reception, the spatial reuse of the wireless channel can be substantially enhanced. Nevertheless, the traditional network protocols fail to interact with an underlying smart beamforming antenna since these protocols were originally designed to run on nodes equipped with omni-directional antennas. The lack of the appropriate control over the antenna beamforming may deteriorate the overall performance even below the level achieved by omni-directional ones. This is the motivation behind our focus on the networking aspects of multi-hop wireless networks using smart beamforming antennas. There is an adequate work done that deals with the issues and techniques of using smart beamforming antennas at the physical layer, particularly in the context of cellular networks; however, the research in the area of multi-hop wireless networks is still in its infancy. Hence, it is important to investigate innovative mechanisms, at the MAC and network layers, that are capable of harnessing the potential of higher spatial reuse using smart beamforming antennas. The benefits of utilizing smart beamforming antennas are not free from trade-offs. Indeed, they pose new challenges. Although the directionality of the smart beamforming antennas promises a significant increase in the spatial reuse, it gives rise to a critical problem referred to as deafness [8]. Deafness was first identified in the context of a directional version of IEEE 802.11 Carrier Sensing Multiple Access (CSMA) MAC known as the Basic Directional MAC (DMAC) protocol [9]. It occurs when a transmitter tries to communicate with a receiver but fails because the receiver is engaged in another communication in a different direction. Due to the characteristics of directional beamforming, the intended receiver is not able to receive the transmitter's signal and as a result appears deaf to the transmitter. Not designing a suitable response of the transmitter in dealing with this new category of failure could result in a significant underutilization of the wireless channel leading to a significant loss in the

5

network capacity. We will discuss the deafness problem in details later in Chapter 3. In addition to deafness, directional communication introduces other challenges such as new kinds of hidden terminal problems, additional intra-flow interference in some topologies and the frequent loss of channel state due to the possibility of missing control packets. All the aforementioned challenges make the problem of exploiting the spatial reusability in multi-hop wireless networks using smart beamforming antennas an interesting research challenge. Recently, there have been some research efforts to utilize smart beamforming antennas in multi-hop wireless networks. Most of the works have focused on the MAC layer. Nevertheless, there is still a lack of solid understanding of some of the major issues such as the deafness problem. Moreover, most of the proposed directional MAC protocols are still incapable of fully leveraging the benefits of smart beamforming antennas. From the routing perspective, there have been very few attempts to exploit the potential gains. The works on the network layer have focused on either modifying the operation of the existing ad hoc routing protocols or employing multi-path routing without developing new route selection criteria specific to the underlying smart beamforming antennas. Also, the lack of theoretical foundation in the existing approaches is one of the motivations of our work. Quality of Service (QoS) support has become an essential component in today's wireless networks that are increasingly designed to support multimedia applications and real-time services. Although utilizing smart beamforming antennas in multi-hop wireless networks promises a significant increase in the network capacity and consequently additional QoS guarantees, its effectiveness in providing QoS assured routing is still unexplored. Hence, it is necessary to address this issue in this dissertation as well.

1.2

Research Contributions

The main objective of this doctoral research is to design techniques for exploiting the spatial reusability offered by smart beamforming antennas in multi-hop wireless networks. In order

6

to achieve this objective, we first develop a deep and solid understanding of the challenges and the limitations of the existing solutions. Based on our analysis, we address the identified issues at both the MAC and routing layers. Our approach relies on theoretical foundations and algorithmic methodologies. The key contributions of this dissertation are summarized as follows: · Developing an analytical model to evaluate the performance of directional CSMA with Collision Avoidance (CSMA/CA) in multi-hop wireless networks in the presence of deafness. ­ We present an analytical framework that models the transmission activity of the node taking into consideration the unique differences between collision failures and deafness failures. ­ Using our analytical model, we demonstrate that the problem of deafness can offset the benefits of spatial reuse. In contrast to one's intuition, we show that decreasing the beamwidth of the directional antenna below a certain value does not improve the network capacity but on the contrary results in a steep decrease in the throughput due to the negative impact of deafness · Designing a novel opportunistic directional MAC protocol to exploit the spatial reusability of multi-hop wireless networks with smart beamforming antennas. ­ We investigate the behavior of existing directional MAC protocols and discuss various design considerations to build a foundation for the proposed MAC protocol. ­ With the objective of minimizing the idle wait time of the channel, we design an opportunistic directional MAC protocol that is capable of exploring the transmission opportunities and the spatial reusability offered by beamforming antennas. The proposed protocol employs a novel backoff mechanism suitable for networks with smart beamforming antennas. 7

­ We discuss and evaluate the benefits of carefully choosing the protocol parameters instead of using the default values specified by the IEEE 802.11 standard commonly used by directional contention-based MAC protocols. · Developing a theoretical framework to evaluate the capacity gain when smart beamforming antennas are utilized instead of omni-directional antennas in multi-hop wireless networks. ­ We derive a generic interference model in multi-hop wireless networks taking into account a generic antenna radiation pattern. ­ Based on our interference model, we formulate the problem as a multi-commodity flow problem with novel interference constraints. ­ Using our formulation, we evaluate the network capacity gain when switchedbeam antennas are utilized. We discuss the gain from both the spatial reuse and the range extension. · Designing a QoS routing algorithm for contention-based multi-hop wireless networks with smart beamforming antennas. ­ We analyze the interdependencies of the wireless links under a directional contentionbased MAC protocol by means of a novel colored conflict graph. ­ We formulate the single-path bandwidth-guaranteed routing problem as an optimization problem. ­ We devise a routing and admission control heuristic that can efficiently solve our QoS routing problem. We evaluate the performance of the proposed MAC protocol and routing algorithm by means of extensive simulations. We build a simulation model for wireless stations equipped with switched beam smart antennas in OPNET environment [10]. In addition to modeling

8

the proposed approaches, we model some of the existing ones as well for the sake of comparison. Our evaluation endorses the proposed strategies as effective mechanisms in exploiting the spatial reusability of multi-hop wireless networks with smart beamforming antennas.

1.3

Dissertation Outline

The remainder of this dissertation is organized as follows. In the next chapter, we present a brief overview of the concepts of smart beamforming antennas. In Chapter 3, we investigate the challenges and problems that face multi-hop wireless networks with beamforming antennas when a directional version of IEEE 802.11 MAC is employed. We then present a performance analysis for CSMA/CA multi-hop wireless networks in the presence of deafness. Based on the insights from our analysis, and the deficiencies of the existing work in the context of medium access control with beamforming antennas, we identify the key problems that prevent the full exploitation of the spatial reuse in Chapter 4. Hence, we propose a novel opportunistic directional MAC protocol that is designed to maximize the spatial reusability in multi-hop wireless networks with smart beamforming antennas. In Chapter 5, we investigate the theoretical capacity gain that can be achieved when smart beamforming antennas are utilized. Having addressed the beamforming challenges by a novel directional MAC protocol in Chapter 4, we focus on complementing the gains by exploiting the spatial reusability at the network layer in Chapter 6. We formulate the problem of QoS routing in contention-based multi-hop wireless networks with smart beamforming antennas and propose a heuristic to efficiently solve the problem. Finally, we conclude this dissertation in Chapter 7 and present some directions for future work.

9

Chapter 2 Overview on Smart Antennas
In this chapter we provide a concise overview on smart antennas. We do not intend to cover all their aspects but aim to provide the reader with enough knowledge to understand the MAC and routing research reported in this dissertation. For additional details please refer to [4, 11, 12].

2.1

Antenna Concepts

The primary function of any radio antenna is to couple electromagnetic energy from one medium to another. Traditionally, simple dipole antennas are used to radiate/receive energy equally to/from all directions. These antennas are known as omni-directional antennas. On the other hand, directional antennas are able to radiate/receive energy to/from one direction more than the others. An important characteristic of an antenna is its gain as it is used to quantify the directionality of the antenna. The gain of an antenna in a certain direction indicates the relative power in that direction compared to the omni-directional antenna. The gain is usually measured in dBi with the gain of an omni-directional antenna = 0 dBi. Since the transmission and reception characteristics of the antenna are reciprocal, the directional antenna has both transmission and reception gains. The gain values in all directions of space are represented 10

90° 120° 60°

150°

- 3dB

30°

180°

0°

210°

330°

240° 270°

300°

Figure 2.1: Antenna radiation pattern with a main lobe pointing at 0o and side lobes with smaller gains.

by the antenna radiation pattern. A directional antenna pattern usually consists of a high gain main lobe (beam) and smaller gain side and back lobes. Figure 2.1 shows an example for an antenna radiation pattern. The peak gain is the maximum gain over all directions and lies along the axis of the main lobe which is also known as the boresight of the antenna. Another characteristic of a directional antenna is its beamwidth which formally refers to the angle subtended by the directions on either side of the boresight which are 3dB less in gain. However, ideal directional antennas are assumed to have an ideal antenna pattern in which the gain is constant in the main lobe and zero outside. The relation between the antenna characteristics and the transmitted and received power is governed by Friss equation [12]. The received power Pr at a distance r from a transmitter with transmission power Pt is given by: Pt Gt Gr , Kr

Pr =

(2.1)

where Gt and Gr are the transmitter and receiver gains along the straight line joining the transmitter and receiver,  is the path loss exponent and K is a constant that is a function of

11

the wavelength. A receiver can interpret the received signal if the received power is greater than or equal to the receiver sensitivity threshold. Based on (2.1), we can formally identify the benefits of directional antennas. Since the gain along the main beam of the directional antenna (Gd > 1) is always greater than the gain of the omni-directional antenna (Go = 1), the directional transmission results in communication range extension, denoted by rmax , for constant transmit power Pt . Moreover, the gain from directional reception in conjunction with the directional transmission can increase the communication range further. For a constant distance r between the transmitter and the receiver, the directional transmission and/or reception will increase the received power Pr , hence increasing the reliability of the wireless link. Also, we can significantly decrease the transmit power Pt while preserving the same received power Pr at a particular distance r. On the other hand, since the gain outside the main beam of the directional antenna is very small (ideally null), the directional transmission reduces the generation of interference towards unintended directions. Similarly, the reception from one direction suppresses the interference coming from other directions. This enhances the spatial reuse significantly. Directional antennas are often realized by means of antenna arrays. In order to produce a specific antenna radiation pattern, single antenna elements (e.g. dipoles) are arranged in an antenna array with physical separation in terms of a fraction of the wavelength. Hence, the size of the antenna array is inversely proportional to the operating frequency. The overall radiation pattern of an antenna array is determined by the number of elements, the element spacing, the geometrical configuration of the array and the amplitude and phase of the applied signal to each element. The "smart antennas" technology refers to the combination of an antenna array with Digital Signal Processing (DSP) techniques and sophisticated antenna array control algorithms that are developed to automatically control the overall radiation pattern of the array.

12

2.2

Types of Smart Antennas

The signal processing techniques allow the antenna elements to transmit and receive in an adaptive, spatially sensitive manner. The term "smart antennas" represents a broad variety of antennas. There are two major variants of this technology which are beamforming antennas and Multiple Input Multiple Output (MIMO) systems [13].

2.2.1

Beamforming Antennas

The smart beamforming antenna system employs DSP techniques to adaptively change the radiation pattern of the directional antenna 1 . In particular, the DSP algorithms are used to estimate the Direction-of-Arrival (DoA) of the signal and use this information to calculate the weights applied to the signal at each antenna element that are responsible for changing the radiation pattern. The amount of control over the beamforming process relies on the sophistication of these algorithms. Smart beamforming antennas are classified into switched beam systems and steered beam systems.

Switched Beam Antenna Systems In switched beam systems, the antenna array is combined with a fixed Beam Forming Network (BFN). The BFN consists of a predetermined set of weight vectors, where the configuration of weights in a vector determines the direction in which the antenna radiation pattern is beamformed. Based on the direction-of-arrival estimation, the BFN chooses a weight vector to be applied to the signal received/transmitted by the antenna array. In other words, the antenna adaptively switches to one of the predefined set of beams. Switched beam antennas can provide most of the benefits of smart antennas at a small fraction of complexity and expense. Spatial reuse, range extension and power saving are possible with this type of smart antennas. However, they do not guarantee maximum gain
Many refer to "smart beamforming antennas" as "directional antennas". In this dissertation, we will use the two terms interchangeably.
1

13

due to scalloping. Scalloping is the roll-off of the antenna pattern as a function of the angle from the boresight. If the desired direction is not on one of the predetermined boresights, the transceiver will suffer from gain reduction. Moreover, switched beam antennas are not able to fully eliminate the interference outside the main lobe due to the absence of control on the side lobes.

Steered Beam Antenna Systems They are also known as adaptive antenna array systems. They provide a high degree of flexibility in configuring the radiation patterns. Using a variety of sophisticated signal processing algorithms, the adaptive array antennas can adapt their weights in order to maximize the resulting Signal to Interference and Noise Ratio (SINR). The boresight of the main lobe can be directed towards the target to optimize the gain. Additionally, nulls can be placed in the direction of interfering sources to suppress their interference. Although steered beam systems can outperform switched beam systems especially in multi-path environments, the associated complexity and cost are limiting factors. The need to continuously locate and track various types of signals complicates the signal processing task which results in a significant increase in the power consumption.

2.2.2

MIMO Systems

MIMO systems represent the most sophisticated technology under the umbrella of smart antennas. A MIMO link utilizes adaptive antenna arrays at both the transmitter and the receiver to overcome the limitations of multi-path environments. There are two operational modes: spatial multiplexing and diversity. Spatial multiplexing gain is achieved when the multiple independent streams of data are transmitted out of different antennas with equal power. Each transmitted stream has a different spatial signature due to the rich multipath environment. These differences are exploited by the receiver signal processor to separate the streams. On the other hand, when dependent streams are transmitted, the rich multipath 14

can help the data streams fade independently at the receiver and diversity gain is achieved.

2.3

The Antenna System Model

In this research, we focus on exploiting the spatial reusability in multi-hop wireless networks with smart beamforming antennas. In his seminal study on using beamforming antennas in ad hoc networks [2], Ramanathan concluded that switched beam systems are as good as steered beam systems when spatial reuse is under consideration. Sundaresan et al. in [13] show that the gain of adaptive antenna arrays over switched beam antennas may not justify the complexity and communication overhead incurred in adapting the radiation pattern unless the multipath scattering is very large. Since the major limitation in utilizing smart antennas is their cost, switched beam antenna systems are the potential candidates for being the first generation of smart beamforming antenna technology to be used in multi-hop wireless networks. Hence, we will focus on this type of smart antennas in this work. However, our proposed algorithms and protocols can be utilized with adaptive antenna arrays as well. Following is the description of the beamforming antenna system we consider in discussing our work in this dissertation. The antenna system comprises a number of non-overlapping fixed beam-patterns that can together cover the whole azimuth plane. The system operates in one of two modes: omni-directional or directional. An idle node resides in the omnidirectional mode since it cannot anticipate the direction from which the signal might arrive. Once a signal is detected, the antenna begins to receive the signal. As soon as the signal is sensed, the antenna system invokes the directional-of-arrival estimation algorithm to select the direction through which the signal is the strongest and it switches to the directional mode. In other words, the antenna system performs an azimuthal scan, selects the beam with the maximum received signal power and beamforms using this particular beam. The chosen beam is cached to be used in future communication with the transmitting node. In case of transmission, the antenna system operates in the directional mode. The packets to

15

be transmitted arrive from upper layers along with a transceiver profile that contains the transmitting beam to be utilized. Having presented the preliminaries in this chapter, we focus in the rest of this dissertation on the networking aspects of multi-hop wireless networks with smart beamforming antennas.

16

Chapter 3 Performance Analysis of Directional CSMA/CA in The Presence of Deafness
Utilizing smart beamforming antennas in multi-hop wireless networks promises a significant improvement in the network performance. By employing the directional transmission and reception, the spatial reusability of the wireless channel can be escalated. However, this directionality creates new challenges and issues that can offset the potential benefits of beamforming antennas. One critical problem is known as deafness [8]. Deafness is a Medium Access Control (MAC) layer problem that could result in a significant underutilization of the wireless channel. The effect of deafness has been identified through simulation but it has not yet been analyzed. In this chapter, we start with a brief summary of IEEE 802.11 [14] and its directional version which is known as Basic Directional MAC (DMAC) [9]. We then investigate the challenges and problems that arise when Basic DMAC is in operation, with an emphasis on the deafness problem. We develop an analytical framework for modeling directional Carrier Sense Multiple Access with Collision Avoidance (CSMA/CA) MAC protocols, which is, up

17

to our knowledge, the first ever model to include deafness in the analysis. Based upon our analysis, we are able to present a deeper evaluation of the deafness problem and its negative impact on the spatial reusability of the wireless channel.

3.1

Medium Access Control in Wireless Networks

The wireless medium is open and shared by several nodes in the network. If acquiring this resource is left uncontrolled, multiple nodes may try to access it at the same time. The goal of the MAC protocol is to set the rules in order to enable efficient and fair sharing of the common wireless channel. The MAC protocol typically needs to maximize the channel utilization by having as many simultaneous communications as possible. Medium access control protocols for wireless networks [15] may be classified into two major categories: contention-based and contention-free MAC. In contention-based MAC, nodes compete to access the shared medium through random access. In case of conflict occurrence, a distributed conflict resolution algorithm is use to resolve it. The most commonly considered contention-based MAC mechanism is the CSMA/CA. On the other hand, contention-free MAC is based on a controlled access in which the channel is allocated to each node according to a predetermined schedule. Contention-free MAC protocols are relatively complex to be implemented in distributed environments like multi-hop wireless networks. In this dissertation, we focus on the CSMA/CA approach due to its simplicity and its wide spread usage in multi-hop wireless networks. The IEEE 802.11 Distributed Coordinated Function (DCF) is one of the CSMA/CA based protocols which has lately received a great attention.

3.1.1

IEEE 802.11 DCF

In IEEE 802.11 DCF MAC [14], a node wishing to access the wireless medium should perform physical carrier sensing before initiating transmission. This is the CSMA part of the protocol.

18

However, the performance of CSMA degrades significantly in multi-hop wireless networks due to the hidden terminal problem. When two nodes are outside the carrier sensing range of each other, they are said to be hidden. If both nodes attempt to communicate with a common node, collision occurs at the receiving node. To overcome this problem, collision avoidance is implemented by a handshaking mechanism before data transmission [16]. The data transmission is preceded by transmitting a short Request-To-Send (RTS) packet to the intended receiver which in turn responds with a short Clear-To-Send (CTS) packet if the channel is idle at the receiver site for Short Interframe Spacing (SIFS) period. Both RTS and CTS packets contain the proposed duration of transmission. Nodes located in the vicinity of the communicating nodes, which overhear either of these control packets, must themselves defer transmission for the proposed duration. This is called Virtual Carrier Sensing (VCS) and is implemented through a mechanism called the Network Allocation Vector (NAV). A node updates the value of the NAV with the duration field specified in the RTS or CTS. Thus, the area covered by the transmission range of the sender and receiver is reserved. This procedure reduces the probability of collision dramatically. Figure 3.1 shows the collision avoidance operation in IEEE 802.11 MAC. The IEEE 802.11 MAC protocol uses a backoff mechanism to resolve channel contention. Before initiating a transmission, each node performs both virtual and physical carrier sensing. If NAV is not set, and the channel is sensed idle, the node defers for DCF Interframe Spacing (DIFS) period before sending its packet. If the channel is found busy (by physical carrier sensing), the node chooses a random backoff interval from [0, CW ], where CW is called the contention window. The CW is initialized to the value of CWmin . After every idle slot time, the node decrements the backoff counter by one. When it reaches zero, the node can transmit its packet. In case a CTS or ACK packet is not received back, the node assumes a collision has occurred with some other transmission and it invokes the binary exponential backoff algorithm. In this backoff algorithm, the node doubles its CW , chooses a new backoff interval and tries retransmission again once the backoff timer expires. The CW is doubled on

19

DIFS

SIFS

Source

RTS SIFS CTS

DATA SIFS ACK DIFS CW time

Destination

Other Nodes

NAV (RTS) NAV (CTS)
NAV (DATA)

Defer Access

Backoff

Figure 3.1: Channel reservation in IEEE 802.11 MAC.

each collision until it reaches a maximum threshold, called CWmax . Retransmission retries are limited by a threshold after which the packet is discarded. If the medium is sensed busy during the backoff stage, the node freezes its backoff and resumes it once the medium has become idle for DIFS duration. Once a transmission is successfully transmitted, CW is initialized to its minimum value for the next transmission.

3.1.2

Basic Directional MAC (DMAC) Protocol

The design of IEEE 802.11 implicitly assumes an omni-directional antenna at the physical layer. When smart beamforming antennas are used, IEEE 802.11 MAC does not work properly. Some researchers have looked into adapting IEEE 802.11 to the case of beamforming antennas. Ko et al. in [17] are among the first to investigate appropriate MAC protocols for beamforming antennas. They propose to transmit RTS directionally if it does not interfere with any ongoing transmissions. This simple modification is able to increase the spatial reuse in terms of the number of concurrent communications in the network. Nasipuri et al. in [18] propose the use of directional transmission and reception for data communication in 20

order to reduce the interference of the wireless channel. However, both RTS and CTS are sent omni-directionally, to help the nodes know each other's directions, which offsets the benefit of spatial reuse. In [19], Bandyopadhyay et al. uses beamforming antennas that are able to form multiple beams as well as multiple nulls. According to their MAC protocol, RTS and CTS are sent selectively multi-directional to avoid interfering with known ongoing communications. Moreover, communicating nodes steer nulls towards directions that are selectively ignored in the RTS/CTS transmission. Takai et al. propose the concept of directional virtual carrier sensing in [20]. If a node receives RTS/CTS from a certain direction, it needs to defer transmissions only in that direction in which another communication is in progress. The directional virtual carrier sensing is implemented using a Directional NAV (DNAV) mechanism which is also proposed in [9]. Choudhury et al. generalize the ideas in [17] and propose a directional version of IEEE 802.11 DCF MAC under the name of "Basic DMAC" [9]. Basic DMAC is considered the benchmark for directional medium access control protocols. The operation of Basic DMAC can be described as follows. First, it is assumed that an upper layer is aware of the neighbors of a node and is capable of supplying the transceiver profiles required to communicate with each of these neighbors. The DMAC protocol receives these transceiver profiles along with the packet to be transmitted. Channel reservation in Basic DMAC is performed using RTS/CTS handshake, both being transmitted directionally. When a node has a packet to be transmitted, it beamforms in the direction of the receiver and performs the physical carrier sensing for DIFS period. If the channel is sensed idle, the node enters the backoff phase (similar to 802.11). While in the backoff phase, Basic DMAC requires the node to remain in the directional mode. When the backoff counter counts down to zero, the node transmits the directional RTS packet. In Basic DMAC, an idle node listens to the channel omni-directionally. When it receives a signal arriving from a particular direction, its antenna system is capable of determining the Direction-of-Arrival (DoA) of this incoming signal. The receiving node locks onto that signal and receives it. When the intended receiver receives the RTS packet, it senses the

21

C

B

D

A

E Blocked by DNAV

Figure 3.2: A scenario to illustrate the DNAV mechanism.

medium directionally for SIFS period before replying back with a directional CTS packet. All other nodes that overhear RTS or CTS update their DNAV entries. The DNAV table is a table that keeps track of the directions and the corresponding durations toward which a node must not initiate a transmission. In other words, if a node receives an RTS or CTS from a certain direction, then it needs to defer only those transmissions in (and around) that direction. This means that a transmission intended towards some other direction may be initiated. Figure 3.2 illustrates the DNAV mechanism. Node A sets its DNAV for the beam towards node C to avoid interfering with the ongoing communication between node B and node C . Based on the concept of Directional Virtual Carrier Sensing (DVCS), node A is not allowed to transmit to node D but can freely communicate with node E . In case of a successful RTS/CTS handshaking, DATA/ACK packets are exchanged directionally. If the sender does not receive CTS back within a CTS-timeout, it schedules a retransmission of the RTS packet and directionally enters the binary exponential backoffing procedure.

22

3.2

Key Issues with Basic DMAC

In this section, we discuss some channel access problems with Basic DMAC. These problems emphasize that a simple adaptation of CSMA/CA to beamforming transmissions is not sufficient to leverage the expected benefits [21]. Beamforming antennas create new challenges that must be considered in the design of the directional MAC protocols.

3.2.1

Deafness

Deafness [8] is a main drawback of directional beamforming. In simple terms, deafness occurs when a transmitter fails to communicate with its intended receiver because the receiver is beamformed towards a direction away from the transmitter. Considering the example in Figure 3.3, nodes B and C are engaged in directional communication. Node A is unaware of the ongoing communication and attempts to communicate with node B . Since node B is beamforming in another direction, it is deaf to node A's transmission. In the case of Basic DMAC, or any deafness-unaware CSMA/CA protocol, the transmitter considers this kind of failure as an indication of collision and reacts accordingly. This inappropriate behavior degrades the network performance significantly. We will elaborate on the deafness problem and its impact later in Section 3.3.

A C

B

Figure 3.3: A scenario to illustrate the deafness problem.

23

3.2.2

Directional Hidden Terminal

The hidden terminal problem in IEEE 802.11 MAC is alleviated using RTS/CTS handshaking [16]. However the directional transmission of RTS/CTS introduces two new types of hidden terminal problems [21].

Hidden Terminal Due to Asymmetry in Gain This problem is basically due to the fact that the antenna gain in the omni-directional mode (Go ) is smaller than the gain when the antenna is beamformed (Gd ). When an idle node is listening to the medium omni-directionally, it may be unaware of some ongoing transmissions that could be affected with its directional transmission.

C B

A

Figure 3.4: A scenario to illustrate the hidden terminal problem due to the asymmetry in gain.

To explain this type of hidden terminal problem, we refer to the scenario in Figure 3.4. Assume that node A and node C are out of each other's range when one is transmitting directionally (with gain Gd ) and the other is receiving omni-directionally (with gain Go ). However, they are within each other's range only when both the transmission and reception are done directionally (both with gain Gd ). First, node B transmits RTS directionally to node C , and node C responds back with a directional CTS. Node A is idle (still in omni-

24

directional mode) so it is unable to hear the CTS. Data transmission begins from node B to node C with both nodes pointing their transmission and reception beams towards each other. While this communication is in progress, node A has a packet to send to node B . Node A beamforms towards node B (which is the same direction of node C ) and performs the carrier sensing. Since the channel is sensed idle, node A sends a directional RTS to node B . However, since node C is receiving data directionally using a beam pointed toward node B (and node A), the RTS from node A interferes with node B 's data transmission at the receiver C causing collision.

Hidden Terminal Due to Unheard RTS/CTS

C
(2)

B

(3)

A
(1)

D

Figure 3.5: A scenario to illustrate the hidden terminal problem due to unheard CTS.

This type of hidden terminal problem occurs as a result of the loss in the channel state information during beamforming. In Figure 3.5, suppose that node A is engaged in a directional communication with node D. While this communication is in progress, node B sends RTS to node C which in turns replies with CTS. Since node A is beamformed towards node D, it cannot hear CTS from node C . While the communication between node B and node C 25

is in progress, node A finishes the communication with node D and now decides to transmit to node C . Since the DNAV at node A is not set in the direction of node C (due to the unheard CTS), node A transmits RTS to node C causing collision at node C .

3.2.3

Range Underutilization

In contrast to the previous problems that mainly offset the benefit of spatial reuse introduced by beamforming antennas, we consider now the inability of Basic DMAC to fully exploit the benefit of range extension. When Basic DMAC is in operation, the communication range is bounded by the product of (Gd X Go ). This is because an idle node receives a directional RTS in the omni-directional mode. However, it is possible for nodes to communicate over a longer range if both the transmitter and the receiver could agree to beamform towards each other at the same time. In this case, the communication range would be greater (bounded by Gd X Gd ).

3.3

Impact of Deafness

While exploiting the spatial reusability using beamforming antennas, deafness is by far the most critical challenge [22]. Referring to Figure 3.6, deafness occurs when node A attempts to transmit a packet to node B while node B is engaged in a communication with node C . Due to the absence of CTS response, node A invokes the binary exponential backoff algorithm. It doubles its contention window, chooses a new backoff interval from the new window, and begins counting down. When the countdown reaches zero, it retransmits the RTS. Multiple retransmissions could happen until node B has finished the dialog with node C and switches back to the omni-directional mode. These unnecessary retransmissions reduce the network capacity. Moreover, the exponential increase in the backoff contention window results in channel underutilization as shown in Figure 3.6. Let's consider another scenario depicted in Figure 3.7. Node A and node C have packets

26

A C

B

B

RTS

DATA

B is idle

CTS

time C CTS ACK

timeout

timeout

timeout Backoff

A

RTS

RTS

RTS

Backoff

RTS

Figure 3.6: A scenario illustrating the negative impact of deafness on the channel utilization.

to send to node B . Assume that node C has multiple packets to send to node B . Once node C has finished transmitting the first packet, it immediately prepares to transmit the next packet by choosing a backoff interval from the minimum contention window. It is likely that node A is still engaged in the large backoff phase when node C finishes counting down its small backoff value for the second packet. Node C acquires channel access and communicates again with node B . This scenario can continue for a long time, causing node A to drop multiple packets before it gets fortunate enough to grab the channel access from node C . This scenario depicts that deafness may lead to short-term unfairness between flows that share a common receiver. Although deafness is a MAC-layer problem, it has a significant impact on upper layers as well [23]. Multiple packet drops at the source node, without actual link failure or congestion, can adversely affect the network performance. A packet drop by the MAC layer is reported to the routing layer as a route failure. The routing layer in turn initiates an unnecessary route 27

A C

B

RTS

RTS CTS time

DATA

Large Backoff

ACK Small Backoff RTS

RTS 7 Packet Drop X

CTS

Figure 3.7: A scenario illustrating that deafness is the cause of multiple packet drops and short-term unfairness.

discovery. The impact of deafness is severe in the route discovery phase as well where a node may miss a better route to its destination if one of the nodes in the optimum path was deaf to the route request broadcast packet. At the transport layer, deafness may cause Transmission Control Protocol (TCP) ACK packet drop which can affect the TCP performance. Since Basic DMAC requires the node to carrier-sense, backoff and communicate directionally, it may suffer from prolonged period of deafness if it has multiple back-to-back packets to be transmitted. Moreover, a chain of deafness is possible that could result in a deadlock in which each node attempting to communicate with a deaf node becomes itself deaf to another node. 28

3.4

Deafness Analysis

In the previous section, we have discussed the deafness problem and its impacts on the performance of multi-hop wireless networks with beamforming antennas. Throughout the literature, deafness was investigated and evaluated via simulations only [8, 23]. However, up to our knowledge, there has not been any analytical study to clearly understand the deafness phenomenon as a major trade-off for the spatial reuse and this is the main motivation of our model presented in this section.

3.4.1

Related Work

Although there are several analytical models for the IEEE 802.11 DCF MAC with the implicit assumption of using omni-directional antennas [24, 25], very few attempts have been done to the MAC analytical modeling of multi-hop wireless networks with directional antennas. Wang and Garcia-Luna-Aceves [26] presented an analytical model for collision avoidance schemes with directional antennas. The model they used for the spatial distribution of nodes is based on the approach by Takagi and Kleinrock [27], while the model of the node activity with Markov chain is based on the approach by Wu and Varshney [28]. However, their model does not reflect any particular directional MAC protocol as they assume that the transmission probabilities take a range of values. Hsu and Rubin [29] developed an analytical model to evaluate single-hop performance of directional CSMA/CA algorithm. Carvalho and Garcia-Luna-Aceves presented an analytical model of wireless ad hoc networks that considers the impact of realistic antenna gain patterns on network performance in [30]. Their model captures the interactions between the physical and MAC layers. They used their model to evaluate the performance of multi-hop ad hoc networks operating with directional antennas under the DVCS MAC protocol [20]. One major drawback of all of these models is that they do no consider the effect of deafness in multi-hop wireless networks with directional antennas as a source of failures. They assume that a handshake only fails due to interferences and

29

collisions. By ignoring the impact of deafness as a reason for successive failures, deafness analysis is not possible using those modeling efforts.

3.4.2

The Model Framework

In this section, we present an analytical framework to model the node's transmission activity in multi-hop wireless networks under the operation of a directional CSMA/CA protocol. We include the impact of deafness in our model. The following is a list of our assumptions: · The spatial distribution of nodes follows two-dimensional Poisson distribution with density , i.e. the probability P (i, A) of finding i nodes in an area of A is given by [27]: (A)i -A e . i!

P (i, A) =

(3.1)

· Each node always has a packet to be sent (heavy traffic condition [24]) and the destination is chosen randomly from one of its neighbors. This assumption is reasonable in multi-hop wireless networks in which nodes forward packets for others. · As long as the node is not suffering from the deafness problem, we assume that, at each transmission attempt, each packet succeeds with a constant and independent probability whether this is a new packet transmission or a retransmission and regardless of the number of its retransmissions. This assumption is an extended version of Bianchi's key assumption in [24] and it is necessary to make the theoretical modeling tractable. · We assume that nodes operate in a time-slotted mode as in [26]. The probability that a node transmits in one slot is denoted by  . The parameter  is protocol dependent but slot independent. The length of each time slot is denoted by  which is a PHY layer parameter. In our analysis, all time-related parameters are normalized with respect to the slot time ( = 1). For consistency, we assume a packet transmission time as an integer multiple of the slot time. 30

· For ease of explanation, we assume that directional transmissions and receptions have equal beamwidth. Also, we assume complete attenuation of the signal outside the main lobe of our antenna pattern so we do not consider the effect of side lobes. However with some minor modifications, our analytical model can be used with other antenna models that incorporate side lobes (e.g. cone and ball model [2]). · We assume ideal channel conditions (i.e. no wireless channel errors). This assumption is commonly used in MAC analysis. Under the previous assumptions, we are able to model the transmitting activity of any node by a four-state Markov chain shown in Figure 3.8. The chain's states are defined as follows: · Wait (W ): in which the node is not transmitting during backoff or defer for other nodes. · Success (S ): in which the node initiates a successful four-way handshake with one of its neighbors. · Collision (C ): in which the node initiates an unsuccessful handshake that fails due to collision. · Deafness (D): in which the node initiates a series of unsuccessful transmissions (associated with backoffs) that cannot be completed because the intended receiver is beamformed in another direction which is the deafness problem. This state can be virtually viewed as a series of transitions between a fail state and a wait state representing the deafness-based retransmissions as shown in Figure 3.9. Since deafness introduces dependence between retransmission attempts, we have to embed this dependence within one state in order to retain the whole process as a Markovian process. The node remains in a deafness state for a protocol-dependent random time duration.

31

S PWS

PSW PWC W PWW PCW PWD PDW D C

Figure 3.8: A Markov model for the node's transmission activity.

PWW

PWW

PWD F
1

PDW W 1-PWW F
1

W

F

Figure 3.9: Illustrating the deafness state.

32

Due to the collision avoidance concept, a node cannot transmit packets continuously. Hence,

PSW = PCW = PDW = 1.

(3.2)

Based on our Markov chain, the node's transmission activity is in one of these four states at any given time. First, we compute the steady state probability j which is the long run proportion of transitions which are into state j . The steady state probability of the wait state can be calculated as follows: W = PW W W + PSW S + PCW C + PDW D (3.3) = PW W  W + S + C + D . Since, W + S + C + D = 1, therefore, W = 1 . 2 - PW W (3.5) (3.4)

Similarly, the steady state probabilities of the success, deafness and collision states are respectively: S = PW S  W =  D = PW D  W = C = PW C  W = PW S , 2 - PW W PW D , 2 - PW W PW C . 2 - PW W (3.6) (3.7) (3.8)

Since our Markov chain is a Markov regenerative process and the chain is positive recurrent and irreducible, the long run probability that the node is in state j is defined by the limiting

33

probability j and is given by [28]: j Tj i Ti
i

j =

,

(3.9)

where Tj is the mean time that the node spends in state j per transition. The limiting probability can also be viewed as the fraction of time the node spends in a certain state. Hence, we calculate the per-node saturation throughput (T H ) as follows: S lpayload , S TS + W TW + C TC + D TD

TH =

(3.10)

where lpayload denotes the normalized length of the payload. The saturation throughput of the channel, denoted by T Hch , in multi-hop wireless networks is given by: T Hch = T H.N, (3.11)

where N is the average number of nodes in a circular region of radius equal to the transmission range. To evaluate the effect of deafness, we introduce the deafness index, denoted by DI , which is equivalent to the limiting probability D that the node is in state D and is given by: D TD . S TS + W TW + C TC + D TD

DI =

(3.12)

From (3.12), it is clear that DI is a function of both D and TD . The term D is the long run proportion of transitions which are into the deafness state and it represents the probability of occurrence of transmission failures due to deafness. The term TD is the mean time the node spends in the deafness state. It represents the blocking time in which the node is prevented from achieving a successful transmission as a result of deafness. Hence, DI captures the two main factors causing the deafness problem.

34

3.4.3

Transition Probabilities and State Mean Times

In this subsection, we present the computation of the transition probabilities and the state mean times which are the protocol-dependent computations required to complete the analysis. We model the Basic DMAC [9] as an example for a directional CSMA/CA protocol. Since  is the probability that a node transmits in one slot, the probability that the node remains in the wait state is given by:

PW W = 1 - .

(3.13)

To calculate the transition probability PW S , consider that node x has a packet ready to be sent to node y , therefore, P W S = P1 P2 P3 , where: P1 ={probability that node x transmits in one slot}. P2 ={probability that node y does not transmit in one slot and can hear node x}. P3 ={probability that all nodes in y 's receiving beam do not transmit in the direction of y for (2lrts + 1) slots, where lrts is the normalized length of the RTS}. By definition P1 =  and P2 = (1 -  )/2 . The factor /2 is due to the heavy traffic assumption in which all nodes are always backlogged. Since Basic DMAC requires the nodes to backoff and carrier-sense directionally, saturated nodes have no chance to listen in an omni-directional mode while they are idle. To compute P3 , we first need to compute the probability Po that all nodes in a certain (3.14)

35

area A do not transmit in one slot. The probability Po is given by:


Po =
i=0

(1 -  )i

(A)i -A e i! (3.15)

= e- A = e- N A/R , where N = R2 is the average number of nodes in a circular region of radius R.
2

Since the area of the directional beam is normalized with respect to R2 , therefore, it is given by: Ab = Hence, P3 = e(- where,  =  . 2 (3.18)
N Ab ).(2lrts +1)

 . 2

(3.16)

,

(3.17)

The last transition probability we need to compute is PW D , which is the probability that the node goes from wait state to the deafness state, and it is given by:

PW D = P1 P 4 ,

(3.19)

where: P4 ={probability that node y is deaf to node x}= (2 - )/2 . After computing the transition probabilities, we need to compute the time intervals that a node spends in each state of the Markov chain. The mean time that the node spends in the success state, TS , is given by:

TS = lrts + lcts + lheader + lpayload + lack + 3lsif s + ldif s ,

(3.20)

36

where lcts , lheader , lack , lsif s and ldif s denote the normalized length of CTS, Header, ACK, SIFS and DIFS respectively. Since a handshake may fail at almost any time due to collisions, we assume, similar to [26], that the time spent in state C follows a truncated geometric distribution with parameter  and lower bound T1 = Tres (the time needed for collision resolution) and upper bound T2 = TS and its mean is: 1- 1 -  T2 -T1 +1
T2 -T1

TC =

 i (T1 + i),
i=0

(3.21)

where, T1 = Tres = lrts + lcts + lsif s + ldif s . (3.22)

Since the backoff counter freezes when it detects the channel busy, the mean time that a node spends in the wait state, TW , is not just equal to an idle slot time but it should include the freezing time due to both physical and virtual carrier sensing. Therefore, TW is equal to a macro slot  and is given by [31]:

ch ch TW =  = Pidle + TS Pbusy ,

(3.23)

ch ch where Pidle and Pbusy are the probabilities that the channel is sensed idle and busy respec-

tively. We note here that by the channel we mean the hearing region of the node during its backoff which is in the case of basic DMAC has an area equals to Ab , hence,
ch Pidle = e- N Ab

,

(3.24)

and
ch ch Pbusy = 1 - Pidle .

(3.25)

Finally, We compute the mean time that a node spends in the deafness state, TD . Assuming

37

z x y

Figure 3.10: A node x is trying to communicate with a deaf node y .

node x is trying to communicate with a deaf node y as shown in Figure 3.10, we will first try to calculate the time Ty ,which is the time that node y spends beamforming in a certain direction (not in the direction of x). In Basic DMAC, Ty is the time from the instant that y started the directional backoff until it either succeeds to transmit or reaches the maximum retry limit, M , and has to drop the packet. So we have two mutual exclusive events {y drops} and {y succeeds} and their probabilities are:

P (y drops) = (1 - q )M +1 ,

(3.26)

and P (y suceeds) = 1 - P (y drops), (3.27)

where q is the conditional success probability (i.e. the probability of success given the node transmits) and is given by: q= PW S .  (3.28)

Let's denote Ty|E as the time Ty given event E , hence,

Ty|drop = (M + 1)(Tres + tB ),

(3.29)

38

and Ty|success = TS + TB , where tB is the mean time the node spends during one backoff stage and is given by:  ,  (3.30)

tB =

(3.31)

and TB is the mean time the node spends backoffing before it succeeds to transmit and is given by:
M

TB =
k=0

(1 - q )k q 1 - (1 - q )M +1

(k + 1)tB + kTres .

(3.32)

Since the node in the deafness state repeatedly transmits, fails and backs-off, therefore, TD is a function of the number of transmissions, n, during the deafness state and is given by: TD (n) = nTres + (n - 1)tB . (3.33)

Since node x can initiate transmission at any instant during which y is beamformed, so we can consider that n is uniformly distributed between nmin and nmax . To get nmax , we consider the extreme case when x starts transmitting to y at the same instant that y beamforms to the other direction. In this case, nmax is the minimum integer that satisfies the following condition: nmax|E Tres + nmax|E tB > Ty|E . (3.34)

where nmax|E is nmax given the event E . Needless to say that the value of nmax is limited by M + 1. Moreover, it is trivial to prove that nmin = 1. So now we can get the mean of TD given event E as: T D |E =
nmax|E n=1

TD (n)

nmax|E

.

(3.35)

Finally we can calculate the mean time per transition that the node spends in the deafness

39

state as TD = T D|E P (E ), (3.36)

where P (E ) is the probability of occurrence of the event E . So far, we have computed the transition probabilities and the state mean times in terms of  , which is the probability that a node transmits in one slot. Since Basic DMAC is CSMA/CA, we rely on the two-dimensional Markov model proposed by Bianchi in [24] to calculate  . However, one of the limitations of this model is that it does not consider the finite retry limit. Wu et al. in [32] enhanced the model to overcome this problem. Based on this enhanced model, we express  in terms of the conditional success probability q as follows: = where,    q 1 - 2(1 - q )   1- 1-q
M +1 m

2(2q - 1)(1 - (1 - q )M +1 ) (2q - 1)(1 - (1 - q )M +1 ) + W

,

(3.37)

m=M 1 + (1 - q )M -m (2q - 1) , m<M (3.38)

=

1 + 2(1 - q )

where W = (CWmin + 1) and m is the maximum backoff stage, i.e, the value that satisfies 2m W = (CWmax + 1). It is clear that (3.28) and (3.37) represent a nonlinear system in the two unknowns  and q , hence they can be solved numerically.

3.4.4

Model Validation

We implemented our analytical model in MatLab [33] and conducted discrete-event simulations using OPNET network simulator [10]. We simulated a switched beam directional antenna with beamwidth 60o and the transmission range R set to 250 m. We implemented the Basic DMAC protocol in OPNET and simulated a network model similar to the one reported in [26] as an approximation to the two-dimensional Poisson distribution used in the 40

analytical model. We placed the nodes in three concentric circles with radii R, 2R and 3R. First, we placed N nodes in the innermost circle, subject to a uniform distribution. Then, we placed 3N nodes in the middle circle and outside the innermost circle. Finally, we placed 5N nodes in the outermost circle and outside the other circles subject to the same uniform distribution. We only consider the performance of the N innermost nodes to eliminate the edge effects. Each node generates very high Constant Bit Rate (CBR) traffic and the destination of each packet is chosen randomly from the node's neighbors. We assume a channel data rate of 2 Mbps. In our results, we show the average over 10 different runs along with the 95% confidence interval. The values of the parameters used to obtain the results for both the analytical model and the simulations are shown in Table 3.1. Table 3.1: System parameters. Slot time SIFS DIFS MAC Header PHY Header RTS CTS ACK Base Rate Data Rate 20 µs 10 µs 50 µs 224 bits 192 bits 352 bits 304 bits 304 bits 1 Mbps 2 Mbps

Figure 3.11 shows the saturation throughput of the channel for different network densities obtained by both the analysis and the simulations. We note that the analytic results closely agree with the simulation results. We also observe that the saturation throughput of the channel increases slightly with the increase in the number of nodes in the same neighborhood. This gain is basically due to the increase in the spatial reuse. The directional transmission focuses the energy in a smaller area and the direction reception reduces the amount of 41

1

Channel Saturation Throughput (TH )

0.9 0.8 0.7 0.6 0.5 0.4 0.3 0.2 0.1 0

Analaysis Simulation

ch

8

9

10

11

12

13

14

15

16

17

18

Number of Nodes (N)

Figure 3.11: Channel saturation throughput for different network densities for beamwidth =60o and packet size of 2 Kbytes.

interference. This results in more concurrent communications to occur especially when the number of nodes increases. Figure 3.12 shows the channel saturation throughput for different packet sizes in case of N = 14. As expected, the saturation throughput increases with the increase in the packet size due to the increase in channel utilization. We also note that the analytical and simulation results are reasonably close to each other, and that the analytical model is able to accurately predict throughput trends. In addition, the strength of our analytical model lies in the significant decrease in the computational time. The simulator took about 25 hours to produce the average results of 10 different runs. Using MatLab, our numerical results are generated in less than 20 seconds. When the network density increases further, the speed and accuracy of our analytical model makes it attractive.

42

1

Channel Saturation Throughput (TH )

ch

0.9 0.8 0.7 0.6 0.5 0.4 0.3 0.2 0.1 0

Analaysis Simulation

0

0.5

1

1.5

2

2.5

Packet Size (Kbytes)

Figure 3.12: Channel saturation throughput for different packet sizes for beamwidth = 60o and N =14.

3.4.5

Numerical Results

In this subsection, we examine how the beamwidth, , affects the performance of directional CSMA/CA. We consider the per-node throughput, T H , as a metric for the network performance. Figure 3.13 shows the per-node throughput when N =10 and packet size of 2 Kbytes. When =360o , the system is equivalent to IEEE 802.11 MAC with conventional omni-directional antennas. From the figure, we can see that, as the beamwidth decreases, the per-node throughput increases as expected. This is mainly due to the increase in the spatial reuse resulting from the reduction in the interference area around each ongoing communication. Contrary to one's intuition, this phenomenon continues only up to a certain value o below which the throughput starts to decrease. This is mainly due to the deafness problem. The severe effect of deafness prevents the network from taking advantage of the high spatial reuse provided by the smaller beamwidth antenna leading to unexpected decrease in the throughput. As a result, we can observe that the maximum throughput is achieved at o 43

0.05 0.045

Per-node Throughput (TH)

0.04 0.035 0.03 0.025 0.02 0.015 0.01
Deafness-limited Interference-limited

0.005 0

0

50

100

Beamwidth ()

150

200

250

300

350

Figure 3.13: Per-node throughput for different beamwidths with N =10.

and the network performance is limited in two different regions: deafness-limited region and interference-limited region. In the deafness-limited region, the negative impact of deafness offsets the expected benefits of spatial reuse, while in the interference-limited region, the benefits of spatial reuse overcome the effect of deafness. Figure 3.14 shows the per-node throughput as a function of the antenna beamwidth, , for different node densities. We can see that all the throughput curves exhibit the same behavior. We can also note that, for small beamwidths, the deafness problem is dominant and there is almost no channel contention. As a result, the per-node throughput is almost constant regardless of the number of nodes in the neighborhood. However, at higher values of , a typical relation between throughput and N exists. By increasing the node density, the per-node throughput starts to decrease as a result of the increase in channel contention. We can also note that, for each value of N , there is a different o by which the throughput is maximized.

44

0.05 0.045 N=10 N=12 N=14 N=16

Per-node Throughput (TH)

0.04 0.035 0.03 0.025 0.02 0.015 0.01 0.005 0

0

50

100

Beamwidth ()

150

200

250

300

350

Figure 3.14: Per-node throughput for different node densities.

120

110

Optimum Beamwidth (o)

100

90

80

70

60 10

11

12

13

14

15

16

Number of nodes (N)

Figure 3.15: Optimum beamwidth for different node densities.

45

In Figure 3.15, we plot the optimum value of  corresponding to each value of N under investigation. We can see that as the number of nodes N increases, the maximum throughput is achieved at a smaller beamwidth. For example, for N =10, the optimum beamwidth is 94o while the optimum beamwidth is 67o when N =16. This shows that beamforming antennas with smaller beamwidth are needed in denser networks. In Figure 3.16, we plot the macro backoff slot  for different values of N . The macro backoff slot indicates the average backoff slot size. We notice that, when the beamwidth is small,  is close to 1 which means that the channel is detected idle for most of the backoff time. However, as  increases,  grows exponentially. This figure demonstrates the effectiveness of directional beamforming in spatially separating near-by communications. To investigate the relationship between deafness and the beamwidth, we plot in Figure 3.17 the deafness index DI as a function of the antenna beamwidth when N =10. From the figure, we notice that at very low values of , DI is almost constant and does not decrease as expected. This is mainly due to the small amount of neighbors inside each beam even if
40 35 30 25 20 15 10 5 0 N=10 N=12 N=14 N=16

Macro Backoff Slot (  )

0

50

100

Beamwidth ()

150

200

250

300

350

Figure 3.16: Macro backoff slot for different node densities.

46

0.9 0.85 0.8

Deafness Index (DI)

0.75 0.7 0.65 0.6 0.55 0.5

0

20

40

Beamwidth ()

60

80

100

120

140

Figure 3.17: Deafness Index behavior.

the beamwidth increases slightly. However, as the value of  increases, the graph exhibits an interesting phenomenon. The term DI decreases dramatically only at certain values of  with a slight increase in between these values. This can be explained with the situation illustrated in Figure 3.18. As the beamwidth increases, the channel contention increases so the backoff time per retransmission increases, which causes the time that the node spends in the deafness state, TD , to increase as well. However, it reaches a point where the backoff

Reciever Deaf
RTS1
Backoff

RTS2 RTS2 RTS2

Backoff

RTS3 RTS3
Backoff

Backoff

Contention increase

RTS1 RTS1

Backoff

Backoff

Backoff

Backoff

Figure 3.18: Explaining the Deafness Index behavior.

47

time per retransmission is big enough to decrement the number of retransmissions during the deafness period resulting in a sharp decrease in the value of TD and consequently in DI . For example, as shown in Figure 3.18, by increasing contention, the number of transmission attempts decreases from three to two within a single deafness period. After this sharp decrease, DI starts increasing with  indicating that the effect of the channel contention is pronounced when the beamwidth increases. When the value of the beamwidth bypasses the deafness-limited region, this transient phenomenon vanishes and DI starts to decrease exponentially with . Based on the deafness index, DI , we observe that the node remains in the deafness state between 60-80% of the time in the practical range of beamwidths shown in Figure 3.17. This demonstrates the severity of the problem of deafness in limiting the performance of directional CSMA/CA protocols.

3.5

Conclusions

In this chapter, we studied the performance of directional CSMA/CA MAC protocols for multi-hop wireless networks with smart beamforming antennas. We presented the directional version of the IEEE 802.11 DCF, referred to as "Basic DMAC ", which is considered the benchmark for directional medium access control protocols. Basic DMAC relies on four-way handshaking, all sent directionally. An idle node remains listening in an omni-directional mode. The physical carrier sensing as well as the backoff procedure are done in a directional mode for the sake of high spatial reuse. Basic DMAC implements a Directional NAV (DNAV) mechanism to perform the directional virtual carrier sensing. We investigated some problems associated with directional CSMA/CA protocol in the context of the Basic DMAC protocol. We outlined the main problems which are the deafness problem and the directional hidden terminal problems. These problems emphasize that a simple adaptation of CSMA/CA to beamforming transmissions is not sufficient to leverage the expected benefits.

48

Throughout the literature, deafness was investigated and evaluated via simulations only. However, up to our knowledge, there has not been any analytical study to clearly understand the deafness phenomena as a major trade-off for the spatial reuse. This motivated us to develop an analytical model to evaluate the directional CSMA/CA performance in the presence of deafness. Our numerical results show that deafness can severely limit the network performance. As opposed to the previous modeling efforts, we show that decreasing the beamwidth can increase the saturation throughput up to a certain limit only below which the negative impact of deafness offsets the benefits of spatial reuse introduced by beamforming antennas. Motivated by our results, we aim to design more effective protocols that can exploit the spatial reuse benefits introduced by smart antennas considering the trade-offs such as the deafness problem. Based on the insights from our analysis, we conclude that there are two main factors that increase the deafness problem, which are the probability of occurrence and the blocking time it results in. In the next chapter, we mainly focus on minimizing the unnecessary idle waiting time associated with transmission failures and hence maximize the channel utilization. We address minimizing the probability of transmission failures later in Chapter 6.

49

Chapter 4 An Opportunistic Directional MAC Protocol
Smart beamforming antennas promise a significant increase in the spatial reuse of the wireless channel in multi-hop wireless networks. However, leveraging this potential benefit is not straightforward. Since ad hoc network protocols are originally designed assuming the nodes are equipped with omni-directional antennas, they are not capable of exploiting the advantages of beamforming antennas. In addition, the new challenges, associated with directional beamforming, can offset the gains if left unaddressed. In Chapter 3, we discussed several issues that arise from using a simple directional version of IEEE 802.11 MAC with beamforming antennas. In particular, we investigated the deafness problem and showed that it can severely limit the capacity gains. In order to fully exploit the spatial reusability with smart antennas, upper layer protocols should be carefully designed to deal with the associated problems such as deafness. In this chapter, we propose a novel MAC protocol to maximize the spatial reusability in multi-hop wireless networks with beamforming antennas. Based on the insights from our deafness analysis, presented in Chapter 3, and the deficiencies of the existing work, we identify the key problems that prevent the full exploitation of the spatial reuse. For

50

example, the channel underutilization is mainly due to the over-conservative channel access rules that are unable to capitalize on the opportunities offered by the beamforming antennas. In particular, the binary exponential backoff algorithm used in most of the contentionbased MAC protocols is not adequate for use in the presence of beamforming antennas. It unnecessarily increases the idle time of the channel and aggravates the deafness problem. In addition, the commonly used First Input First Output (FIFO) queuing was shown to increase the blocking time. Motivated by the possibility of increasing the spatial reusability, we design an opportunistic directional MAC protocol, referred to as "OPDMAC". The OPDMAC attempts to exploit the communication opportunities that are not available when omni-directional antennas are used. A novel backoff procedure is designed in which the node is not forced idle during the backoff phase; rather it is allowed to look for transmission opportunities in other directions. This implies the requirement of a queuing discipline that allows the transmission of ready packets first. The OPDMAC is capable of minimizing the idle waiting time and diminishing the impact of the deafness problem without any additional overhead. Our simulation results show the performance improvements of our proposed MAC protocol.

4.1

Related Work

Recently, several MAC protocols have been proposed to exploit the benefits of smart beamforming antennas in multi-hop wireless networks. A substantial number of directional MAC protocols presented in the literature focus on adapting IEEE 802.11 MAC to appropriately work with beamforming antennas. Among the first attempts, Ko et al. [17] propose a directional MAC in which RTS is sent directionally (DRTS) instead of omni-directionally, if one of its beams is blocked, to avoid unnecessary waiting time. However, they proposed to use an Omni-directional CTS (OCTS), while the DATA and ACK packets are exchanged directionally. Their simulation results show performance improvement due to the increase

51

in the spatial reuse of the network. In their analysis, they assume that the location information is obtained using the Global Positioning System (GPS). Nasipuri et al. [18] consider the case where the location information may not be available and propose to send both RTS and CTS omni-directionally (ORTS/OCTS). Idle nodes listen to the surrounding medium in an omni-directional mode. When a node receives RTS for itself, it marks the beam from which it received the packet and responds with the omni-directional CTS. Upon receiving the CTS in response, the sender node also knows the direction of the intended receiver by noting the antenna beam that received the maximum power of the RTS packet. The data and its acknowledgement are exchanged directionally in order to reduce the interference of the wireless channel. Since the channel reservation is done in an omni-directional mode, the communication range is limited by the omni-directional gain. Also, the spatial reuse is severely affected by this conservative MAC protocol. Elbatt et al. [34] propose adding new fields in RTS/CTS packets to be sent over the unblocked beams to inform neighbors about the beam index used to transmit the RTS/CTS packet and the beam index to be used for DATA/ACK packets. Upon receiving RTS/CTS, the neighbor can know its relative location with respect to the source-destination pair and hence take an appropriate antenna blocking decision accordingly. Wang and Garcia-LunaAceves [35] investigate the interaction between spatial reuse and collision avoidance when directional antennas are utilized. They evaluate different handshake combinations through extensive simulations. They consider ORTS/OCTS, DRTS/OCTS and DRTS/DCTS. They conclude that the aggressive DRTS/DCTS scheme outperforms the other two conservative collision-avoidance schemes in terms of both enhanced throughput and reduced delay. Bandyopadhyay et al. [19] present a MAC protocol that employs additional messages to inform the neighborhood nodes about ongoing communications. However, this increases the control overhead significantly. Takai et al. propose the concept of Directional Virtual Carrier Sensing (DVCS)in [20]. If a node receives RTS/CTS from a certain direction, it needs to defer transmissions only in

52

that direction in which other communication is in progress. The directional virtual carrier sensing is implemented using a Directional NAV (DNAV) mechanism which is also proposed in [9]. In addition, they allow the node to cache the angle of arrival of any received packet in order to keep track of the neighbors' locations. Also, they proposed the beam locking during the entire conversation to prevent the node from being distracted by other signals. Along the same line, Choudhury et al. [9] generalize the ideas in [17] and propose "Basic DMAC" which is a directional version of IEEE 802.11 DCF MAC. As mentioned before, the Basic DMAC protocol is considered the benchmark for the directional medium access control protocols. The Basic DMAC employs DNAV mechanism and performs carrier sensing, back-off, and the four-way handshake in a directional mode. In [36], Huang et al. extend the idea of the dual busy tone multiple access for the case of directional antennas. The RTS/CTS are used to turn on transmit and receive busy tones until the data transmission is completed. Other nodes defer only when they hear the busy tones. Kulkarni and Rosenberg in [37] also use the busy tones within their proposed MAC in which the nodes listen to the medium directionally. The receiving antenna sweeps continuously to cover the whole region. When a node wants to transmit, the RTS is preceded by a busy tone which is long enough to capture the sweeping receiver. Although the busy tones can solve the hidden terminal problem, they need an additional control channel that adds to the transceiver complexity. Dealing with the problems exclusive to the use of beamforming antennas [21] like deafness and the directional hidden terminals, researchers have started designing directional MAC protocols that address these issues. Choudhury and Vaidya in [8] propose ToneDMAC to handle the deafness problem. ToneDMAC uses a tone-based notification mechanism that allows the neighbors of a node to distinguish congestion from deafness and react appropriately. After the data communication is over, both the sender and the receiver transmit out-of-band tones omni-directionally to inform their neighbors about the end of their deafness period. The neighbor intended to communicate with a deaf node preempts its long backoff phase,

53

initializes its contention window, and backs-off with the minimum contention window. This reduces the unnecessary waiting time by using exponential backoff for deafness. However, the implementation of the protocol is relatively complex. Korakis et al. [38] address the Basic DMAC limitations by proposing Circular directional RTS MAC (CRM) in which the nodes send directional RTS sequentially over all beams. This is beneficial if the locations of the neighbors are not available. Also, by informing neighbors in other directions about the upcoming transmission, the problems of deafness and directional hidden terminals can be reduced. However, this approach tends to increase the control overhead drastically. Jakllari et al. [39] extend the previous work by sending circular RTS and circular CTS packets prior to data transmission. They are able to handle the deafness problem at the receiver side, and solve the hidden terminal problem due to the asymmetry in gain at the expense of additional delay and large control overhead. Gossain et al. [40] propose a protocol named MDA that also employs the circular directional RTS/CTS transmissions. Both the sender and the receiver transmit the redundant RTS and CTS packets simultaneously after they successfully exchange the single directional RTS/CTS. This somehow decreases the delay and ensures the circular overhead packets are only transmitted after the original RTS is successfully received. They also use an enhanced DNAV mechanism that differentiate between collision avoidance and deafness avoidance. A similar approach is proposed independently by Li and Safwat in [41]. In [22], Takata et al. proposed sending the circular control packets only to potential transmitters with the aim of reducing the control overhead associated with MDA. The potential transmitter is selected either based on the history of previous communications or by means of explicit next packet notification if possible. Although the approach is promising in reducing the control overhead of circular RTS/CTS approaches, the effectiveness is highly dependent on the traffic patterns. In [42], Takata et al. proposed a polling-based directional MAC protocol. In this protocol, each node maintains a polling table and after it completes its communication dialog, it polls one of its neighbors that were possibly suffering from deafness.

54

RamMohan et al. in [43] address the problem of hidden terminals due to unheard RTS/CTS. They propose Fragmentation-based Directional MAC with TONE (F-DMACTONE) protocol. In this protocol, the data packet is fragmented and tones are sent by the receiving node in the periods between the fragments. Their results show a significant decrease in the number of collisions but a marginal improvement in the throughput and delay performance. Moreover, this approach increases the complexity and the fragmentation overhead aggregates the deafness problem. Assuming the availability of system-wide synchronization, Wang et al. [44] propose a directional MAC with three time phases: random access, DATA and ACK. In the random access phase, nodes compete for the channel access. In the DATA phase, parallel contentionfree data transmission is achieved and in the ACK phase parallel contention-free ACK packets are sent. During the random access phase, control packets are exchanged. Upon receiving RTS, the receiver replies with CTS if it can engage in the communication session, or with negative-CTS if it has been already committed to another session or the beam towards the sender is blocked. Although this protocol reduces the effect of both the deafness and hidden terminal problem, achieving network wide synchronization is impractical in multi-hop wireless networks. In [45], Subramanian and Das propose to separate the transmission of control and data packets in time. After the exchange of the control packets, the nodes wait for a duration called control window before transmitting the DATA packet. In [46], Jakllari et al. propose a synchronous polling-based MAC in which time is divided into contiguous frames. Each frame is divided into three segments: search, polling and data transfer. The protocol is able to discover neighbors and efficiently handle mobility. Very few proposed MAC protocols try to exploit the benefit of higher communication range at the MAC layer. To achieve this benefit, communication should be possible between nodes that are neighbors only when both the transmitter and the receiver are in directional mode known as DD-neighbors. Choudhury et al. [21] propose MMAC protocol that aims to transmit the data packet over the longest possible hops. The RTS is propagated over

55

multiple hops to inform the DD-neighbors to beamform towards the transmitter. The CTS, DATA and ACK are transmitted over the single long hop. The limitations of this proposal are the long delay of RTS propagation and the risk of losing RTS over multiple hops. Also, the intermediate multi-hop paths for RTS propagation may not be always available. Some researchers propose the directional idle listening [46, 47]. Instead of the omnidirectional idle listening, the receiving antenna is always directional but it continuously sweeps in all directions sequentially. In [47], Shihab et al. propose a MAC protocol that operates only in the directional mode. However, in order to address deafness and collisions, they require the sensing period to be greater than the DATA period. Also, the sender can transmit up to 2I RTS in each direction (where I is the number of beams) in order to capture the receiver. The large control overhead and excessive delay limit the performance of this protocol when the number of beams exceeds four. Takai et al. [48] propose an adaptive range control mechanism to achieve the trade-off between spatial reuse and range extension. They adaptively tune the receiver sensitivity threshold according to the neighborhood density. Kolar et al. [49] identify the Head of Line (HoL) blocking problem when beamforming antennas are used. The existing link layer implementations, that is based on First Input First Output (FIFO) queuing, lends itself to HoL blocking if the medium is busy in the direction of the packet at the top of the queue but is available in other directions. Based on the DNAV table, the authors propose using the minimum waiting time to select the first packet for transmission. The proposed scheme does not consider the effect of deafness, which may cause the DNAV entries to be invalid. Gossain et al. [50] address the same problem by a round robin scheduling strategy between multiple queues, one for each beam. Their approach results in increasing the delay and possible starvation in a particular direction. While the binary exponential backoff may not be the best choice to be used with directional antennas, very few protocols have addressed this issue. In [7], Ramanathan et al. propose a new backoff algorithm (called forced idle) in which the duration and the window adjustment mechanism depend on the type of event causing the backoff, for example

56

whether the event is busy channel, missing CTS, or missing ACK. If the channel is sensed busy, the contention window remains constant. If CTS is found missing, the value of the contention window is increased linearly. In case of the absence of an ACK, the increase of contention window is exponential. Upon receiving an ACK the value of the contention window decreases exponentially. The rationale behind this backoff mechanism is not clear and the evaluation does not provide any insights about its effectiveness. In [37], Kulkarni and Rosenberg propose the use of a separate backoff counter for each direction. Some researchers looked into using more sophisticated antenna model known as multibeam antennas to improve the performance [51­53]. Using this antenna model, each node can form multi-mainlobe beams (i.e. more than one main lobe in different directions). In [51], Bao et al. propose a Time Division Multiple Access (TDMA) protocol that is capable of exploiting the multi-beam capability in both transmission and reception. Ulukan and Gurbuz [52] solve the problem of deafness using the multi-beam antennas. Prior to data transmission, RTS/CTS are sent to all non-blocked beams. During the data transmission in one direction, if the DNAV on a blocked beam is expired, the node change its antenna pattern to form a multi-beam pattern such that the data is transmitted on the unblocked beam in addition to the original beam. Other nodes residing within the coverage of the unblocked beam will receive dummy bits (remaining part of the data packet) that prevent them from transmitting to the busy node. Choudhury and Vaidya [53] use the multi-beam antennas to address the MAC-layer capture problem. The capture problem occurs when a node gets engaged in receiving unproductive packets thus wastes time that can be used in useful communication. Their proposal aims to prevent a node susceptible to capture from operating in the omni-directional mode while idle. If the capture directions are known, the node forms a multi-beam pattern with main-lobes in directions other than the capture directions. The multi-beam antennas require high degree of freedom which increases the size and cost of the antenna. Also, the switching delay may be significant in the presence of numerous multi-beam patterns which may cause the per-packet switching to be infeasible

57

for practical antennas. Figure 4.1 shows a classification of the directional MAC protocols surveyed in this section. It is clear that most of the directional MAC protocols are based on random channel access while fewer MAC protocols perform synchronized channel access. Tables 4.1 and 4.2 illustrate a comparison of the main features of the discussed MAC protocols. Table 4.1 lists the type of beamforming antenna used as well as the basic protocol operations. Table 4.2 compares the neighbor discovery mechanisms, the problems addressed, the overhead and the complexity.

Medium Access Control (MAC) using beamforming antennas

Random access

Synchronized access

Pure RTS/CTS

Tone-based

Polling-based

SYN-DMAC [44] CW-DMAC [45] PMAC [46] ROMA [51]

D-MAC [17] Nasipuri [18] ElBatt [34] Bandyopadhyay [19] DVCS [20] Basic DMAC [9] CRM [38] CRCM [39] MDA [40] DMAC-DACA [41] DMAC/DA [22] MMAC [21] DtD-MAC [47] Kolar [49] EDAMA [50] UDAAN D-MAC [7] ANMAC [52] CADMAC [53]

DBTMA/DA [36] DBSMA [37] Tone DMAC [8] F-DMAC-TONE [43]

RI-DMAC [42]

Figure 4.1: A classification of directional MAC protocols.

58

Table 4.1: Comparison between existing directional MAC protocols: Antenna type and protocol operation
Antenna type Beamforming D-MAC [17] Nasipuri [18] ElBatt [34] Bandyopadhyay [19] DVCS [20] Basic DMAC [9] CRM [38] CRCM [39] MDA [40] DMAC-DACA [41] DMAC/DA [22] MMAC [21] DtD-MAC [47] Kolar [49] EDAMA [50] UDAAN D-MAC [7] ANMAC [52] CADMAC [53] DBTMA/DA [36] DBSMA [37] Tone DMAC [8] F-DMAC-TONE [43] RI-DMAC [42] SYN-DMAC [44] CW-DMAC [45] PMAC [46] ROMA [51] Switched Switched Switched Adaptive array Adaptive array Adaptive array Switched Switched Switched Switched Switched Adaptive array Switched Switched Switched Switched Switched Switched Switched Switched Switched Switched Switched Switched Switched Adaptive array Adaptive array Beam Single Single Multiple Multiple Single Single Single Single Single Single Single Single Single Single Single Single Multiple Multiple Single Single Single Single Single Single Single Single Multiple Dir/Omni Omni Multi-dir concurrent Multi-dir concurrent Dir/Omni Dir Multi-dir sequential Multi-dir sequential Multi-dir sequential Multi-dir sequential Multi-dir sequential Dir Multi-dir sequential Dir/Omni Multi-dir sequential Dir Multi-dir concurrent Dir Omni Dir Dir Dir/Omni Dir Dir Omni Dir Omni Omni Multi-dir concurrent Multi-dir concurrent Dir Dir Dir Multi-dir sequential Multi-dir sequential Multi-dir sequential Multi-dir sequential Dir Dir Dir Multi-dir sequential Dir Multi-dir concurrent Dir Dir Dir Dir Dir Dir Dir Omni Dir Omni Omni Omni Multi-dir Omni Omni Omni Omni Omni Omni Omni Omni Dir Omni Omni Omni Omni Multi-dir Omni Dir Omni Omni Omni Omni Omni Dir RTS CTS Idle listening Backoff Antenna omni Omni Omni Omni Dir Omni Omni Omni Omni Omni Omni Dir Omni Omni Omni Omni Multi-dir Omni Dir Omni Omni Omni Omni mechanism BEB BEB BEB BEB BEB BEB BEB BEB BEB BEB BEB 2 constant CWs BEB BEB event-based BEB BEB MILD BEB for each beam prempted BEB BEB BEB BEB -

59

Table 4.2: Comparison between existing directional MAC protocols: Neighbor discovery, problems addressed , overhead and complexity
Neighbors Range D-MAC [17] Nasipuri [18] ElBatt [34] Bandyopadhyay [19] DVCS [20] Basic DMAC [9] CRM [38] CRCM [39] MDA [40] DMAC-DACA [41] DMAC/DA [22] MMAC [21] DtD-MAC [47] Kolar [49] EDAMA [50] UDAAN D-MAC [7] ANMAC [52] CADMAC [53] DBTMA/DA [36] DBSMA [37] Tone DMAC [8] F-DMAC-TONE [43] RI-DMAC [42] SYN-DMAC [44] CW-DMAC [45] PMAC [46] ROMA [51] OO OO OO OO DO DO DO DO DO DO DO DD DD DO DO DO OO OO OO DD DO DO DO DO OO DD OO Location info GPS DoA Assumed available Periodic updates AoA cache Upper layer DoA DoA Upper layer GPS Assumed available Upper layer AoA cache AoA cache Upper layer periodic heartbeats DoA Assumed available DoA Periodic updates Assumed available AoA cache Assumed available Assumed available Assumed available Search phase period exchange Problems addressed Deafness No No No No No No Yes Yes Yes Yes Yes No Yes No Yes No Yes No No No Yes No Yes Yes Yes Yes No Hidden terminals No No Yes Yes No No Yes Yes Yes Yes Yes No Yes No Yes No Yes No Yes Yes No Yes No Yes Yes Yes Yes HoL blocking No No No No No No No No No No No No No Yes Yes No Yes No No Yes No No No Yes No No No Low Low High High Low Low High High High High Medium Medium High Low High Low High Low Low Low Low Low Low Low High High Low Low Low High High Low Low Low Low Low Low Low Low Low Low Low Low High High High High High High Low High Low High High Overhead Complexity

60

4.2

Problem Formulation

In contrast to omni-directional antennas, beamforming antennas have the ability to increase the spatial reuse since they allow multiple transmissions to occur simultaneously within the same neighborhood. However, the antenna should be appropriately controlled by the MAC layer to achieve this potential benefit. In this section, we discuss some limitations of the previously proposed directional MAC protocols by considering three different scenarios. Our discussions are in the context of Basic DMAC protocol with the default binary exponential backoff procedure which is the basis of most of the proposed protocols. In the directional hidden terminal scenario of Figure 4.2, node S1 communicates with both node D and node D1 while node S2 communicates with both node D and node D2 . The use of IEEE 802.11 CSMA MAC in an omni-directional mode limits the spatial reuse as it permits only one transmission at a time. However, directional antennas can allow two transmissions concurrently provided that both transmissions are not targeted to the same receiver D. If Basic DMAC is in operation, the transmission scenario is as follows: if both nodes have a packet directed to node D at the head of their respective queues, a collision is

D1

S1 D S2

D2

Figure 4.2: A directional hidden terminal scenario.

61

likely to happen at node D. As a result, both nodes back-off exponentially before contending again for the channel. Due to the directional transmission, each node is considered a hidden terminal with respect to the other although they are within the transmission range of each other. Eventually, one node (say node S1 ) succeeds in transmitting DRTS that node D responds to with DCTS. Upon hearing DCTS, the other node S2 freezes its backoff counter and waits in an idle state until the other transmission finishes. With IEEE 802.11, when a node overhears the RTS sent by the other node, it does not initiate its transmission. However with DMAC, the node cannot hear DRTS and halts its transmission when it receives the receiver's DCTS. It is obvious that successive retries in the same direction is not a good approach especially if the node has other packets in the queue outstanding for transmission in other directions. This may limit the ability of DMAC to gain from the spatial reuse benefit (depending on the traffic). On the other hand, forcing the node to keep silent until the other transmission ends should not be a mandatory requirement in directional MAC protocols because transmitting in another direction may not affect the ongoing transmission. Figure 4.3 shows a typical deafness scenario. Similar to the previous scenario, node S1 communicates with both node D and node D1 while node S2 communicates with both node

D1

S1

D

S2

D2

Figure 4.3: A deafness scenario.

62

D and node D2 . However, node D communicates with node S1 and node S2 using two different beams. If node D is engaged with node S1 , it becomes deaf to node S2 . According to Basic DMAC, node S2 continues attempting transmission towards node D, and as a result experiences repeated backoff. Since retransmission attempts exponentially increase the subsequent backoff periods, it is likely that node S2 is found waiting for a long backoff period to end when node S1 completes its transmission to node D. Hence, if node S1 has another packet for node D, it may establish its transmission with node D even before node S2 is able to send its DRTS to node D. After experiencing continuous backoff, node S2 may eventually drop the packet if it reaches the maximum retry limit. This example shows why the deafness problem is a major drawback of Basic DMAC as it potentially causes long delays due to starvation or even packet losses. Some recent protocols addressed the deafness problem by informing other nodes about the deafness duration through additional control packets [38­40] or out-of-band tones [8]. However, the long failure recovery time is one of the disadvantages common to all those protocols as a result of wasting the time insisting on communicating with a deaf node first. In the scenario shown in Figure 4.4, node A has packets to send to each of node B and node C . Also, each of nodes B and C has a flow to node D. Node E communicates with node F . When omni-directional antennas are used, node A has to contend for the channel access with nodes B , C and E . On the other hand, if the nodes are equipped with beamforming antennas, the spatial reusability can be enhanced. Ideally speaking, when the transmission and reception occur directionally, flow E -F should not interfere with node A's transmission either to node B or node C . Moreover, flows A-B and C -D (and flows A-C and B -D) can be active simultaneously. However, the actual performance of the network with directional antennas lies in the operation of the MAC protocol. In particular, the antenna mode (directional/omni-directional) during the backoff phase is a critical trade-off. In the interest of higher spatial reuse, Basic DMAC performs the directional backoff. Remaining in the directional mode can prevent a node from getting unnecessarily captured by surrounding

63

F B A C E
Figure 4.4: A scenario illustrating the trade-off between directional backoff and omnidirectional backoff.

D

communications. In this case, node A is not affected by the transmission of node E to node F as long as node A has packets in its queue. However, both nodes B and C appear deaf to node A even though only one of them is busy with node D because the other one is experiencing backoff at that time. Using directional backoff (i.e. spending the backoff phase in a directional mode), the drawbacks of persistent deafness overcome the benefits of interference reduction. Hence, several directional MAC protocols [7, 9, 22, 54] perform the backoff phase in an omni-directional mode. Although persistent deafness of nodes B and C can be alleviated using the omni-directional backoff, node A may be unnecessarily captured by flow E -F every time it backs-off. With the default binary exponential backoff mechanism, node A remains susceptible to flow E -F for a longer period of time, which eventually reduces the spatial reuse. Using the existing directional MAC protocols, if node A fails to establish communication with node B because of node B 's communication with node D, node A begins the idle omni-directional backoff phase instead of benefiting from sending to node C which is in the omni-directional backoff phase.

64

4.3

Main Design Considerations

As mentioned before, the goal of this chapter is to design a directional MAC protocol for multi-hop wireless networks which is capable of leveraging the spatial reusability offered by the beamforming antennas. In this section, we discuss various MAC design issues related to beamforming and present a list of observations which we use as a basis for our proposed MAC protocol. It is obvious from the previous discussion of various scenarios that the binary exponential backoff algorithm is no longer adequate in the presence of beamforming antennas. The backoff algorithm used within contention-based directional MAC protocols should be revisited. In IEEE 802.11 MAC with omni-directional antennas, the backoff phase is used for contention resolution and the exponential increment of the contention window size is needed for collision avoidance. Since collision is the major reason for transmission failures in the case of omni-directional antennas, this conservative algorithm provides a fair and efficient medium access. Moreover, since each transmission reaches all the receivers in the sender neighborhood, the idle backoff phase is mandatory when collision is detected (i.e. when the acknowledgment is not received). On the other hand, when beamforming antennas are used, the channel is spatially divided as a result of the directional transmission. Hence, a transmission in one direction is not sensed in other directions. This major benefit of beamforming antennas should be fully utilized. A missing acknowledgment of a packet transmission indicates a transmission failure that could be due to collision or deafness. In either case, the receiver is not currently ready to receive the packet and the sender should halt the packet retransmission for a certain period of time, as it happens in IEEE 802.11 backoff process typically employed by all directional MAC protocols. However, the directional MAC protocol should not force the sender to remain idle during this backoff period as implicitly assumed by the existing protocols. Remaining idle during the backoff period introduces unnecessary blocking that results in channel underutilization and a significant increase in the delay. Instead, during the period the node is forced to backoff from transmitting in one direction as a 65

result of transmission failure, it can take the opportunity of attempting transmission of other outstanding packets in other directions. In other words, the need to backoff for a random period of time before retransmission in one direction should not block packet transmissions in other directions. This active backoff procedure helps in exploiting the spatial reusability of the wireless channel to its full extent. Observation #1: In case of a missing acknowledgment, the node should not be forced to remain idle between the retransmission attempts as long as it has other packets to transmit in other directions. In IEEE 802.11 MAC, each node should go into an idle backoff phase after each successful transmission. This is done to ensure that nodes with several packets to send do not take control of the medium for long periods of time prohibiting other nodes from contending to access the medium. This seems to be unnecessary in the case of beamforming antennas. The time the node spends in transmitting a packet in one direction can serve as a backoff duration for channel contention in another direction. Hence, contention resolution can be achieved by avoiding successive packet transmission in one direction rather than forcing the node to remain in an idle state for a period of time. However, a critical deafness problem could arise. For example, if a node has a backlog of packets to different neighbors residing in few directions, it would appear deaf to all the nodes in the other directions. This problem is similar to the original deafness problem in the context of Basic DMAC [9]. The proposed solution to the problem is to perform the backoff phase in an omni-directional idle state. Although this solution is widely adopted by existing directional MAC protocols, it severely reduces the spatial reuse. Since the idle backoff contradicts observation #1, alleviating the deafness deadlocks should be decoupled from the backoff algorithm. To alleviate the persistent deafness, each node should regularly listen to the medium omnidirectionally. Although this listening phase resembles the IEEE 802.11 backoff phase, the rationale behind it is totally different. The idle backoff algorithm is originally designed for contention resolution while the listening phase is needed with beamforming antennas

66

to reduce the transmission failures due to deafness and to allow each node to update its channel state information. Moreover, the frequency of occurrence is also different since it is not essential to enter the listening phase after each transmission failure as in the case of the IEEE 802.11 backoff phase. Observation #2: Each node should regularly go into an omni-directional idle state to prevent persistent deafness. Observation #3: In the case of beamforming antennas, the backoff phase and the listening phase should be decoupled. The deafness problem is the most critical challenge facing multi-hop wireless networks with beamforming antennas. Although deafness occurs as a result of a transmission failure when the receiver is beamformed towards another direction, the sender's reaction escalates the problem. Upon the detection of the failure, the binary exponential backoff algorithm is invoked resulting in channel underutilization, degradation in the network capacity, an increase in the packet drops and unfairness. Most of the solutions proposed in the literature focus on reducing the deafness occurrence by informing neighboring nodes about the upcoming transmission that may lead to deafness. This includes either omni-directional RTS/CTS transmission [18] or sequential directional RTS/CTS transmission over beams other than the receiver's direction [39, 40]. Although these approaches may reduce the occurrence of deafness, they cannot completely eliminate it as the overhead control packets may suffer from deafness themselves in addition to possible collisions. However, the main drawback of these techniques is the additional overhead that offsets the spatial reuse reducing the network capacity and increasing the delay [22]. In [8], the authors propose sending a tone notification after the directional communication is over. The aim is to reduce the impact of deafness by preempting large backoff periods. Nevertheless, the complexity of the implementation makes it impractical to use this solution. In order to exploit the spatial reusability offered by beamforming antennas, we need to address the deafness problem without introducing any additional overhead. Without the need of a deafness notification, the node that detects a

67

packet failure should react in a way that alleviates the negative impact of deafness. The ideal behavior should minimize the blocking time, avoid the channel underutilization, reduce the correlation between the retransmissions and avoid involving in an unfair backoff. Another rationale behind our approach of having each node relieves the deafness problem on its own is the fact that deafness has no harmful impact on any other ongoing communication. In contrary, the hidden terminal problem is more destructive as it harms the ongoing transmission, therefore, there is a need to inform the neighborhood a priori to protect itself. Observation #4: Each node should react to transmission failures in a way that mitigates the impact of deafness. Observation #5: To leverage the benefit of spatial reuse, overhead should be minimized. The use of beamforming antennas introduce new hidden terminal problems in which the regular RTS/CTS fails to inform the hidden nodes about the ongoing communication. The directional hidden terminal problem due to asymmetry in gain is shown to be very rare [21], while collisions due to unheard RTS/CTS can occur more frequently. In this case, the virtual carrier sensing fails because it was performed while some nodes are beamformed towards other directions. This results in a loss of the channel state information whenever the node is beamformed. To reduce the effect of this kind of hidden terminal problems, the node should try to retrieve its channel state information before each transmission attempt. Observation #6: To reduce the hidden terminal problem due to unheard RTS/CTS, the node should try to retrieve its channel state information before transmission. In the case of omni-directional antennas, the FIFO queuing policy works fine since all outstanding packets use the same medium. If the medium is busy, no packet can be transmitted. However, in case of beamforming antennas, this scheduling policy leads to the HoL blocking problem. In order to improve the spatial reuse, the packet scheduling policy should not block the transmission of any ready packet. Observation #7: The packet scheduling policy should enable the transmission of any ready packet, thus eliminating the HoL blocking.

68

4.4

Protocol Description

Based on the set of observations presented in the previous section, we propose an opportunistic directional MAC protocol called OPDMAC for multi-hop wireless networks with beamforming antennas. OPDMAC aims to fully exploit the benefits of spatial reuse by minimizing the idle waiting time and exploring the new transmission opportunities. OPDMAC is a contention-based directional MAC protocol that employs RTS/CTS exchange before data transmission. All messages are sent directionally while the idle node listens to the medium in an omni-directional mode. We assume that the upper layers (e.g. routing layer) are capable of providing OPDMAC with neighbors' directions. The rationale behind this assumption is that all routing protocols broadcast control packets whether Route Request (RREQ) packets during routing discovery or periodic HELLO packets. This assumption is common among various directional MAC protocols [9, 17]. OPDMAC uses the DNAV mechanism for the directional virtual carrier sensing. In the following subsections, we describe the operation of the OPDMAC protocol in details. The pseudocode of the protocol is shown in Figure 4.5.

4.4.1

RTS Transmission

When a node ends its listening period (to be explained later), it checks whether its link layer queue has packets or not. If the queue is not empty, it scans the packets sequentially in the order of their arrival time and picks the first unblocked packet for transmission. The node attempts to transmit the packet by beamforming in the direction of the intended receiver and starting directional carrier sensing. If the medium is sensed idle for a DIFS period, the node transmits RTS packet. If the medium is sensed busy during the carrier sensing, the node has to defer transmission on this beam, however, it can still transmit over other beams. Accordingly, OPDMAC allows the node to rescan its queue and chooses the next unblocked packet and attempts transmitting the packet. It beamforms in the new direction and starts the carrier sensing again. When the node succeeds in sending RTS, it initiates a

69

wait-for-CTS timer and remains beamformed in the same direction.

4.4.2

RTS Reception and CTS Transmission

When a node receives RTS intended for the node itself, it performs a directional carrier sensing for a SIFS period. If the medium is sensed idle, it sends CTS in response. All other nodes that receive RTS not destined to them, update their DNAV table.

4.4.3

CTS Reception and DATA/ACK Exchange

Similar to most directional MAC protocols, when the sender receives CTS within the CTStimeout duration, it sends the DATA packet after SIFS period. Upon receiving DATA, the receiver responds with the ACK packet indicating successful reception of the DATA packet. All other nodes that hear CTS, DATA and ACK packets, update their DNAV tables accordingly.

4.4.4

Missing CTS

If the sender does not receive CTS within the CTS-timeout duration, this means that the receiver is not currently ready for receiving the DATA packet either because of collision or deafness. In both cases, the sender should not continue contending for the channel in this direction for a certain period of time as it happens in the backoff process of IEEE 802.11 generally employed by all directional MAC protocols. Instead of forcing the sender to remain idle going through rounds of backoff, the OPDMAC allows the node to recheck its queue and try to send another packet, if one is found, in another unblocked direction. If the node could not find any unblocked packet, it is forced to enter a backoff state. In OPDMAC, the node backs-off in an omni-directional mode for a random time derived from a constant contention window. Thus, it does not exponentially increase contention window with every round of backoff. The rationales for keeping the contention window constant are as follows.

70

First, if the RTS failure is due to collision, the contention will likely dissipate because other contending nodes start contending for the channel in other directions. Second, if CTS is not returned due to deafness of the receiver, the binary exponential backoff mechanism usually prolongs the deafness-related delay. Using the same rationales, constant backoff mechanism is also employed in case of retransmission caused by missing ACK. Dealing with missing CTS/ACK in such untraditional way is one of the novel features of OPDMAC.

4.4.5

The Listening Period

After each successful transmission, the node is forced to remain idle for a certain period of time called the Listening Period (LP) even if it has packets outstanding for transmission. During the LP, the node listens in an omni-directional mode. The LP is essential to mitigate persistent deafness by allowing other nodes to communicate with the deaf node. Also, overhearing the medium is beneficial because the node needs to collect useful information about its neighborhood to retrieve the channel state information. For example, it has to update its DNAV table which is likely to be outdated as a result of previous beamforming. Although this idle period trades-off the spatial reuse, it is necessary to eliminate persistent deafness. In contrast to directional MAC protocols that employ omni-directional backoff, the LP is needed after each successful transmission as opposed to each transmission failure.

4.5

Implementation Details

Since the IEEE 802.11 default parameters and timings are originally designed for omnidirectional antennas, they must be reconsidered when beamforming antennas are utilized. Although OPDMAC can perform correctly using the default values, performance improvement can be achieved if those values are adjusted to address the new challenges. In this section, we discuss the impact of the OPDMAC parameters on its operation and thus the overall performance.

71

NO_READY_PKT: Wait idle in omni-directional mode if (new outgoing packet or DNAV expires) Go to FIND_READY_PKT if (found) Go to PKT_TO_SEND endif endif if (incoming packet) Go to PKT_TO_REC endif FIND_READY_PKT: for (each packet in the queue) if ( CS = idle and DNAV =0) Serve this packet now return (found) endif endfor return (not found) PKT_TO_SEND: Transmit DRTS Go to WAIT_FOR_CTS PKT_TO_REC: if (packet addressed to this node) if (RTS packet) Transmit DCTS else if (DATA packet) Transmit DACK end if else Update DNAV endif WAIT_FOR_CTS: if (CTS received) Transmit DDATA Go to WAIT_FOR_ACK else if (wait-for-CTS timer expires) Do not retransmit immediately Go to FIND_READY_PKT if (found) Go to PKT_TO_SEND else Go to BACKOFF endif endif

WAIT_FOR_ACK: if (ACK received) Go to LP else if (wait-for-ACK timer expires) Do not retransmit immediately Go to FIND_READY_PKT if (found) Go to PKT_TO_SEND else Go to BACKOFF endif endif LP: Wait idle in omni-directional mode for random time derived from LP window if (incoming packet) Go to PKT_TO_REC endif if (LP expires) Go to FIND_READY_PKT if (found) Go to PKT_TO_SEND else Go to NO_READY_PKT endif endif BACKOFF: Wait idle in omni-directional mode for random time derived from constant CW if (incoming packet) Go to PKT_TO_REC endif if (new outgoing packet or DNAV expires) Go to FIND_READY_PKT if (found) Go to PKT_TO_SEND endif endif if (BO timer expires) Retransmit DRTS endif

 

Figure 4.5: The pseudocode of the proposed OPDMAC protocol. 72

A node can transmit if it senses the medium idle for DIFS period which is 50 µs in the case of IEEE 802.11 Direct Sequence Spread Spectrum (DSSS) [14]. When omni-directional antennas are used, this period is more than enough to ensure there is no ongoing communication on the channel. In the case of directional transmission and reception, the virtual carrier sensing may fail in informing all the neighbors about the ongoing communication due to the possibility of unheard RTS/CTS if any of the neighbors is beamformed towards another directions at that time. To reduce the impact of this kind of hidden terminal problem, the DIFS period before each transmission attempt should be prolonged to avoid colliding with a possible ongoing communication. To completely solve this hidden terminal problem, the DIFS period should be at least equal to the transmission time of a DATA packet but this is a very long period for a node to wait. If there is no ongoing communication to avoid, a large DIFS duration incurs a significant delay which may be unnecessary. The unnecessary waiting time before transmission reduces the channel utilization and increases deafness. Choosing the value of DIFS period is a trade-off between reducing the probability of collisions due to unheard RTS/CTS and increasing the delay. In [43], the authors show that preceding any transmission with a pause period that is equal to the transmission time of a CTS packet yields the best performance. Hence, we use a DIFS period of 300 µs in our simulations. When a node does not receive CTS within CTS-timeout duration, the RTS packet is considered lost. The value of CTS-timeout is not specified in the IEEE 802.11 standard but it is usually defined as SIFS + TACK (where TACK is the duration of the ACK packet), which is equal to 314 µs in the case of IEEE 802.11b [24]. This value is considered too large duration since the CTS is expected to be received after SIFS + Round Trip Time (RTT). In the case of omni-directional antennas, such unnecessary waiting time does not have a significant effect since the node experiences idle backoff for a random period of time before initiating a retransmission. On the contrary, with beamforming antennas, a large CTStimeout could result in unnecessary idle waiting time that could underutilize the spatial reuse. When OPDMAC is in operation, if a CTS-timeout counter expires, the node is

73

expected to seek another transmission in another direction. Hence, a longer than necessary CTS-timeout duration degrades the performance of OPDMAC. The reduction in the CTStimeout duration can offset the increase in the DIFS period proposed to reduce the hidden terminal problem. In this work, we use a CTS-timeout equal to one slot time which is 20 µs. Although OPDMAC eliminates the need for an idle backoff after transmission failure, it may be necessary to enter an idle backoff state if the node does not have outstanding packets for transmission in other directions. In this case, the node has to backoff in an omnidirectional mode for a random time derived from a constant Contention Window (CW). However, one important difference from the IEEE 802.11 backoff is that there is no need to freeze the backoff counter if a carrier is sensed in other directions. If the counter expires during a packet reception, the node should wait until it completely receives the incoming packet. If the packet is destined to the node, it will respond. Otherwise, the node just updates its DNAV and then beamforms to start the directional carrier sensing preceding the retransmission. The initial CW specified in the IEEE 802.11 standard is [0, 31]. In OPDMAC, a very small backoff interval might be counterproductive because it might expire even before the contention is dissipated or the receiver comes out of deafness. Hence, we propose using a lower bound of the backoff CW. Based on extensive simulations, we adopt a backoff CW of [16, 31]. The OPDMAC requires a node to remain idle for a Listening Period (LP) after each successful transmission. Similar to the backoff in IEEE 802.11, the node freezes its counter if the medium is sensed busy. A longer LP reduces the probability of deafness occurrence at the expense of additional delay that may decrease the spatial reuse. The trade-off in choosing the value of LP window is evaluated in the next section.

74

4.6

Performance Evaluation
We compare

In this section, we evaluate the performance of our OPDMAC protocol.

OPDMAC with Basic DMAC protocol, DMAC protocol with omni-directional backoff (DMACOM-BO) and the IEEE 802.11 standard. We use OPNET 12.1 [10] as our network simulator. We implemented a smart antenna with directional gain of 10 dB and beamwidth 60o in OPNET using its powerful antenna pattern editor. We also implemented the three directional MAC protocols using OPNET Modeler. To focus on the benefits of the spatial reuse, we set the communication range for both directional and omni-directional protocols to 250 m using power control. The packet size is 1 Kbytes and the data rate is 11 Mbps. We do not consider node mobility in our simulations. In the first set of experiments, we show the benefits of OPDMAC using the default values and timing as specified in the IEEE 802.11 standard. Next, we evaluate the impact of changing these values on the performance of OPDMAC as discussed in section 4.5.

4.6.1

Simple Topologies

The use of beamforming antennas introduces new challenges such as deafness and directional hidden terminal problems. The impacts of these problems are highly dependent on the topology and the traffic flows. In order to evaluate the performance of OPDMAC in the presence of those challenges, we first simulate few simple scenarios to illustrate the issues underlying each problem separately. First, we simulated the scenario shown in Figure 4.2. In this scenario, we consider the directional hidden terminal problem due to unheard RTS/CTS as well as the HoL blocking. Node S1 communicates with both node D and node D1 through two different flows. Also node S2 establishes separate flows with node D and node D2 . The traffic of each flow follows Poisson distribution. To consider non-uniform flows, the average sending rate of the flow (S1  D) is four times the average sending rate of the flow (S1  D1 ) to model higher

75

6 OPDMAC DMAC 802.11

Aggregate Throughput (Mbps)

5

4

3

2

1

0

2

3

4

5

6

7

8

9

10

Total Offered Load (Mbps)

Figure 4.6: Aggregate throughput for the scenario in Figure 4.2.

traffic load in the direction of contention. As for node S2 , the average sending rate of the flow (S2  D2 ) is four times the average sending rate of the flow (S2  D) to model higher traffic load in the contention-free direction. The total offered load is the sum of the rates of the four flows. Figure 4.6 shows the aggregate throughput versus the offered load. As expected, IEEE 802.11 performs the worst because there is no possible spatial reuse. At low loads, the performance of OPDMAC is similar to DMAC because there are no available packets to offer the opportunity exploited by OPDMAC. However, as the load increases, the OPDMAC outperforms DMAC since it does not force the nodes to resort to idle backoff when they experience contention in one direction. This is beneficial not only because node S2 is able to send in the contention free direction (i.e. to node D2 ) but also it withdraws from contending with node S1 for the same target (node D) allowing node S1 to communicate contention free with node D. Figure 4.7 shows the average delay versus the offered load. It is clear that OPDMAC achieves the minimum delay since it tries to minimize the channel idle time.

76

2 1.8 1.6 OPDMAC DMAC 802.11

Average Delay (Sec)

1.4 1.2 1 0.8 0.6 0.4 0.2 0

2

3

4

5

6

7

8

9

10

Total Offered Load (Mbps)

Figure 4.7: Average delay for the scenario in Figure 4.2.

To evaluate the performance of OPDMAC in a deafness scenario, we simulated the scenario shown in Figure 4.3. The traffic configuration is similar to the previous scenario. Figure 4.8 shows the aggregate throughput versus the offered load in the deafness scenario. The OPDMAC outperforms the other two protocols because it is more effective in exploiting the available spatial reuse. Figure 4.9 shows the average delay versus the offered load for the same deafness scenario. The DMAC experiences high delay due to the consecutive failures experienced while trying to communicate with a deaf node resulting in a large waiting time between packet transmissions. In contrast, the OPDMAC protocol avoids being locked in trying to establish communication with a deaf node, which results in achieving a lower delay.

Next, we simulated the scenario shown in Figure 4.4. Our objective is to evaluate the trade-off between the directional backoff and the omni-directional backoff. We consider node A with two backlog flows destined to node B and node C . Flow E -F is considered an interfering flow that could affect the spatial reuse gain. Flows B -D and C -D are deafness

77

7 OPDMAC DMAC 802.11

6

Aggregate Throughput (Mbps)

5

4

3

2

1

0 2

3

4

5

6

7

8

9

10

Total Offered Load (Mbps)

Figure 4.8: Aggregate throughput for the scenario in Figure 4.3.

1.2 OPDMAC DMAC 802.11

1

Average Delay (Sec)

0.8

0.6

0.4

0.2

0

2

3

4

5

6

7

8

9

10

Total Offered Load (Mbps)

Figure 4.9: Average delay for the scenario in Figure 4.3.

78

Table 4.3: Aggregate throughput of flows A-B and A-C for the scenario in Figure 4.4 Interference flow E -F load (Mbps) 0.4 0.4 4 4 Deafness flows B -D and C -D load (Mbps) 0.4 4 0.4 4 Basic DMAC (Mbps) 0.65 0 0.65 0 DMAC-OM-BO (Mbps) 0.69 0.58 0.33 0.3 OPDMAC (Mbps) 3.19 1.8 2.1 1.27

flows with respect to flows A-B and A-C respectively. To avoid being distracted by the interfering flow, node A should backoff in a directional mode. However, to reduce the impact of deafness on flows A-B and A-C , nodes B and C should backoff omni-directionally. Since nodes A, B and C are running the same MAC protocol, there should be a trade-off in choosing the antenna mode during the backoff phase. Our OPDMAC protocol addresses this trade-off by decoupling the listening period and the backoff phase. Table 4.3 shows the aggregate throughput of flows A-B and A-C under different offered load for the interference and deafness flows. In the case of Basic DMAC, although the interference flow E -F has no effect since node A backs-off directionally, the aggregate throughput becomes zero when the load of deafness flows is high. This is the consequence of the directional backoff of nodes B and C . For the case of DMAC-OM-BO, node A can communicate with both node B and node C even under highly loaded deafness flows because of the omni-directional backoff. However, the flow E -F has a significant effect on node A's transmission since node A is susceptible to the interfering flow during the backoff periods. On the contrary, OPDMAC outperforms both protocols as a result of its novel backoff mechanism. For the case of nodes B and C , when one of them suffers from transmission failure, it is forced to backoff omni-directionally since it has no other packets to send. On the other hand, when node A fails to transmit a packet to one of the nodes, it does not go to an idle backoff but explores the opportunity of transmitting a packet to another node in a different direction. This increases the chance 79

of having flows A-B and C -D (and flows A-C and B -D) active simultaneously. Moreover, the OPDMAC limits the period in which it is affected by flow E -F to the Listening Period (LP) instead of the long backoff periods of DMAC-OM-BO. Hence, OPDMAC exploits the spatial reuse by reducing the impact of both interference and deafness.

4.6.2

Random Topologies

In the next set of experiments, we evaluate the performance of the OPDMAC protocol in a large multi-hop network. In a random network, the challenges are more complex but the additional transmission opportunities can provide more spatial reuse gain. We simulated a network with 30 nodes randomly placed in an area of 1000 m X 1000 m. The results are averaged over 10 different simulation runs. We evaluate the performance for one-hop flows and multi-hop flows.

One-hop flows In each simulation run, 10 out of the 30 nodes are randomly chosen as sources. Each source generates Constant Bit Rate (CBR) traffic and the destination of each packet is chosen randomly from the node's neighbors. We consider the aggregate throughput, the average delay and the packet delivery ratio as our performance metrics. Figure 4.10 shows the aggregate throughput as the total offered load increases. We can see the OPDMAC outperforms all other protocols. At low loads, IEEE 802.11 provides slightly better throughput than DMAC and DMAC-OM-BO since they suffer from numerous packet drops due to both deafness and hidden terminal problems. At higher loads, the directional MAC protocols start to gain from the offered spatial reuse. However, OPDMAC maximizes the channel utilization as it prevents the node from undergoing unnecessary idle wait time. We can also see that DMAC-OM-BO outperforms DMAC since it is able to alleviate deafness chains and deadlocks. Figure 4.11 illustrates the average delay in the same network. The figure shows that 80

15 OPDMAC DMAC-OM-BO DMAC 802.11 10

Aggregate Throughput (Mbps)

5

0

2

4

6

8

10

12

14

16

18

20

Total Offered Load (Mbps)

Figure 4.10: Aggregate throughput for multihop random network with one-hop flows.

2.5 OPDMAC DMAC-OM-BO DMAC 802.11

2

Average Delay (Sec)

1.5

1

0.5

0

2

4

6

8

10

12

14

16

18

20

Total Offered Load (Mbps)

Figure 4.11: Average delay for multihop random network with one-hop flows.

81

the average delay of OPDMAC is in terms of milliseconds even at very high loads. In contrast, other protocols experience much higher average delay in terms of seconds at high loads. Although the delay experienced by IEEE 802.11 is necessary to resolve contention, both DMAC and DMAC-OM-BO fail to fully exploit the benefits of beamforming antennas. The significant improvement achieved by OPDMAC is mainly because it is very effective in exploiting transmission opportunity offered in this case when multiple flows at each node are ready for transmission in different directions. The proposed scheme minimizes the queuing delay by transmitting a packet in one direction during the backoff period needed before transmitting another packet in another direction. In Figure 4.12, we plot the Packet Delivery Ratio (PDR) versus the total offered load. IEEE 802.11 as a conservative protocol performs the best. At low loads, both DMAC and DMAC-OM-BO suffer from a low PDR due to the successive failures resulting from deafness while OPDMAC has a higher PDR since it minimizes the correlation between successive retransmission attempts. At high loads, DMAC-OM-BO performs similar to IEEE 802.11
1

0.95

Packet Delivery Ratio

0.9

0.85

0.8

OPDMAC DMAC-OM-BO DMAC 802.11 2 4 6 8 10 12 14 16 18 20

0.75

Total Offered Load (Mbps)

Figure 4.12: Packet delivery ratio for multihop random network with one-hop flows.

82

Table 4.4: New OPDMAC parameters DIFS New 802.11 Standard 300 µs 50 µs CTS-timeout 20 µs 314 µs Backoff CW [16,31] [0,31]

because of the prolonged omni-directional backoff periods. The PDR for OPDMAC decreases dramatically at high loads. This is mainly due to the IEEE 802.11 default parameters and timing used with OPDMAC. As discussed in section 4.5, those values are not suitable for the case of directional antennas. In contrary to the conservative IEEE 802.11 MAC, OPDMAC is an aggressive protocol that aims to exploit the spatial reusability of the wireless channel. Hence, its implementation parameters should be carefully chosen to deal with the possibility of transmission failures especially at high traffic loads. In the next experiment, we evaluate the performance of OPDMAC when using new values for DIFS, CTS-timeout and the backoff CW based on our discussions in section 4.5. The new
15 Standard New

Aggregate Throughput (Mbps)

10

5

0

2

4

6

8

10

12

14

16

18

20

Total Offered Load (Mbps)

Figure 4.13: Aggregate throughput for OPDMAC with the new parameters.

83

0.35 Standard New

0.3

Average Delay (Sec)

0.25

0.2

0.15

0.1

0.05

0

2

4

6

8

10

12

14

16

18

20

Total Offered Load (Mbps)

Figure 4.14: Average delay for OPDMAC with the new parameters.

1 Standard New

0.98

Packet Delivery Ratio

0.96

0.94

0.92

0.9

0.88

0.86

2

4

6

8

10

12

14

16

18

20

Total Offered Load (Mbps)

Figure 4.15: Packet delivery ratio for OPDMAC with the new parameters.

84

and the standard values are shown in Table 4.4. We plot the aggregate throughput, average delay and the packet delivery ratio in Figures 4.13, 4.14 and 4.15 respectively. As we can see, the aggregate throughput for OPDMAC obtained with the new values is almost identical to that obtained using the standard ones. However, the optimized parameters improve the packet delivery ratio. At high offered loads, the PDR increases from 86.9% to 90.1%. This is mainly due to the reduction in the number of hidden terminals when a longer DIFS is performed before transmission. As shown in Figure 4.14, the gain in the PDR comes at the expense of a slight increase in delay which is due to using a higher value for DIFS. However, the average delay is still far below that achieved by the other protocols. In the previous experiments, we used an LP window equal to [0, 31]. In this experiment, we evaluate the performance of OPDMAC when the LP window is changed while keeping the new values for DIFS, CTS-timeout and the backoff CW shown in Table 4.4. Figures 4.16, 4.17 and 4.18 show the aggregate throughput, average delay and the packet delivery ratio respectively. By increasing the LP window, the transmission failures due to deafness
15 LP  [0,31] LP  [16,63] LP  [0,127]

Aggregate Throughput (Mbps)

10

5

0

2

4

6

8

10

12

14

16

18

20

Total Offered Load (Mbps)

Figure 4.16: Aggregate throughput for OPDMAC with different LP windows.

85

0.4 0.35 0.3 LP  [0,31] LP  [16,63] LP  [0,127]

Average Delay (Sec)

0.25 0.2 0.15 0.1 0.05 0

2

4

6

8

10

12

14

16

18

20

Total Offered Load (Mbps)

Figure 4.17: Average delay for OPDMAC with different LP windows.

1 LP  [0,31] LP  [16,63] LP  [0,127]

0.98

Packet Delivery Ratio

0.96

0.94

0.92

0.9

0.88

0.86

2

4

6

8

10

12

14

16

18

20

Total Offered Load (Mbps)

Figure 4.18: Packet delivery ratio for OPDMAC with different LP windows.

86

decrease since the nodes are likely to spend more time in omni-directional mode listening for the medium. Figure 4.18 depicts the benefits of increasing the LP window on the packet delivery ratio. However, the throughput curves shown in Figure 4.16, shows that the largest LP window [0,127] results in a decrease in the aggregate throughput by 3%. This is mainly due to the increase in the idle waiting time accompanied by the large LP that could decrease the spatial reuse gain. With respect to the average delay, Figure 4.17 shows that the moderate LP window [16, 63] achieves a delay equal to the delay achieved by a smaller LP window at very high loads. This shows that the LP window of [16, 63] achieves a trade-off between the probability of deafness and the unnecessary idle waiting time.

Multi-hop flows In this subsection, we evaluate the performance OPDMAC protocol in comparison with other protocols in the presence of multi-hop flows. We consider five CBR flows with random source-destination pairs. The flows are routed over minimum hop routes that are statically assigned. The performance metrics considered in this experiment are the aggregate end-toend throughput, the average end-to-end delay and the fairness index. The degree of fairness is calculated using Jain's fairness index [55].
l 2

xi Fairness Index =
i=1 l

, x2 i

(4.1)

l
i=1

where l is the number of flows and xi is the end-to-end throughput of flow i. In Figure 4.19,we plot the aggregate end-to-end throughput versus the per-flow offered load. As we can see, the OPDMAC protocol significantly outperforms the other protocols since it fully exploits the benefits of spatial reuse introduced by the beamforming antennas. We also notice that IEEE 802.11 performs better than DMAC and DMAC-OM-BO at very low loads since they suffer from deafness. As the load increases, the directional MAC 87

3.5

Aggregate End-to-End Throughput (Mbps)

3

OPDMAC DMAC-OM-BO DMAC 802.11

2.5

2

1.5

1

0.5

0 0

0.2

0.4

0.6

0.8

1

1.2

1.4

1.6

1.8

2

Per-flow Load (Mbps)

Figure 4.19: Aggregate end-to-end throughput for random multi-hop topologies and flows.

protocols start to benefit from the spatial reuse and outperform IEEE 802.11. Figure 4.20 shows the average end-to-end delay versus the offered load. As expected, IEEE 802.11 has the largest delay due to its omni-directional antenna. DMAC-OM-BO experiences large delay due to its omni-directional backoff that limits the spatial reuse. Our OPDMAC protocol has the smallest end-to-end delay due to its novel backoff mechanism that minimizes the idle waiting time and reduces the HoL blocking. We also notice that DMAC experiences an average delay that is slightly larger than OPDMAC. The reason is that some flows are completely blocked due to persistent deafness. In DMAC, if an intermediate node on the route of a certain flow is also the originator of a second flow, the first flow is blocked as the intermediate node remains deaf as long as it has application packets to send. This results in fewer active flows in the network experiencing a relatively lower delay. This issue is clear when we look at the fairness index shown in Figure 4.21. As we can see, DMAC has the lowest fairness index which is primarily due to the starvation caused by the deafness deadlocks. In contrast, the OPDMAC is the fairest among the protocols we compared it

88

4.5 4 OPDMAC DMAC-OM-BO DMAC 802.11

Average End-to-End Delay (Sec)

3.5 3 2.5 2 1.5 1 0.5 0

0

0.2

0.4

0.6

0.8

1

1.2

1.4

1.6

1.8

2

Per-flow Load (Mbps)

Figure 4.20: Average end-to-end delay for random multi-hop topologies and flows.

1

0.9

0.8

Fairness Index

0.7

0.6

0.5 OPDMAC DMAC-OM-BO DMAC 802.11 0 0.2 0.4 0.6 0.8 1 1.2 1.4 1.6 1.8 2

0.4

Per-flow Load (Mbps)

Figure 4.21: The Fairness Index for random multi-hop topologies and flows.

89

with. This is because OPDMAC protocol reduces the impact of deafness and does not rely on the binary exponential backoff mechanism rather it employs a constant window for the listening period.

4.7

Conclusions

In this chapter, we proposed an Opportunistic Directional MAC protocol (OPDMAC) for multi-hop wireless networks with smart beamforming antennas. Our proposed protocol aims to exploit the benefits of spatial reuse introduced by the use of beamforming antennas. We discussed various design considerations to build a concrete foundation for the proposed MAC protocol. With the objective of minimizing the unnecessary idle waiting time, we argued that the binary exponential backoff algorithm is over-conservative and is not adequate to be used in conjunction with beamforming antennas. In case of a missing response (CTS or ACK), OPDMAC does not force the node to undergo idle backoff while it has outstanding packets for transmissions in other directions. This minimizes the idle waiting time and hence increases the channel utilization significantly. We also showed that the OPDMAC is effective in alleviating the effect of both deafness and directional hidden terminal problems without the need of additional control overhead. However, to avoid prolonged periods of deafness, we introduced a listening period in which the node remains idle in an omni-directional mode after each successful transmission. Decoupling the listening phase and the backoff phase is a unique feature of our proposed protocol. Through extensive simulations, we demonstrated that the proposed MAC protocol enhances the performance in terms of throughput, delay, packet delivery ratio and fairness. To further improve the performance, we discussed and evaluated the benefits of carefully choosing some of the protocol parameters instead of using the default values of the IEEE 802.11 MAC generally used by other directional MAC protocols. Moreover, OPDMAC is backward compatible with IEEE 802.11 since it employs the

90

same control packets with the same packet format and without any additional fields. This facilitates the coexistence of nodes with omni-directional antennas and beamforming antennas in the same network. Due to the advances in beamforming antenna technology and the wide spread use of omni-directional antennas, multi-hop wireless networks with heterogenous antennas are likely to exist. Evaluating the performance of OPDMAC in wireless networks with heterogenous antennas is part of our future work.

91

Chapter 5 On the Capacity Gain by Using Beamforming Antennas
In Chapter 3, we have discussed the challenges associated with directional beamforming at the MAC layer. In Chapter 4, we proposed a novel MAC protocol to address these challenges and efficiently exploit the spatial reuse gain offered by the smart beamforming antennas. In the rest of this dissertation, we shall focus on the impact of the beamforming antennas on the network layer. Although the use of beamforming antennas has proven to increase the capacity of multi-hop wireless networks, it is not clear how much gain should we expect from using these antennas. In this chapter, we investigate the theoretical capacity gain that can be achieved using smart beamforming antennas. Interference is a dominant factor in limiting the capacity of wireless networks. The potential of enhancing network capacity by controlling interference is a major motivation for using beamforming antennas. By restricting the beamforming in a desired direction, interference in other directions is alleviated. This allows multiple concurrent transmissions to happen in the same vicinity, which cannot be achieved using omni-directional antennas. Moreover, beamforming antennas can have a higher communication range in the desired direction with the same transmit power, this often reduces the number of hops along a

92

communication path. This decreases the interference region as well as the fraction of the time the intermediate nodes spent relaying packets, which further increases the network capacity. Although most of the research done in the context of beamforming antennas attempted to enhance the network capacity by means of new algorithms and protocols, few researchers addressed the fundamental question of the optimal capacity gain. Even most of them focused on computing the capacity bounds in an asymptotic scaling sense under assumptions such as node homogeneity and random communication patterns. In this chapter, we follow a different approach in which we compute the optimal throughput bound of multi-hop wireless network with beamforming antennas without making any assumptions regarding the homogeneity of the nodes, the capabilities of the antennas, the communication range or the regularity of the traffic patterns. Given a specific network topology, specific antenna radiation patterns and specific traffic flows, we compute the maximum achievable throughput of the network and evaluate the capacity gain over the same network if equipped with omni-directional antennas. We model the problem as a Multi-Commodity Flow (MCF) problem. Throughout the literature, the MCF formulation has been used to derive the theoretical bounds of wired and wireless networks. In the context of wireless networks, additional constraints are added to the traditional MCF formulation to capture the impact of the interference. The interference model commonly used is based on the circular antenna radiation pattern that is usually used with omni-directional antennas. In this chapter, we use the conflict graph [56] to model the wireless interference. The conflict graph indicates which groups of links mutually interfere and hence cannot be active simultaneously. A key distinction of our work from previous works on MCF formulations is that our analysis considers generic and realistic antenna radiation patterns. The significant differences between directional and omni-directional antenna radiation patterns dictate the derivation of new interference constraints. In this chapter, we first derive a generic interference model that can accommodate any antenna radiation pattern as well as any smart beamforming antenna system (switched or

93

steered). Second, we redefine the conflict graph to derive novel interference constraints capable of capturing the benefits of beamforming antennas. We then formulate the MCF problem with the novel constraints. Based on our formulation, we evaluate the throughput bound of multi-hop wireless networks with different antenna models. We compute the capacity gains derived from both the spatial reuse and the range extension.

5.1

Related Work

There have been several attempts to derive the optimal capacity bounds for multihop wireless networks. In a seminal paper [57], Gupta and Kumar studied the asymptotic capacity bounds of a multi-hop wireless network with N identical nodes where each node is communicating with another node. Under both protocol and physical models of interference,  they showed that the per-node throughput capacity is O(1/ N logN ) assuming randomly  located nodes and random communication patterns and O(1/ N ) assuming optimal node placement and optimal communication patterns assignment. Jain et. al. [56] studied the impact of interference on the optimal throughput achieved by multi-hop wireless networks. Different from the work by Gupta and Kumar, they compute the optimal throughput with a given network topology and specified traffic patterns. They model the problem as a network flow problem and use the conflict graph to find the interference constraints. However, they focus on the routing component and assume the existence of ideal scheduling mechanism. Kodialam et. al. [58] studied the joint routing and scheduling problem to achieve a given rate vector. The only interference constraint they considered is that a node cannot transmit and receive simultaneously. They do not take into consideration the interference caused by other links in the same neighborhood. In the context of directional antennas, Yi et. al. [59] extend the work in [57] to the case of ideal sectorized antennas. However, they focus on the capacity scaling in terms of the antenna  beamwidth. They show that the capacity gain is 2/  for arbitrary networks and 4 2 /

94

for random networks, where  and  are the transmitting and receiving antenna beamwidth respectively. In [60], Peraki et. al. study the maximum stable throughput in dense random wireless networks with directional antennas with bounded queue. They derive an asymptotic upper bound of the throughput by solving the minimum cut problem. Spyropoulos et. al. [61] present some capacity bounds that are technology-based but not information theoretic. They analyze how these bounds are affected by the antenna parameters like gain and beamwidth. Huang et. al. [62] formulate the joint routing and scheduling problem as a single commodity flow problem in wireless sensor networks with switched beam directional antennas. They use a simple interference model and an ideal antenna model. Moreover, they do not evaluate the capacity gains of directional antennas compared to omni-directional antennas. In [63], Tang et. al present algorithms to solve two power-constrained minimum interference routing problems in multihop wireless networks with directional antennas. Muthaiah et al. [64] study the optimal throughput of wireless mesh networks with single gateway. Using an optimization framework, they show that the optimal throughput bound could be achieved with smart antennas with low to moderate power as opposed to omni-directional antennas that require very high power to achieve the throughput bound.

5.2

A Generic Interference Model

In a wireless network, each transmission imposes an interference region which affects all the nodes in its neighborhood. To avoid collisions, there should be at most one node transmitting in the neighborhood of the receiver (and transmitter). This represents the protocol interference model [57] which implicitly assumes that all the nodes are equipped with omnidirectional antennas. Since the interference region generated by directional antenna communications is totally different from the omni-directional interference region, the interference model should be carefully defined. In the case of omni-directional antennas, the interference region is simply a circular region around each node. The radius of this circular region,

95

known as the interference range, is typically greater than the communication range. For a successful communication, the receiver should be free of interference. In some protocols like IEEE 802.11, both the transmitter and the receiver should be free of interference. This implies that all the nodes residing at a distance less than the interference range of both the active transmitter and receiver should remain silent. When beamforming antennas are in operation, the interference region does not depend only on the distance between the nodes but also on the boresights of the transmitting/receiving antennas and their radiation patterns. In this section, we present an interference protocol model in which we derive generic constraints for a successful wireless transmission in which we do not assume node homogeneity. Each node can have any antenna system and a different antenna radiation pattern. As discussed in Chapter 2, the relation between the transmitted and received power is governed by Friss equation. However, when beamforming antennas are used, the received power is not only function of the distance between the transmitter and the receiver but also of the transmitter and receiver gains based on the antenna radiation patterns. Hence, the received power Pr at a distance r from a node with transmission power Pt can be expressed as: Pr = Pt Gt (t )Gr (r ) , Kr (5.1)

where Gt and Gr are the transmitter and receiver gains respectively, t and r are the transmitting and receiving angles usually measured with respect to the boresight,  is the path loss exponent and K is a constant that is a function of the wavelength. First, we focus our discussion on the communication range. In the absence of the interference, a receiver can receive the signal successfully if the received power is greater than or equal to the receiver sensitivity threshold . Hence, the communication range R in a certain direction is: Pt Gt (t )Gr (r ) R(t , r ) = K
1/

.

(5.2)

96

From (5.2), it is obvious that the communication region cannot be represented by a circle surrounding the transmitter. The communication range depends on the beamforming of both the transmitting and receiving antennas. If a transmitter is pointing its boresight towards a nearby receiver but the receiver has a null (zero gain) or a small gain side lobe in the direction of the transmitter, the receiver cannot receive the signal since it is deaf. Since it is difficult for any receiver to anticipate the direction of its potential transmitter, most of the previous work in wireless ad hoc networks with beamforming antennas assumes that a node listens to the medium omni-directionally when it is idle [7, 9, 22, 54, 65]. After a communication starts, the transmission and reception are done in a directional mode. Without the loss of generality, we adopt this realistic assumption and hence the communication range in (5.2) will be function of t only since the omni-directional gain Gr =1 (0 dBi) in all directions. Pt Gt (t ) K
1/

R(t ) =

.

(5.3)

Hence, a wireless link (i, j ) from node i to node j exists if: i -i  ij  , 2 2

dij  Ri (ij )

(5.4)

where dij is the distance between the nodes, ij is the angle between the boresight of the antenna of node i and the direction of j and i is the beamwidth of the antenna of node i. Here, we assume that the wireless link exists through the main lobe of the transmitter. Although the power is also radiated by the side lobes, it is typically received by unintended receivers. Note that, equation (5.4) is generic to represent both switched beam and steered beam antenna systems. However, ij is equal to zero if a steered beam antenna is used since it is able to position the boresight exactly towards node j . Now, we turn our attention to the interference region. The interference is generated either through the main lobe or the side lobes of the transmitting antenna and can affect

97

the receiver through the main lobe or the side lobes of its antenna. Hence, the interference range R in any direction is a function of both the transmitting and receiving angles with respect to the transmitter and receiver boresight respectively. That is,

R (t , r ) =  R(t , r ), where  is greater than or equal to 1 and R(t , r ) is calculated as in (5.2).

(5.5)

In our model, both the sender and the receiver are required to be free of interference so the sender would be able to hear the link layer acknowledgment. This reflects the situation of contention-based MAC protocols. For a successful transmission over existing wireless link (i, j ), any node k (k = i or j ) should not communicate in any direction that can cause interference to either node i or node j . In other words, any node k should avoid the communication in a certain direction if one of these conditions applies,

dkj  Rk (kj , jk ),

(5.6)

dki  Rk (ki , ik ),

(5.7)

where any angle xy  [0, 2 ) is the angle subtended between the boresight of node x and the line connecting node x and node y . Note that, these conditions do not force node k to remain silent as it can communicate in non-interfering directions. This introduces the spatial reuse factor into the interference model. Figure 5.1 shows a simple example to illustrate our model. For a successful transmission over link (i, j ), node k cannot communicate with node m because it interferes with link (i, j ) at node i. Similarly, node k cannot communicate with node n because it interferes with link (i, j ) at node j . However, node k can safely communicate with node l since link (k, l) does not interfere with link (i, j ). This is not possible when omni-directional antennas are used.

98

l n

X

i m
X

j k

Figure 5.1: An example to illustrate the interference model. The dotted links can cause interference to link (i, j ) while the solid link (k, l) does not interfere with link (i, j ).

5.3

The Optimization Problem

In this section, we formulate our problem as an optimization problem. We are interested in the maximum achievable throughput of a multi-hop wireless networks with smart beamforming antennas. Our problem is a joint routing and scheduling optimization problem. The problem can be formulated as a multi-commodity flow problem with additional interference constraints. However, our approach is different from that used in [56] since we do not use the independent sets constraints that are computationally expensive and require global information. Instead, our constraints are localized in nature and amenable to distributed algorithms. In addition, the complexity of the generic interference model demands novel interference constraints. A major difference between our generic interference model and the interference model [56, 57] which is based on the omni-directional antennas is that the links originating/incoming from/to a common node do not necessarily share the same wireless medium. Hence, link-based constraints are not sufficient to capture the spatial reuse gain and guarantee the schedulability of the flows. In our formulation, we drive two different 99

sets of constraints: link-based interference constraints and node-based radio constraints. We derive the link-based interference constraints using the conflict graph which is modified to match our interference model. The node-based radio constraints model the limitations introduced by the radio interfaces of each node. We consider a network graph G(N, L) where N is the set of nodes and L is the set of directed wireless links. A directed wireless link exists between two nodes if the distance between them satisfies (5.4). Each node is equipped with a specified antenna system (switched beam smart antenna, steered beam smart antenna or omni-directional antenna). The antenna radiation pattern and the interference range are also given. We assume that each node has one radio interface and all the nodes use the same wireless channel. Given a set of source-destination pairs, we assume that each source always has data to send and we are interested in the maximum total throughput the network can support. We assume the network operates in a time slotted mode, hence, the throughput we obtain will provide an upper bound for contention-based MAC protocols.

5.3.1

The Conflict Graph

We use the conflict graph to obtain the link capacity constraints due to interference. Based on the interference model, a conflict graph is derived from the network graph to describe how the wireless links share the medium. Each vertex in the conflict graph corresponds to a link in the network graph while the edge in the conflict graph indicates that its two vertices (links in the network graph) interfere with each other. In the conflict graph defined in [56], any two links that have a node in common are connected in the conflict graph. This is acceptable when omni-directional antennas are used since all links of the same node share the same wireless medium. However, in the case of smart beamforming antennas, a node's link in one direction may not use the same wireless medium as its link in another direction and hence they should not have an edge in the conflict graph. However, they still cannot be active simultaneously due to the node-based radio constraints. 100

We modify the conflict graph to reflect the above argument. The main reason behind this modification is that the interference is also directional because transmission in one direction does not interfere with the links on other directions. This is a major benefit of using smart beamforming antennas. In our modified conflict graph, there is an edge between two links with a common node if and only if they share the same wireless medium. In switched beam systems, all the links transmitted/received by the same beam have edges in the conflict graph. In steered beam systems, links of the same node are connected in the conflict graph if they have the exact set of interfering links. In Figure 5.2, we show an example to illustrate the difference in the conflict graphs of

E

F C B AC AD

D

A

AB

EF

(a)

(b)

AC

AD

AB

EF

(c)

Figure 5.2: An example to illustrate the conflict graph (a) Network graph (b) Conflict graph in case of omni-directional antennas (c) Conflict graph in case of beamforming antennas.

101

the same network graph when omni-directional and beamforming antennas are used. In the network graph shown in 5.2 (a), there are four links which are represented by four vertices in the corresponding conflict graphs. In the case of omni-directional antennas, link EF is within the interference range of node A. Hence, all the links originating from A will interfere with link EF as shown in Figure 5.2 (b). In the case of beamforming antennas, link EF interferes only with links AB and AC as a result of the directional transmission and reception. Hence, the three vertices are connected in the conflict graph as shown in Figure 5.2 (c). On the contrary, link AD does not interfere with link EF and hence they can be active simultaneously. This represents the spatial reuse gain captured by our modified conflict graph. Note that, link AD is not also connected with links AB and AC in the conflict graph since link AD uses a different beam and hence does not share the same wireless medium as the other two links. However, the limitation on the concurrent activity between the three links originating from node A is mainly dependent on the number of radio interfaces the node has. For a single radio, only one of the links can be active at a time. We take this fact into account in our node-based radio constraints.

5.3.2

The Linear Programming Formulation

Given a wireless network G(N, L) and a set of M commodities each with source-destination
th pair sm , tm . We denote xm commodity over link (i, j ) ij as the amount of flow from the m

normalized with respect to the capacity of the channel. The term f m denotes the normalized flow coming out from source sm . We denote Int(i, j ) as the set of links that interfere with link (i, j ) according to the conflict graph. The multi-commodity flow problem can be formulated as the following linear programming formulation:

max
mM

fm

(5.8)

102

subject to    fm    m xm - x = 0 ij ji   (i,j )L (j,i)L    -f m xm ij +
mM (p,q )Int(i,j ) mM

i = sm i = N  {sm , tm } i = tm xm pq  1 (i, j ),  i, m , (5.9)

(5.10)

xm ij +
mM (i,j )L (j,i)L

xm ji  1

 i,  (i, j ), m.

(5.11) (5.12)

xm ij  0

In the above formulation, the objective in (5.8) is to maximize the total throughput of all M commodities. The first constraint in (5.9) represents the flow conservation constraints at each node for each commodity. The second constraint in (5.10) is the link capacity constraint dictated by the interference model. All the flows over a link in addition to the interfering flows are bounded by the capacity of the link. However, this constraint might be more restrictive than necessary since some of the interfering flows may be active simultaneously if they do not have conflict with each other [66]. The third constraint in (5.11) is the node capacity constraint in which the sum of the ingoing and outgoing flows should be less than the channel capacity. This is a necessary condition for scheduling feasibility [58]. Note that the node capacity constraint does not include any interference terms thanks to the spatial reuse gain from the beamforming antennas. The last constraint in (5.12) ensures that the flow over each link is a positive quantity. In the case of omni-directional antennas, the constraints in (5.11) will be dependent on (5.10) and hence could be omitted. This results in a special case of our formulation.

103

5.4

Numerical Results

In this section, we present some numerical results based on our model and formulation. Our goals in this performance evaluation are twofold: (i) to evaluate how the smart beamforming antennas impact the whole interference pattern of a multi-hop wireless network compared to their omni-directional counterparts and (ii) to assess how this difference affects the maximum throughput of the network. For the first goal, we compare the resulting conflict graphs under different antenna models. We examine the effect of both the interference reduction and the range extension when beamforming antennas are used. Also, we evaluate the impact of the side lobes on the conflict graph using practical and approximate antenna models. For the second goal, we compute the maximum flow by solving our multi-commodity flow problem using ILOG CPLEX optimizer [67] for omni-directional and beamforming antennas. We consider a static multi-hop wireless network with N nodes randomly deployed in 1500 m X 1500 m area. The number of nodes N varies to represent different node densities. In each topology, half of the nodes are randomly designated to be senders and the other half are randomly designated to be the receivers. The results are averaged over 10 different runs. The link capacity is normalized to 1. We assume two-ray propagation model ( =4). All nodes have the same antenna system either an omni-directional antenna or a switched beam smart antenna system. The switched beam antenna has 6 beams each has a beamwidth of 60o and a peak gain of 10 dBi. In our evaluation, we consider three different directional antenna patterns to be used: (i) an ideal (sector) antenna pattern in which the gain is constant in all directions within the beamwidth and zero outside. (ii) a cone-plus-ball antenna model [2] which has an ideal main lobe in addition to low constant gain in all directions outside the main lobe averaging the side and back lobes. This model is used to approximate the effect of side lobes. (iii) a real directional antenna pattern with practical side lobes. This real antenna pattern is realized using uniform circular antenna array with six isotropic elements with radius of 0.35 wavelength of the channel frequency [12].

104

5.4.1

Gain by Beamforming Antennas

In the first scenario, we evaluate the benefits of beamforming antennas. With the same transmit power, the transmission range of the omni-directional antenna is 250 m while the peak transmission range of beamforming antennas is 450 m. Figure 5.3 shows the total number of vertices in the conflict graph for different node densities. The vertices in the conflict graph are the directed links in the network graph. As we can see, multi-hop wireless networks with beamforming antennas have much more links than that with omni-directional antennas. This is mainly due to the range extension benefit arising from the directional antenna gain. We notice the number of directed links in the ideal case with the flat-gain main lobe is 2.69 to 2.77 times the number of directed links achieved with omni-directional antennas. When a real directional antenna pattern is used, the number of directed links in the network is less than the ideal case by a margin of approximately 9%. This is mainly due to the gain reduction in the antenna radiation pattern at directions different from the boresight but within the main lobe. In Figure 5.4, we plot the average vertex degree in the conflict graph. This number represents the average number of links interfering with each link. As we can see, the average vertex degree with ideal beamforming antennas is slightly higher than the case of omnidirectional antennas. Although the number of links has increased significantly due to the range extension, the impact on the interfering links is just marginal. This is because of the interference reduction due to the directional transmission and reception. When the side lobes are taken into consideration, we can notice that the average vertex degree increases due to the interference caused by these undesired lobes. Also, we can see that the difference between the average vertex degree with ideal and realistic antennas increases in denser networks. Although the cone-plus-ball model considers averaging the side lobes, it seems to be an optimistic model that does not consider the whole impact of side lobes. Next, we compute the maximum flow of the multi-hop wireless network by solving our linear programming formulation. As expected, the maximum flow achieved by beamforming 105

350 OMNI250 IDEAL CONE+BALL REALISTIC

300

Number of Links (CG-Vertices)

250

200

150

100

50

0

20

30

40

Number of Nodes (N)

Figure 5.3: The number of vertices in the conflict graph for the same transmission power.

70 OMNI250 IDEAL CONE+BALL REALISTIC

60

Average CG-Vertex Degree

50

40

30

20

10

0

20

30

40

Number of Nodes (N)

Figure 5.4: The average vertex degree in the conflict graph for the same transmission power.

106

6 OMNI250 IDEAL CONE+BALL REALISTIC

5

Maximum Flow

4

3

2

1

0 10

15

20

25

30

35

40

45

50

Number of Nodes (N)

Figure 5.5: The maximum flow in the network for the same transmission power.

antennas outperforms that achieved by omni-directional antennas as shown in Figure 5.5. In a sparse network (20 nodes), the ideal gain is about 342% while the gain with a real antenna pattern is about 221%. In the denser network (40 nodes), the gain with an ideal antenna pattern is 345% while the gain with realistic beamforming antenna is 151% over the omnidirectional antenna. Although the performance degrades when the side lobes are taken into consideration, the practical beamforming antenna still achieves a significant improvement over the omni-directional antennas.

5.4.2

Gain due to Spatial Reuse Only

In this scenario, we focus on evaluating the gain of beamforming due to the spatial reuse only. For this purpose, the transmission range of omni-directional antennas is set to be equal to that of the beamforming antennas which is 450 m. This results in the same set of links in the wireless network with omni-directional and ideal beamforming antennas as shown in Figure 5.6. The major difference lies in the interference pattern. In Figure 5.7, we plot 107

350 OMNI450 IDEAL CONE+BALL REALISTIC

300

Number of Links (CG-Vertices)

250

200

150

100

50

0

20

30

40

Number of Nodes (N)

Figure 5.6: The number of vertices in the conflict graph for the same peak transmission range.

140 OMNI450 IDEAL CONE+BALL REALISTIC

120

Average CG-Vertex Degree

100

80

60

40

20

0

20

30

40

Number of Nodes (N)

Figure 5.7: The average vertex degree in the conflict graph for the same peak transmission range.

108

the average vertex degree in the conflict graph for different antennas. As expected, we can see a significant reduction in the number of interfering links as a result of the directional transmission and reception. With ideal beamforming antennas, we notice 75%-79% decrease in the average vertex degree while there is a 44%-46% reduction in case of the realistic beamforming antennas when compared to omni-directional antennas. To evaluate the spatial reuse gain as a result of the interference reduction, we solve our linear programming formulation and plot the maximum flow of the network under different network densities in Figure 5.8. In a sparse network (20 nodes), the ideal gain is about 220% while the gain with a real antenna pattern is about 160% over the omni-directional antenna. In the dense network (40 nodes), the gain with an ideal antenna pattern is 318% while the gain with realistic beamforming antenna is 139% over the omni-directional antenna. Comparing these results to the results from the previous scenario, we can deduce that the spatial reuse gain is more pronounced than the gain due to range extension especially in the case of denser networks. The range extension resulting from the high gain of beamforming
6 OMNI450 IDEAL CONE+BALL REALISTIC

5

Maximum Flow

4

3

2

1

0 10

15

20

25

30

35

40

45

50

Number of Nodes (N)

Figure 5.8: The maximum flow in the network for the same peak transmission range.

109

antennas is mainly beneficial in sparse networks where the low network capacity due to limited network connectivity is improved by the increased network connectivity due to range extension.

5.5

Conclusions

In this chapter, we presented a theoretical framework to compute the capacity of multi-hop wireless networks with smart beamforming antennas. Since the interference is the limiting factor, we derived a generic interference model that can accommodate any antenna radiation pattern. We used a modified conflict graph to model the interference between wireless links. Our problem is basically a joint routing and scheduling optimization problem. We formulated the problem as a multi-commodity flow problem with novel constraints. We derived two different sets of constraints: link-based interference constraints and node-based radio constraints. Given a specific network topology, specific antenna radiation patterns and specific traffic flows, we were able to compute the maximum achievable throughput of the multi-hop wireless network and evaluate the capacity gain over the same network if equipped with omni-directional antennas. Using our framework, we first computed the conflict graph representing random multihop networks equipped with switched beam antenna systems as well as omni-directional antenna systems. We considered different directional antenna radiation patterns including ideal directional antenna patterns and realistic antenna patterns with side lobes. For the same transmit power, we showed that the number of vertices in the conflict graph increases with beamforming antennas with respect to the conventional omni-directional antennas as a result of the beamforming antenna gain. For the same transmission range, the average vertex degree of the conflict graph is reduced significantly when beamforming antennas are used. This is the effect of interference reduction due to the directional transmission and reception. We also noticed that the impact of the side lobes is not negligible and the realistic

110

beamforming antennas have more interfering links than the ideal beamforming antennas. We also solved our linear programming problem to compute the capacity gain when beamforming antennas are used. We showed the gain from both the range extension and spatial reuse together and from the spatial reuse alone. We conclude that most of the gain is due to the spatial reuse especially in dense networks. Although the ideal beamforming antennas achieve a higher gain than the realistic antennas, the realistic antennas outperform the omni-directional antennas by a significant margin. In particular, the beamforming antennas with ideal antenna pattern can achieve a capacity gain of 342% in the sparse network and a gain of 345% in the dense network compared to the omni-directional antennas, while the realistic beamforming antennas can achieve a capacity gain of 221% in the sparse network and a gain of 151% in the dense network.

111

Chapter 6 QoS Routing with Contention-based MAC
To exploit the spatial reusability in multi-hop wireless networks using smart beamforming antennas, the upper layer protocols should be antenna-aware. In Chapter 4, we proposed a novel directional MAC protocol for multi-hop wireless networks with beamforming antennas. Although our antenna-aware MAC protocol provides significant performance improvements, an antenna-aware routing algorithm can complement the achievable gains. In Chapter 5, we showed that utilizing beamforming antennas instead of omni-directional antennas decreases the conflicts between the wireless links. Hence, routing the multi-hop flows through conflictfree routes can further improve the spatial reusability of the wireless channel. Based on our analysis in Chapter 3, we concluded that the two main factors that increase the deafness problem are the probability of the occurrence of transmission failure and the blocking time it results in. Our OPDMAC protocol, presented in Chapter 4, is mainly designed to minimize the unnecessary idle waiting time by means of its novel backoff mechanism. In addition, the parameters of OPDMAC can be controlled to decrease the probability of transmission failures. In this chapter, we are interested in designing an antenna-aware routing algorithm that can find an efficient path which is composed of links

112

with low probability of transmission failures. For the sake of spatial reuse, the chosen path should avoid regions with high interference as well as nodes with heavy traffic loads. In other words, the routing in multi-hop wireless networks with beamforming antennas should be interference-aware and deafness-aware. Quality of Service (QoS) support has become an essential component in today's wireless networks that are designed for running multimedia applications and real-time services. Although the use of beamforming antennas in multi-hop wireless networks has proven to provide substantial increase in the utilization of the wireless medium, its effectiveness in providing QoS assured routing is unexplored. Deployment of beamforming antennas could significantly spare the network resources that can be utilized for additional QoS guarantees. Motivated by this, we study the problem of QoS routing in contention-based multi-hop wireless networks with beamforming antennas. In this work, we focus on the bandwidth demand of a flow as its QoS requirement. Providing QoS guarantees is very challenging in multi-hop wireless networks compared to wired networks. This is mainly due to the shared nature of the wireless medium. Interference between wireless links makes it difficult to get accurate information about the resource availability since it does not depend only on the local information available at the sender and receiver nodes [68]. In addition, the contention-based MAC protocol magnifies the difficulty of the problem [69]. The injection of new traffic increases contention in the network which increases the impact of hidden terminals. Beamforming antennas add more challenges due to directional-specific phenomena such as deafness. Satisfying QoS requirements is often performed by means of admission control and resource reservation. A flow is admitted if the available network resources can provide the required QoS without affecting the QoS of the already admitted flows. Upon admission, the network resources should be reserved for the admitted flow. However, using contention-based MAC protocol under unsaturated traffic conditions, it is not an easy task to predict either the available bandwidth before admitting a new flow or the impact of the new flow on the

113

existing flows. Hence, it is of great importance to analyze the interdependencies between the wireless links and clearly understand the role of interference and contention in the presence of beamforming antennas. In this chapter, we characterize the conflicts between the wireless links based upon how the contention based MAC protocol interacts with interference. Different from the analysis presented in the previous chapter which is based on a TDMA scheduling approach, we model the interference in this chapter by means of a novel Colored Conflict Graph (CCG). Each edge in the conflict graph has a color related to the category that it belongs to. This facilitates the prediction of the link utilization of a flow. Based on this analysis, we formulate the single-path bandwidth-guaranteed routing problem as an optimization problem. Since the problem is hard to solve, we develop a routing and admission control algorithm that can efficiently solve our QoS routing problem.

6.1

Related Work

Although there have been significant research efforts towards the design of efficient MAC protocols for multi-hop wireless networks with beamforming antennas, the work on exploiting the benefits of beamforming antennas at the network layer is somewhat limited. Nasipuri et al. [65] propose the use of directional antennas to improve the efficiency of on-demand routing protocols. They propose two schemes to estimate the direction of the destination relative to the source in order to confine the flooding of route discovery packets using directional transmission. Although they do not benefit from the higher communication range of beamforming antennas, they are able to show that directional transmission can significantly reduce the routing overhead. Bandyopadhyay et al. [19] use a modified link state routing protocol (originally designed for omni-directional antennas) over beamforming antennas. However, their MAC protocol is complex and requires significant control overhead. Saha and Johnson [70] use directional antennas with their higher communication range to

114

bridge network partitions without the need for additional power. In the absence of permanent partitions, they use directional antennas to decrease route rediscovery latency during route maintenance. If the next hop moves, the node uses the directional antenna to communicate with the next-to-next hop. In [71], Choudhury and Vaidya evaluate the impact of directional antennas on the performance of Dynamic Source Routing (DSR) protocol in ad hoc networks. They called the directional version of the routing protocol DDSR. In DDSR, the broadcast of the Route Request (RREQ) packets is achieved via sweeping (sequential transmissions over the antenna beams). Their simulation results show that DDSR improves the throughput and the delay by discovering fewer-hop routes mainly due to the higher communication range attainable through beamforming. The benefits are more pronounced when the network topology is sparse and random. They also show the performance gain in mobile scenarios. Based on insights from their simulation, they propose a selective forwarding optimization scheme, in which RREQ are forwarded on subset of the antenna beams, to reduce the routing overhead due to sweeping. They also propose an optimization step by delaying the route reply message since the earliest RREQ received by the destination may have not traversed the optimal path due to sweeping delay. This allows the destination to choose the best among all the routes that arrive within a certain time duration. In [72], Takata et al. modify the selective forwarding scheme [71] such that the RREQ packets are transmitted sequentially using the beam with less load first. This helps to achieve load balancing without additional control overhead. Kolar et al. [73] propose a new directional route discovery approach called route compaction which relies on an enhanced version of the omni-directional route discovery to find paths, thus avoiding the huge overhead associated with the sweeping broadcast. It then tries to compact routes by replacing multiple hops with a single directional hop whenever possible. Kim and Ko [74] propose a new routing scheme that focuses on shortening the length of a route by considering the higher gain of directional antennas at the receiver side. However, their evaluation is very basic and it is not clear how the MAC protocol operates when a single node participates in multiple flows.

115

In [75], Li et al. propose the use of multipath routing with directional antennas. If the node fails to send a packet to the next hop after three attempts, it assumes the next hop is busy and an alternative route is used immediately. The idea is to forward the packet towards the destination as soon as possible, this could possibly reduce the end-to-end delay. For the protocol to work efficiently, the knowledge and the discovery of multipath routes should be increased, which requires additional control overhead. Gossain et al. [54] propose a Directional Routing Protocol (DRP) that is inspired largely by the omni-directional DSR protocol. During the route discovery phase, each intermediate node that receives RREQ packet delays the forwarding of RREQ for a certain time duration. During this time, it may receive multiple copies of RREQ through different antenna beams. At the end of the duration, it forwards the RREQ only on the beams it did not receive the RREQ packets from. DRP uses separate phases for route maintenance. If the transmission fails for three consecutive times, the packet is transmitted on an adjacent beams since the next hop may have moved and can be located using an adjacent beam. If the next hop cannot be located in the next four attempts, DRP starts the two hop directional local recovery phase in which it sends RREQ to the second next hop in the original path. The aforementioned works have focused on modifying the operation of ad hoc routing protocols (e.g. DSR) and employing multi-path routing without developing new route selection criteria specific to the metrics suitable for underlying directional antennas. Only few researchers have looked into new routing metrics. Roy et al. in [76] propose a routing protocol that aims to find maximally zone-disjoint routes. A maximally zone-disjoint route is the one in which data communication over the route interferes minimally with the data communication over other routes. This would minimize the effect of route coupling and enhance the medium utilization. However, their routing metric which is the path correlation factor considers the number of active nodes within each transmitting beam only and thus it does not take into consideration the impact of hidden terminals on the receiving beam. Moreover, it neglects the impact of the direction of the node activity and the amount of traffic it for-

116

wards. Cheekiralla et al. [77] present a load-sensitive routing protocol for ad hoc networks with directional antennas. The protocol is a simple extension of an omni-directional routing protocol that uses the aggregate queue size of all nodes in a path as the load metric for choosing routes. Although the proposed metric outperforms the hop count metric, it is not directly tuned to the underlying directional antenna. Choudhury and Vidaya [53] propose a capture-aware routing metric that prefer routes less prone to capture. They define capture as the unnecessary reception of unintended packets. Their routing metric is composed of three weighted components which are the hop count, amount of capture and an indicator of active node sharing. The amount of capture over a link is represented by the number of transmitters from which transmitted packets were received on both the transmitting and receiving beams of the link. However, the proposed metric does not take into account the impact of deafness and the amount of traffic incident on the captured beams. Moreover, choosing the optimum values of the weights of the combined metric is not trivial. Some work has also been done at the network layer to leverage other benefits of beamforming antennas. Energy efficient communication using directional antennas is addressed in the areas of unicast routing [78, 79], broadcasting and multicasting [80]. The broadcast storm problem is also discussed [81]. The problem of topology control has been revisited in the context of beamforming antennas [82]. Over the past few years, there has been much interest in providing QoS support over multi-hop wireless networks. QoS routing is a vital part of QoS provisioning in such networks. In [83], Hanzo and Tafzolli present a survey of the major contributions in the area of QoS routing in mobile ad hoc networks with omni-directional antennas. QoS routing protocols relying on contention-free MAC protocols like TDMA can provide pseudo-hard QoS guarantees since they can accurately quantify the resource availability and reservation. However, achieving network-wide synchronization is extremely difficult in multi-hop wireless networks. Hence, researchers shifted their attention to find solutions for QoS routing along with contention-based MAC protocols like IEEE 802.11 MAC. In a contention environment,

117

it is not straightforward to estimate the available resources and understand the impact of new traffic on the existing ones. In fact, the available resources can only be statistically estimated and hence soft QoS guarantees can be provided. Yang and Kravets [68] propose a contention-aware admission control protocol for ad hoc networks. They calculate the residual bandwidth based on both the available local resources at each node as well as the resources at the nodes in the carrier-sensing range. They also consider the effect of the contention between nodes along the route used by the flow [84]. However, they ignore the effect of hidden terminal problems. Luo et al. [85] extend their work by considering the impact of parallel transmission in the estimation of the available bandwidth. Wang et al. in [69] introduce an analytical model to calculate the capacity of a given path in multi-hop IEEE 802.11 network without violating the QoS of existing flows. The capacity is represented as the reciprocal of the average service time. They consider the different impacts from the carrier sensed traffic and the hidden terminals traffic. Although their proposed model gives valuable insights on how to estimate the residual bandwidth in IEEE 802.11 multi-hop networks, the considered problem is much easier than the QoS routing problem since the path is already given. In the context of beamforming antennas, the work on QoS routing is still in its infancy. Very few researchers have looked into this area and most of them have focused on QoS routing over contention-free MAC protocols. Coletti et al. [86] studied the impact of smart antennas on QoS routing in multi-hop wireless networks. The evaluation was done with an extension of a TDMA-based routing algorithm originally proposed for omni-directional antennas. In [87], Hamoudi and Ramanathan present a similar link-bandwidth calculation algorithm but no evaluation is done for the proposed algorithm. Jawahar and Wu [88] propose a protocol for TDMA-based bandwidth reservation for QoS routing in mobile ad hoc networks with directional antennas. The simulation results clearly show a significant gain in performance relative to the case of omni-directional antennas with an increase in the number of successfully received packets, as well as a decrease in the QoS path acquisition time. In [89], Chen et al. propose a bandwidth-based multipath routing protocol for QoS

118

support in ad hoc networks using the concept of cross-links paths. However, their MAC is Code Division Multiple Access (CDMA) over TDMA which is difficult to implement in a large-scale multi-hop wireless network. Existing approaches for QoS provisioning in the presence of contention-based directional MAC are limited to priority-based services [90­92]. In [90], Saha et al. propose a scheme for supporting priority-based QoS in mobile ad hoc networks by classifying the traffic flows into different priority classes. They use a control-theoretic approach to adaptively control the low-priority flows so as to maintain the high priority flow rates at their desired level. Ueda et al. [91] propose a scheme to avoid the contention between high and low priority routes by reserving a high priority zone of communication. In [92], Man et al. present a differentiated service framework for video transport over a multi-hop directional network using QoS aware multi-path routing as well as class-based queuing.

6.2

Analysis of Links Interdependency

In a wireless network, the transmission on a wireless link causes interference on other links within the same vicinity. For a successful transmission to occur on a certain link, interfering links should remain inactive during the transmission period. Hence, interference is a major factor in creating interdependency among wireless links and limiting the capacity of wireless networks. In order to provide guaranteed bandwidth to network flows, interference dictates the constraints that decide which flows are admitted and how they are routed. In the previous chapter, our interference analysis was theoretical in nature with the assumption that perfect scheduling is possible where a scheduler with global information can perfectly schedule packet transmissions at each node. In reality, contention-based MAC protocols that rely on CSMA do not perform perfect scheduling. In addition to the MAC layer overhead, the carrier sensing mechanism cannot prevent all types of interference and collisions can still occur. Moreover, contention-based MAC protocols can sometimes prevent packet transmissions unnecessarily

119

causing a reduction in the spatial reuse [93]. Hence, it is important to analyze and model the interference in a contention-based multi-hop wireless network with beamforming antennas before formulating our QoS routing problem. When a contention-based MAC protocol is in operation, the interdependency between the wireless links is a factor not only of the network topology but also of the amount of traffic the links carry since the injection of a new traffic increases the contention in the network. In this section, we study the impact of the topology on the interdependency among wireless links referred to as the interference pattern. Our analysis is based on the concept of conflict graph [56]. A vertex in the conflict graph represents a link in the network graph while an edge in the conflict graph indicates that the two links interfere with each other. Although the impact of link conflicts on the overall capacity is the same when perfect scheduling is employed, this is not the case with contention-based MAC protocols. In a typical CSMA/CA MAC, e.g. IEEE 802.11, the source performs carrier sensing before transmission to avoid interfering links. If a carrier is detected, the source withholds its transmission and freezes its contention window until the medium is sensed idle. However, interference cannot be completely avoided due to the presence of the hidden terminals that cannot be sensed by the sender but can cause collision at the destination which results in transmission failures. When beamforming antennas are used, link conflicts are significantly increased due to new causes of transmission failures like deafness and directional hidden terminals. Based on the above discussion, it is evident that for any wireless link in a contentionbased multi-hop network with beamforming antennas, there are several types of interfering links with different causes and different impacts on the given link. In order to model these different types of interference, we propose a Colored Conflict Graph (CCG) which is similar to the regular conflict graph except that the directional edges of the new graph have different colors according to the nature of conflict (interference) between the corresponding vertices. Figure 6.1 shows a classification of the conflicts between the wireless links. Any conflict link that interferes with a given link (i, j ) in the network graph can be categorized under

120

Overall Conflict (OC)

Source-based Conflict (SC) Causes transmission delay

Destination-based Conflict (DC) Causes transmission failure

Strong SC (SSC)
Permanent Conflict

Weak SC (WSC)
Possible Conflict

Strong DC (SDC)
Permanent Conflict

Weak DC (WDC)
Possible Conflict

Figure 6.1: A classification of conflicts between the wireless links in contention-based multihop wireless networks with beamforming antennas

one of these two major categories: Source-based Conflict (SC) or Destination-based Conflict (DC). An SC link, with respect to a given link, is a link whose transmission interferes with the source of the given link. Similarly, a DC link, with respect to a given link, is a link whose transmission causes interference with the destination of the given link leading to transmission failure on the given link. Within each category, the link conflict could be either strong conflict or weak conflict. By strong conflict, we mean that the two links can never carry successful transmissions concurrently. However, weak conflict refers to the case when the conflicting link may or may not affect the successful transmission over the given link. Weak conflicts are unique features of contention-based multi-hop wireless networks with beamforming antennas. This is mainly because nodes are allowed to transmit directionally but they remain in an omni-directional mode when they are idle. Specific cases of weak conflict links will be discussed later in this section. Formally, any link (m, n) is a Strong Source-based Conflict (SSC) link with respect to given link (i, j ) if: (a) m = i, which means any outgoing link from the source node of the given link. 121

(b) n = i, which means any incoming link to the source node of the given link. (c) d(i, m)  bmn (i, j ).RInt , where d(i, m) is the distance between node i and node m, bmn (i, j ) is a Boolean which indicates if the transmission over link (m, n) can be directionally carrier sensed by node i using the same beam used for transmission over link (i, j ), and RInt is the interference range. The two links cannot carry concurrent transmission if one of the above conditions holds. The transmission on one link should wait for the transmission on the interfering link to complete before starting its own transmission. As opposed to other directional MAC protocols, the OPDMAC protocol, proposed in Chapter 4, minimizes the effect of the waiting time in case (c) by exploring transmission opportunities over other beams. Any link (m, n) is a Weak Source-based Conflict (WSC) link with respect to a given link (i, j ) if and only if d(i, m)  bmn (i, j ).RInt , which means the case of a transmission over link (m, n) that can be carrier sensed with any beam other than the beam used for transmission over link (i, j ). Since the node remains in an omni-directional mode during idle time as well as OPDMAC's listening period (or the backoff period in other directional MAC protocols), it can be captured by unnecessary transmissions received from different directions. In this case, if link (m, n) starts transmission, node i is captured and has to postpone transmission over link (i, j ) so the two links cannot be active simultaneously. However, if link (i, j ) starts transmission first, link (m, n) can be active at the same time without any impact on link (i, j ). Hence, there is a weak conflict relationship between the two links. A link (m, n) is a Strong Destination-based Conflict (SDC) link of the given link (i, j ) if: (a) m = j and bmn (i, j ) = 0, which means any outgoing link from the destination node of the given link whose transmission cannot be sensed by the source node. (b) n = j , which means any incoming link to the destination node of the given link. (c) d(j, m)  bmn (j, i).RInt , which means that node j senses the transmission over link (m, n) using the same beam it uses to receive transmission from node i. 122

Case (a) represents a typical deafness scenario for link (i, j). Case (b) is a deafness scenario if beam (j, i) = beam (j, m) but is a hidden link scenario if beam (j, i) = beam (j, m). Case (c) is a hidden link scenario. In all the above cases, the transmission over link (i, j ) fails either because the destination is deaf or collision occurs. Hence, for a successful transmission over link (i, j ), the two links cannot be active at the same time. A link (m, n) is a Weak Destination-based Conflict (WDC) link of link (i, j ) if and only if d(j, m)  bmn (j, i).RInt . This is the case where the destination of the given link is captured by another transmission from a direction other than the direction of the source. If transmission over link (m, n) is initiated before the transmission of link (i, j ), then node j will appear deaf to node i for the transmission over link (i, j ). Conversely, the transmission over link (m, n) has no impact on an already ongoing transmission on link (i, j ). Based on the previous categorization, we can build the Colored Conflict Graph (CCG) in which each directed CCG edge has a color that is related to the type of conflict (interference) the end vertex causes on the originating vertex. Figure 6.2 shows an illustrative example. The network graph represents a simple network with 8 nodes each is equipped with 4-beams

G H C B

AC
SSC

DC
WSC SDC

BF

A

F

EA

SSC

AB
WDC

SDC

GB

D E

SSC

SDC

GC

HF

EF

(a) Network graph

(b) Portion of the corresponding CCG

Figure 6.2: A simple example to illustrate the colored conflict graph

123

switched beamforming antenna. For the sake of clarity, we take into consideration the links marked with the solid arrows only. Figure 6.2 (b) shows a portion of the corresponding CCG that illustrates the conflicts relationships with link AB . Conflicts to the other links are omitted for clarity. As we can see, link AB has conflicts with 8 other links. Source-based conflicts are those conflicts that affect the source of the considered link AB which is node A. In this example, link AC is SSC link (case (a)), link EA is SSC link (case (b)) and link GC is SSC link (case (c)). The considered link AB cannot be active successfully at the same time with any of these links. Link DC is considered a WSC link with link AB because DC may capture node A during its omni-directional listening period preventing it from transmission. However, links AB and DC can sometimes be active concurrently if the transmission on link AB precedes the transmission on link DC as discussed before. On the other hand, destination-based conflicts are those conflicts that cannot be sensed by the source A but prohibits the successful reception at the destination B . Link BF is SDC link (case (a)), link GB is SDC link (case (b)) and link EF is SDC link (case (c)). Node B cannot receive A's transmission successfully if any of the above links are active. On the other hand, link HF is considered a WDC link since the conflict occurs only if the transmission on link HF precedes the transmission on link AB . We group the interfering links into separate sets, one for each conflict type. For a given link (i, j ), we denote the sets of conflict links as SC (i, j ), DC (i, j ), SSC (i, j ), W SC (i, j ), SDC (i, j ) and W DC (i, j ) according to the categories of the conflicts discussed above, where SC (i, j ) = SSC (i, j )  W SC (i, j ) and DC (i, j ) = SDC (i, j )  W DC (i, j ). In addition, we define the set of all conflict links as an overall conflict set, where OC (i, j ) = SC (i, j )  DC (i, j ). Similarly, the strong overall conflict set is given by SOC (i, j ) = SSC (i, j )  SDC (i, j ). Note that, we consider the link (i, j ) itself a member of all its conflict sets except the weak conflict ones.

124

6.3

Problem Formulation

Based on the above analysis, it is clear that the interference pattern in multi-hop wireless networks with beamforming antennas is more complicated than their omni-directional counterparts. Hence, it is essential to design a conflict-aware routing algorithm in order to exploit the benefits of using beamforming antennas. In Chapter 4, we proposed OPDMAC protocol that addresses the main drawback of source-based conflicts by minimizing the idle waiting time. Hence, we design our routing algorithm that focuses on the destination-based conflicts which are indeed more wasteful because of the lack of knowledge of the conflict at the source, which gives rise to both deafness and directional hidden terminal problems. As discussed before, destination-based conflicts are the sources of transmission failures that triggers packet retransmission which degrades the medium utilization and increases the per-hop delay. We are, therefore, interested in maximizing the probability of successful transmission over the wireless link. In conjunction with OPDMAC protocol, the routing algorithm aims to exploit the spatial reusability of multi-hop wireless networks with beamforming antennas. In this section, we formulate our QoS routing problem. We model the multi-hop wireless network with beamforming antennas as a directed graph G = (V, E ), where V is the set of nodes and E is the set of directed links. Given a network topology, the transmission/interference range and the beamforming antenna pattern at each node with information about the existing traffic conditions in the network, we seek a single path (if one exists) between a source-destination pair (s, t) that can support a specified bandwidth requirement when OPDMAC protocol is in operation. We formulate the problem as follows:

min
(i,j )E

X (i, j ).|log PS (i, j )|

(6.1)

125

subject to    1 i = s,          X (i, j ) - X (j, i) = 0 i  V  {s, t}   (i,j )E (i,j )E          -1 i = t 0 < PS (i, j )  1 X (i, j ) = 0 or 1 (i, j )  E, (i, j )  E,

(6.2)

(6.3) (6.4) (6.5)

X (i, j )  1 i  V,
(i,j )E

where PS (i, j ) is the probability of a successful transmission over link (i, j ) and X (i, j ) is a Boolean variable which has a value of 1 if the route between s and t goes through link (i, j ) and 0 otherwise. In the above formulation, the objective in (6.1) is to minimize the sum of the absolute values of the logarithms of the probabilities of successful transmissions over each link along the chosen path. This is equivalent to maximizing the logarithm of the product of the probabilities of successful transmissions. The constraint in (6.2) is a flow conservation constraint that ensures that the flow will originate from the source s and ends at the destination t. The constraint in (6.3) enforces the probability of successful transmission over each link to be between 0 and 1. This is the bandwidth conservation constraint which ensures that the link capacities are not violated. This constraint also makes sure that the injection of a new flow into the network will not violate the bandwidth-guarantee for existing flows. The constraints in (6.4) and (6.5) enforce the single path restriction on the flow from s to t. Since the aforementioned problem is hinged around the probability of a successful transmission over each wireless link, the key to solve the problem is to derive a closed form expression for PS (i, j ), which is presented in the remainder of this section. In contention-based multi-hop wireless networks, the probability that a transmission is 126

successful depends mainly on the contention which is related to the interference pattern and the traffic rates. In Section 6.2, we modeled the interference pattern using CCG. To incorporate the effect of the ongoing traffic, we rely on the link utilization . The link utilization is the fraction of link capacity that is used by the ongoing traffic. If the average traffic load over a link (i, j ) is R packets/sec, the link utilization (i, j ) can be expressed as:

(i, j ) = R.Tservice

(6.6)

where Tservice is the average service time needed to transmit a data packet with an average size of L bits. Due to the MAC layer overhead, the average service time Tservice can be expressed as: Tservice = TRT S + TCT S + L+H + TP LCP C

(6.7)

+ TACK + TDIF S + 3TSIF S + TLP where L is the packet data size, H is the MAC header length, C is the channel capacity in bits/sec, TRT S , TCT S and TACK are the transmission times of RTS, CTS and ACK packets respectively. TP LCP is the transmission time of the Physical Layer Convergence Procedure (PLCP) header. The terms TDIF S and TSIF S represent the inter-frame spaces. The term TLP denotes the average time of the listening period that follows each successful transmission. Since our goal is to maximize the probability of successful transmission and our OPDMAC protocol does not employ a backoff mechanism in case of packet failures, the occurrence and consequences of any packet retransmissions are expected to be negligible. Once the link utilization is known, the probability of a successful transmission over link (i, j ), PS (i, j ), can be expressed as: OC (i,j ) - SC (i,j ) 1 - SC (i,j )

PS (i, j ) = 1 -

(6.8)

127

where OC (i,j ) and SC (i,j ) represent the aggregate link utilization of all the links in the sets OC (i, j ) and SC (i, j ) respectively. The denominator of the second term represents the link availability at the source node, which is equivalent to the fraction of time the source is allowed to transmit. The numerator of the second term represents the aggregate link utilization of all DC (i, j ) links when the link (i, j ) is available at the source. In other words, this is the fraction of time in which the source can transmit but the transmission is lost at the destination. The aggregate link utilization of all the links in a conflict set XY (where XY is OC (i, j ) or SC (i, j )) can be calculated as:

XY (i,j ) = 
(u,v )XY

(u, v )

(6.9)

Due to the fact that some of the links in any conflict set XY may be active concurrently (if they are not in strong conflict with each other), the overall utilization of the union operation in (6.9) is not equivalent to the summation of the individual link utilization but the overlapping utilization should be deducted. Since the transmissions of non-interfering links are generally independent, the intersection of their utilizations is equivalent to the product of the individual link utilization. The intersection between the utilization of any group Gr of links is                      (u, v ) (u1 , v1 )  / SOC (u2 , v2 )
(u,v )Gr


(u,v )Gr

(u, v )

=

(u1 , v1 ), (u2 , v2 )  Gr

(6.10)

0

otherwise

128

6.4

QoS Routing Algorithm

In the previous section, we formulated our problem as a mixed integer nonlinear programming optimization problem. The corresponding decision problem is the bandwidth-constrained routing problem in wireless networks which is known to be NP-complete [94]. Hence, our optimization problem is NP-hard so we propose, in this section, a heuristic to solve it. Our algorithm computes a bandwidth-guaranteed route that maximizes the probability of successful transmission over all the links in a path. The algorithm is based on modifications of Dijkstra's algorithm for providing the QoS support to the new flow without violating the QoS of the existing flows. A flow should not be admitted if a feasible route is not found. The goal of our proposed algorithm is to minimize the sum of the weights of the links along the path between a source s and a destination t with a bandwidth requirement B , when a link weight W (i, j ) is associated with each link (i, j ). We define the link weight W (i, j ) as follows:    |log PS (i, j )| 0 < PS (i, j )  1          where PS (i, j ) is computed using (6.8). The calculation of the probability of successful transmission over a link takes into consideration the intra-flow conflicts. For instance, PS (i, j ) is calculated assuming the required bandwidth B is already admitted on the path from the source s to the intermediate node i. This accounts for the impact of the same flow going on the previous hops. Moreover, if node j is not the destination, we consider the impact of additional bandwidth B on one of j 's outgoing links. Based on this definition, it is obvious that our algorithm, in the absence of other traffic, is going to choose the shortest path since each additional intermediate hop will have a weight greater than zero due to the intra-flow deafness. Moreover, this guarantees loop-free routing. To avoid violation of QoS for the existing traffic flows, we have to recheck the weights of 129 otherwise

W (i, j ) =

(6.11)

all other links that link (i, j ) interferes with assuming that bandwidth B is allocated on link (i, j ). If any of these weights have become equal to infinity, this means injecting a traffic rate B on link (i, j ) will cause a QoS violation of an existing traffic. Hence, link (i, j ) should not be used directly and W (i, j ) is set to infinity. Our proposed algorithm is presented in Algorithm 1. Algorithm 1 Routing and Admission Control Algorithm for each node v  V do /*Initializations*/ W (v ) =  /*Sum of link weights from the source*/ P ath to(v ) = {}/*List of path links from the source*/ end for W ( s) = 0 Q = V /*The set of unvisited nodes*/ while t  Q do /*Main loop*/ choose node i  Q such that W (i) is minimum Q = Q  {i} for each node j  neighbors (i) do calculate W (i, j ) according to equation (6.11) if W (i, j ) <  then /*link can support QoS*/ for each link (m, n) such that (i, j )  OC (m, n) do calculate W (m, n) /*check QoS of other links*/ if W (m, n) =  then /*QoS violation*/ W (i, j ) =  end if end for end if if W (i, j ) <  then /*flow can be admitted on this link*/ if W (j ) > W (i) + W (i, j ) then W (j ) = W (i) + W (i, j ) /*update the total weight of j */ P ath to(j ) = P ath to(i) + {(i, j )} /*update the path to j */ end if end if end for end while if W (t) <  then Admit the flow and route it along P ath to(t) else Block the flow end if

130

6.5

Performance Evaluation

In this section, we evaluate the accuracy of our analysis and the performance of our proposed QoS routing algorithm via simulations. The simulations are conducted using OPNET simulator. We consider a static wireless network with 20 nodes randomly positioned in an area of 1000 m X 1000 m. Each node is equipped with a switched beam directional antenna of six non-overlapping beams. The transmission range and the interference range are set to 250 m. The OPDMAC protocol is the MAC layer protocol, the channel data rate is 11 Mbps and the packet size is set to 1024 bytes. We implemented, in the OPNET simulator, the proposed routing algorithm as well as the maximally zone-disjoint routing algorithm [76] for the sake of comparison. First, we consider a simple scenario to illustrate the effectiveness of the admission control provided by our algorithm. Six CBR are ready for admission in the network. Each flow request is assigned a random source and a random destination. The starting time and the bandwidth requirement of each flow are shown in Table 6.1. In Figures 6.3 and 6.4, we show the throughput and delay of the 6 flows when the zonedisjoint routing algorithm is used. As expected, the network becomes congested after flow 3 has started since the zone-disjoint algorithm employs no admission control. As more flows are injected, the throughput of all flows shows a significant decrease and none of the flows could meet its bandwidth requirement. Once congestion occurs, the delay experienced by the flows increases dramatically with large variations. Such performance is unacceptable for real-time and multimedia applications. Figures 6.5 and 6.6 show the throughput and delay when the Dijkstra algorithm is used.

Table 6.1: Traffic configurations. Flow Starting time (s) Bandwidth requirement (Kbps) 1 5 195.1 2 10 413.9 3 15 1316.1 4 20 667.4 5 25 1259.1 6 30 579.9

131

1200 Flow1 Flow2 Flow3 Flow4 Flow5 Flow6

1000

Throughput (Kbps)

800

600

400

200

0

0

10

20 Time (Sec)

30

40

50

Figure 6.3: Throughput in case of zone-disjoint routing algorithm.

14 Flow1 Flow2 Flow3 Flow4 Flow5 Flow6

12

10 Delay (Sec)

8

6

4

2

0

0

10

20 Time (Sec)

30

40

50

Figure 6.4: End-to-end delay in case of zone-disjoint routing algorithm.

132

1200 Flow1 Flow2 Flow3 Flow4 Flow5 Flow6

1000

Throughput (Kbps)

800

600

400

200

0

0

10

20 Time (Sec)

30

40

50

Figure 6.5: Throughput in case of Dijkstra routing algorithm.

14 Flow1 Flow2 Flow3 Flow4 Flow5 Flow6

12

10 Delay (Sec)

8

6

4

2

0

0

10

20 Time (Sec)

30

40

50

Figure 6.6: End-to-end delay in case of Dijkstra routing algorithm.

133

Due to the absence of admission control, the network cannot provide bandwidth guarantee to the injected flows similar to the case of the zone disjoint algorithm. However, we noticed that flow 6 matches its bandwidth requirement when it is routed along the minimum hop path in contrast to the zone-disjoint route. This is because the zone-disjoint algorithm aims to avoid zones with active nodes regardless of their directions of communications. In other words, the zone-disjoint algorithm fails to differentiate between conflicting and non-conflicting active nodes. After injecting the first five flows, most of the nodes become active and the zonedisjoint routing algorithm favors a route that passes zones with conflicting active nodes over a route that passes zones with more active but non-conflicting nodes like the minimum hop route. Figures 6.7 and 6.8 show the throughput and delay of the admitted flows when the proposed QoS routing algorithm is used. Our algorithm admits four flows only to avoid congestion. The admitted flows experience consistent throughput which matches the bandwidth

1200 Flow1 Flow2 Flow4 Flow6

1000

Throughput (Kbps)

800

600

400

200

0

0

10

20 Time (Sec)

30

40

50

Figure 6.7: Throughput in case of the proposed QoS routing algorithm.

134

0.014 Flow1 Flow2 Flow4 Flow6

0.012

0.01 Delay (Sec)

0.008

0.006

0.004

0.002

0

0

10

20 Time (Sec)

30

40

50

Figure 6.8: End-to-end delay in case of the proposed QoS routing algorithm.

requirement. The worst delay of the admitted flows is about 13 ms which is extremely small and about 1000 times smaller than the worst delay in the case of zone-disjoint and Dijkstra algorithms. This experiment demonstrates that the proposed routing and admission control algorithm is capable of supporting QoS requirements. In the next experiment, we verify the accuracy of our conflict analysis and the estimation of the link bandwidth utilization. The QoS routing algorithm should guarantee the QoS requirement of the admitted flows and at the same time should not be over-conservative in rejecting flows that the network can support otherwise such rejection may lead to bandwidth underutilization. We consider random networks each with 20 nodes. For each simulation run, 10 CBR connection requests are generated, each with random source, random destination and random bandwidth requirement uniformly distributed between [0, Bmax ]. We compare the proposed algorithm with both maximally zone-disjoint algorithm and Dijkstra algorithm. Figure 6.9 depicts the Packet Delivery Ratio (PDR) under different traffic load. The PDR

135

Packet Delivery Ratio

1.2

Proposed Zone-disjoint Dijkstra

1

0.8

0.6

0.4

0.2

0

350

700

1050

1400

Maximum Bandwidth Requirement (Kbps)

Figure 6.9: Average packet delivery ratio for different Bmax .

is defined as the ratio between the total throughput to the total traffic generation rate of the CBR sources. As we can see, the proposed QoS routing algorithm achieves a PDR very close to 1. This indicates the ability of our routing algorithm to satisfy the QoS guarantees. In the case of zone-disjoint and Dijkstra algorithms, the PDR is less than 1 and decreases as the traffic load increases. Figure 6.10 shows the total network throughput under different traffic load conditions. It is obvious that the proposed algorithm shows the largest total attainable throughput in almost all the cases. The only exception is when the maximum bandwidth requirement Bmax is equal to 1400 Kbps. In this case, there is a slight reduction in the total throughput with respect to the Dijkstra algorithm which is due to the coarseness of the bandwidth requirements. These results show that our QoS routing algorithm is able to effectively utilize the capacity of the network. In Figure 6.11, we present the average end-to-end delay of the admitted flows. The flows experience very small delay under the proposed algorithm as compared to other algorithms 136

3 Proposed 2.5 Zone-disjoint Dijkstra

Total Throughput (Mbps)

2

1.5

1

0.5

0

350

700

1050

1400

Maximum Bandwidth Requirement (Kbps)

Figure 6.10: Total throughput for different Bmax .

Proposed 0.5 Zone-disjoint Dijkstra

0.4

Delay(Sec)

0.3

0.2

0.1

0

350

700

1050

1400

Maximum Bandwidth Requirement (Kbps)

Figure 6.11: Average delay for different Bmax .

137

indicating the ability of our algorithm to avoid network congestions. In addition to providing bandwidth guarantees, our routing metric is able to provide very small end-to-end delay, in terms of milliseconds, which is desirable for real-time applications. Note that the success of our algorithm is not only because of the admission control but also due to a better routing metric. Table 6.2 shows the average percentage of flows admitted by our algorithm. As we can see, all the flows are admitted in the case of Bmax = 350 Kbps, which is the same as other algorithms. Hence, our results in this case illustrate the effectiveness of the proposed routing metric as the admission control did not exclude any flow from being scheduled. It is obvious from the figures that the proposed routing algorithm outperforms the other algorithms in terms of the packet delivery ratio, the total throughput and the average end-to-end delay. Table 6.2: Percentage of admitted flows by our admission control scheme. Bmax (Kbps) Percentage of admitted flows 350 100% 700 96% 1050 90% 1400 64%

6.6

Conclusions

In this chapter, we addressed the issue of exploiting the benefits of beamforming antennas in the network layer. In particular, we studied the bandwidth-guaranteed routing problem in contention-based multi-hop wireless networks with beamforming antennas. The problem is not trivial since contention-based MAC protocols do not provide QoS guarantees. For the sake of understanding the interdependencies between the wireless links in a contentionbased environment, we presented a detailed analysis of the relationship between the links in a multi-hop wireless networks with beamforming antennas. We characterized the topologybased conflicts between the wireless links based upon how the contention-based MAC protocol interacts with interference. The link conflicts are categorized into two main categories: source-based conflicts and destination-based conflicts. Within each category, the conflict 138

could be either strong or weak. Strong conflicts are due to unavoidable physical interference while weak conflicts are mainly due to the inefficiency of the contention-based MAC protocol to perfectly control the underlying beamforming antenna. We proposed a model for different types of conflicts by introducing a novel conflict graph, called colored conflict graph. We then calculated the link utilization taking the MAC layer overhead into consideration. Using the colored conflict graph and the link utilization, we derived a closed form expression for the probability of successful transmission over a wireless link. Based on our analysis, we formulated the routing problem as an optimization problem. The objective is to minimize the sum of the absolute values of the logarithms of the probabilities of successful transmissions over each link along the chosen path. Since our bandwidth-guaranteed routing problem is NP-hard, we presented a routing and admission control heuristic to find a singlepath bandwidth-guaranteed routes. The algorithm is based on modifications of Dijkstra's algorithm in which we provide QoS support for the new flow without violating the QoS of the existing flows. A flow is not admitted if a feasible route is not found. The weight of each link is defined as the absolute value of the logarithm of the probability of successful transmissions over the link and the goal of the algorithm is to minimize the sum of the weights of the links along the path between a source-destination pair to provide a specific bandwidth requirement. We evaluated the performance of the proposed routing algorithm using computer simulations. Our results illustrate the necessity of admission control to provide QoS guarantees. Moreover, we demonstrated the accuracy of our conflict analysis and the ability of our proposed algorithm to find bandwidth-guaranteed routes. The simulation results show that our QoS routing algorithm outperforms other algorithms in terms of packet delivery ratio, throughput and end-to-end delay.

139

Chapter 7 Conclusions and Future Work
The increasing use of multi-hop wireless networks and the ever-growing demand of bandwidthintensive network applications are the driving force to explore innovative techniques that are able to enhance the capacity of these networks and hence satisfy additional users' QoS requirements. Smart beamforming antennas have been investigated in the last few years as a potential technology to increase the wireless network capacity. Although beamforming antennas promise a substantial increase in the spatial reuse of the wireless channel, it is not sufficient to plug-and-play a smart antenna to exploit this potential benefit since several new challenges need to be addressed. In this dissertation, we have investigated the problems of deafness, directional hidden terminals, interference and the over-conservative channel access mechanisms which hamper reaping the full benefit of smart antennas. We have proposed efficient solutions for both MAC and network layers that carefully address these challenges to best leverage the antenna capabilities.

7.1

Conclusions

The focus of this dissertation is to investigate the challenges that face the full exploitation of the spatial reusability offered by smart beamforming antennas in multi-hop wireless networks, thus giving useful insights towards designing efficient MAC and routing mechanisms capable 140

of increasing the network capacity. We began this dissertation by studying the critical problem of deafness. It occurs when a transmitter tries repeatedly to communicate with a receiver but fails because the receiver is engaged in another communication in a different direction. Deafness is a MAC layer problem that could result in a significant underutilization of the wireless channel. Contrary to the previous works that studied the deafness problem through simulations only, we developed an analytical framework for modeling directional CSMA/CA protocols, which is, up to our knowledge, the first ever model to include deafness in the analysis. Using a Markov chain, we modeled the transmission activity of the node taking into consideration the differences between collision failures and deafness failures. Our numerical results show that deafness can severely limit the network capacity. In contrast to one's intuition, we showed that decreasing the beamwidth can increase the saturation throughput up to a certain limit only below which the negative impact of deafness offsets the benefits of spatial reuse resulting in a steep decrease in the saturation throughput. Based on our analysis, we concluded that the two main factors that aggravate the deafness problem are the probability of transmission failure and the blocking time it results in. In order to efficiently utilize the potential spatial reuse, we designed a novel Opportunistic Directional MAC (OPDMAC) protocol for multi-hop wireless networks with beamforming antennas. We investigated and discussed key design considerations, including the unnecessity to remain idle during the backoff phase, the decoupling of the deafness-avoidance listening phase and the collision-avoidance backoff phase and the unsuitability of the FIFO packet scheduling, which provided us with a concrete foundation for designing a MAC protocol. We showed that the binary exponential backoff algorithm is over-conservative as it unnecessarily increases the idle waiting time, hence we argued that it should not be used in the MAC for beamforming antennas. We proposed a novel backoff mechanism in which the node is not forced to backoff in an idle state after a transmission failure. Instead, the node can take the opportunity of attempting transmission of other outstanding packets in other directions. This novel active backoff procedure alleviates any unnecessary blocking time

141

resulting from the deafness problem. However, to avoid prolonged periods of deafness, we introduced a listening period in which the node remains idle in an omni-directional mode after each successful transmission. Decoupling the listening phase and the backoff phase is a unique feature of our proposed protocol. In addition to addressing the deafness problem without any additional overhead, OPDMAC reduces the directional hidden terminal problem and alleviates the head-of-line blocking. Through extensive simulations, we demonstrated that the proposed MAC protocol enhances the performance in terms of throughput, delay, packet delivery ratio and fairness. To further improve the performance, we discussed the optimization of some of the protocol parameters instead of using the default values of the IEEE 802.11 MAC commonly used by other directional MAC protocols. Having addressed the challenges of beamforming antennas at the MAC layer, we later turned our attention to study the impact on the network layer. First, we investigated the theoretical capacity gain that can be achieved using smart beamforming antennas. For this purpose, we presented a theoretical framework to compute the capacity of a multi-hop wireless network given the network topology and the traffic patterns. Since the interference is the limiting factor, we derived a generic interference model that can accommodate any antenna radiation pattern. We modeled the interference by means of a modified conflict graph. We formulated the problem as a multi-commodity flow problem with novel constraints. We derived two different sets of constraints: link-based interference constraints and node-based radio constraints. Using these constraints, we are able to capture the spatial reuse benefits of beamforming antennas. Based on this framework, we computed the capacity gain when beamforming antennas are used instead of omni-directional antennas. We discussed the gain accrued from the spatial reuse and also in the situation when it is combined with the range extension. We concluded that most of the gain of beamforming antennas is due to the increase in the spatial reuse especially in dense networks. In our evaluation, we studied ideal antennas patterns as well as realistic antenna patterns. Although the ideal beamforming antennas achieve a higher gain than the realistic antennas, the realistic antennas outperforms

142

the omni-directional antennas by a significant margin. Our capacity analysis is based on the existence of a perfect packet scheduler that is useful in obtaining the theoretical bounds. We relaxed this assumption when we investigated the routing problem in the presence of contention-based directional MAC protocol such as OPDMAC protocol. Since OPDMAC explores transmission opportunities in different directions, an antenna-aware routing system can determine conflict-free routes that could further improve the overall performance. Since the deployment of beamforming antennas could significantly spare the network resources, it could be utilized to provide additional QoS guarantees. In this work, we studied the bandwidth-guaranteed routing problem in contention-based multi-hop wireless networks with beamforming antennas. First, we presented a detailed analysis of interference among the links in a multi-hop wireless networks with beamforming antennas to examine the interdependencies of links in a contention-based environment. We identified several categories of conflicts (interference) among the links and modeled them using a colored conflict graph. We then derived a closed form expression for the probability of successful transmission over a wireless link. Based on our analysis, we formulated the routing problem as a mixed integer non-linear programming problem. The objective is to minimize the sum of the absolute values of the logarithm of the probabilities of successful transmissions over each link along the chosen path. Since this optimization problem is NP-hard, we presented a routing and admission control heuristic to find single-path bandwidth-guaranteed routes. Using extensive simulations, we demonstrated the accuracy of our conflict analysis and the ability of our proposed algorithm to find bandwidth-guaranteed routes. The simulation results show that our QoS routing algorithm outperforms other algorithms in terms of packet delivery ratio, throughput and end-to-end delay.

143

7.2

Future Work

This dissertation addresses several aspects related to the exploitation of spatial reusability in multi-hop wireless networks with smart beamforming antennas. However, there are some relevant issues that warrant further consideration in the future work. For instance, we have considered in this work homogenous multi-hop wireless networks only where all nodes are equipped with the same antenna technology. However, it is important to study the case of multi-hop wireless networks with heterogeneous antenna capabilities. Due to the vast spread of wireless devices with omni-directional antennas, it is economically unfeasible to replace all the existing antennas with the smart technology. The incremental deployment of smart antennas is the feasible solution. Building upon the work presented in this dissertation, it is interesting to analyze how different antenna technologies could interact to enhance the overall performance. Since our OPDMAC protocol is backward compatible with IEEE 802.11, it can perform well in such networks. However, fairness in channel access, due to protocol heterogeneity, could be an issue that needs further investigation. Another important problem to investigate is finding the optimal deployment of additional nodes with beamforming antennas in an existing multi-hop wireless networks equipped with conventional omni-directional antennas. Throughout this work, we have not considered the mobility of nodes in our evaluations. Our results are more applicable to multi-hop wireless networks with static topologies such as mesh networks and wireless backbones. Node mobility could result in stale information in neighbor look-up tables causing inaccurate beamforming. In our OPDMAC implementation, we assumed the existence of a neighbor discovery mechanism responsible for providing up-todate beamforming information. The impact of mobility is closely related to the efficiency of the neighbor discovery module. However, it would be interesting to evaluate the performance of the proposed OPDMAC protocol in the presence of mobility. Since OPDMAC tends to minimize the idle waiting time following a transmission failure, the mobility of one neighbor may not have a significant impact on the transmissions destined to other neighbors. However, 144

further research work is needed to come up with solid conclusions. In this dissertation, we presented a comprehensive analysis of the interdependencies of wireless links in contention-based multi-hop wireless networks with beamforming antennas. This analysis paves the way for developing efficient QoS routing protocols over contentionbased MAC protocols. We proposed a centralized algorithm that assumes global information is present. However, we believe that the problem formulation is amenable to distributed algorithms. Although there are some interesting implementations in the literature for the case of omni-directional antennas, the implementation of routing protocols in multi-hop wireless networks with beamforming antennas is indeed challenging and still an open area for research. In this dissertation, we focused on exploiting a single physical layer capability which is the smart beamforming antennas in order to enhance the wireless network capacity. By controlling several physical-layer parameters jointly and adaptively, one can achieve further performance improvement. For instance, by combining beamforming antennas with power control, interference could be significantly reduced. These areas are still unexplored and thus provide numerous opportunities for future research. Finally, we evaluated the performance of the proposed mechanisms using a single-path propagation model. Although the use of beamforming antennas reduces the effect of multipath fading, signals transmitted by neighboring nodes can be received from several directions and may interfere with ongoing directional communications. On the other hand, the presence of multiple paths between a transmitter-receiver pair could allow nodes outside their ideal communication region to learn about the ongoing communication and hence transmission failures due to deafness can be reduced. Hence, it would be interesting to evaluate the performance of the proposed OPDMAC protocol in a multi-path environment.

145

Bibliography
[1] C. E. Perkins, Ad Hoc Networking. Addison-Wesley, 2001. [2] R. Ramanathan, "On the Performance of Ad Hoc Networks with Beamforming Antennas," in ACM International Symposium on Mobile Ad Hoc Networking and Computing (MobiHoc), Long Beach, California, October 2001, pp. 95­105. [3] J. H. Winters, "Smart Antenna Techniques and Their Application to Wireless Ad Hoc Networks," IEEE Wireless Communications Magazine, vol. 13, no. 4, pp. 77­83, August 2006. [4] J. C. Liberti and T. S. Rappaport, Smart Antennas for Wireless Communications. Prentice Hall, NJ, 1999. [5] D. Leang and A. Kalis, "Smart Sensordvb: Sensor Network Development Boards with Smart Antennas," in IEEE International Conference on Communications,Circuits and Systems (ICCCAS), Chengdu, China, June 2004, pp. 1476­1480. [6] G. Giorgetti, A. Cidronali, S. K. Gupta, and G. Manes, "Exploiting Low-Cost Directional Antennas in 2.4GHz IEEE 802.15.4 Wireless Sensor Networks," in European Conference on Wireless Technologies, Munich, Germany, October 2007, pp. 217­220. [7] R. Ramanathan, J. Redi, C. Santivanez, D. Wiggins, and S. Polit, "Ad Hoc Networking with Directional Antennas: A Complete System Solution," IEEE Journal on Selected Areas in Communications, vol. 23, no. 3, pp. 496­506, March 2005. 146

[8] R. Choudhury and N. Vaidya, "Deafness: A MAC Problem in Ad Hoc Networks when Using Directional Antennas," in IEEE International Conference on Network Protocols (ICNP), Berlin, Germany, October 2004, pp. 283­292. [9] R. Choudhury, X. Yang, R. Ramanathan, and N. Vaidya, "Using Directional Antennas for Medium Access Control in Ad Hoc Networks," in ACM International Conference on Mobile Computing and Networking (Mobicom), Atalanta, Georgia, September 2002, pp. 59­70. [10] OPNET Technologies, "OPNET Modeler V. 12.1," http://www.opnet.com/. [11] C. A. Balanis and P. Ioannides, Introduction to Smart Antennas. Morgan and Claypool Publishers, 2007. [12] C. A. Balanis, Antenna Theory: Analysis and Design. Wiley, NY, 1997. [13] S. L. Karthikeyan Sundaresan and R. Sivakumar, "On the Use of Smart Antennas in Multi-Hop Wireless Networks," in IEEE International Conference on Broadband Communications, Networks and Systems, San Jose, California, October 2006, pp. 1­10. [14] IEEE, "IEEE 802.11 Standard: Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) Specification," 1999. [15] S. Kumara, V. S. Raghavanb, and J. Deng, "Medium Access Control Protocols for Ad Hoc Wireless Networks: A Survey," Elsevier Ad Hoc Networks Journal, vol. 4, no. 3, pp. 326­358, May 2006. [16] S. S. V. Bharghavan, A. Demers and L. Zhang, "MACAW: A Media Access Protocol for Wireless LANs," in ACM International Conference of the Special Interest Group on Data Communication (SIGCOMM), London,UK, August 1994, pp. 212­225.

147

[17] Y. Ko, V. Shankarkumar, and N. Vaidya, "Medium Access Control Protocols Using Directional Antennas in Ad Hoc Networks," in IEEE International Conference on Computer Communications (INFOCOM), Tel Aviv, Israel, March 2000, pp. 13­21. [18] A. Nasipuri, S.Ye, J. You, and R. E. Hiromoto, "A MAC Protocol for Mobile Ad Hoc Networks Using Directional Antennas," in IEEE Wireless Communications and Networking Conference (WCNC), Chicago, Illinois, September 2000, pp. 1214­1219. [19] S. Bandyopadhyay, K. Hasuike, S. Horisawa, and S. Tawara, "An Adaptive MAC and Directional Routing Protocol for Ad Hoc Wireless Network using ESPAR Antenna," in ACM International Conference on Mobile Computing and Networking (MobiHoc), Long Beach, California, October 2001, pp. 243­246. [20] M. Takai, J. Martin, A. Ren, and R. Bagrodia, "Directional Virtual Carrier Sensing for Directional Antennas in Mobile Ad Hoc Networks," in ACM International Symposium on Mobile Ad Hoc Networking and Computing (MobiHoc), Lausanne, Switzerland, June 2002, pp. 183­193. [21] R. R. Choudhury, X. Yang, R. Ramanathan, and N. H. Vaidya, "On Designing MAC Protocols for Wireless Networks Using Directional Antennas," IEEE Transactions on Mobile Computing, vol. 5, no. 5, pp. 477­491, May 2006. [22] M. Takata, M. Bandai, and T. Watanabe, "A MAC Protocol with Directional Antennas for Deafness Avoidance in Ad Hoc Networks," in IEEE Global Telecommunications Conference (GLOBECOM), Washington, USA, November 2007, pp. 620­625. [23] H. Gossain, C. Cordeiro, D. Cavalcanti, and D. P. Agrawal, "The Deafness Problems and Solutions in Wireless Ad Hoc Networks using Directional Antennas," in IEEE Global Telecommunications Conference (GLOBECOM) Workshops, November 2004, pp. 108­ 114.

148

[24] G. Bianchi, "Performance Analysis of the IEEE 802.11 Distributed Coordination Function," IEEE Journal on Selected Areas in Communications, vol. 18, no. 3, pp. 535­547, March 2000. [25] F. Cali, M. Conti, and E. Gregori, "Dynamic tuning of the IEEE 802.11 protocol to achieve a theoretical throughput limit," IEEE/ACM Transactions on Networking, vol. 8, no. 6, pp. 785­799, December 2000. [26] Y. Wang and J. J. Garcia-Luna-Aceves, "Collision Avoidance in Single-Channel Ad Hoc Networks Using Directional Antennas," in IEEE International Conference on Distributed Computing Systems (ICDCS), Providence, Rhode Island, May 2003, pp. 640­ 649. [27] H. Takagi and L. Kleinrock, "Optimal Transmission Range for Randomly Distributed Packet Radio Terminals," IEEE Transactions on Communications, vol. 32, no. 3, pp. 246­257, March 1984. [28] L. Wu and P. Varshney, "Performance Analysis of CSMA and BTMA Protocols in Multihop Networks (I). Single Channel Case," Elsevier Journal on Information Sciences, vol. 120, pp. 159­177, November 1999. [29] J. Hsu and I. Rubin, "Performance Analysis of Directional CSMA/CA MAC Protocol in Mobile Adhoc Networks," in IEEE International Conference on Communications (ICC), vol. 8, Istanbul,Turkey, June 2006, pp. 3657­3662. [30] M. M. Carvalho and J. J. Garcia-Luna-Aceves, "Modeling Wireless Ad Hoc Networks With Directional Antennas," in IEEE International Conference on Computer Communications (INFOCOM), Barcelona, Spain, April 2006, pp. 1­12. [31] M. Carvalho and J. Garcia-Luna-Aceves, "Delay analysis of IEEE 802.11 in single-hop networks," in IEEE International Conference on Network Protocols (ICNP), Atlanta, Georgia, November 2003, pp. 146­153. 149

[32] H. Wu, Y. Peng, K. Long, S. Cheng, and J. Ma, "Performance of Reliable Transport Protocol Over IEEE 802.11 Wireless LAN: Analysis And Enhancement," in IEEE International Conference on Computer Communications (INFOCOM), New York, USA, June 2002, pp. 599­607. [33] The MathWorks Inc., "Matlab v.7.4," http://www.mathworks.com/products/matlab/. [34] T. ElBatt, T. Anderson, and B. Ryu, "Performance Evaluation of Multiple Access Protocols for Ad Hoc Networks Using Directional Antennas," in IEEE Wireless Communications and Networking Conference (WCNC), vol. 2, New Orleans, Louisiana, March 2003, pp. 982­987. [35] Y. Wang and J. J. Garcia-Luna-Aceves, "Spatial Reuse and Collision Avoidance in AdHoc Networks with Directional Antennas," in IEEE Global Telecommunications Conference (GLOBECOM), vol. 1, Taipei, Taiwan, Novemeber 2002, pp. 112­116. [36] Z. Huang, C. chung Shen, C. Srisathapornphat, and C. Jaikaeo, "A Busy-Tone Based Directional MAC Protocol for Ad Hoc Networks," in IEEE Military Communications Conference (Milcom), vol. 2, Anaheim,California, October 2002, pp. 1233­1238. [37] S. S. Kulkarni and C. Rosenberg, "DBSMA: A MAC Protocol for Multi-hop Ad-hoc Networks with Directional Antennas," in IEEE International Symposium on Personal, Indoor and Mobile Radio Communications (PIMRC), vol. 12, Berlin, Germany, September 2005, pp. 1371­1377. [38] T. Korakis, G. Jakllari, and L. Tassiulas, "A MAC protocol for full exploitation of Directional Antennas in Ad-hoc Wireless Networks," in ACM International Conference on Mobile Computing and Networking (MobiHoc), Annapolis, Maryland, June 2003, pp. 98­107. [39] G. Jakllari, I. Broustis, T. Korakis, S. V. Krishnamurthy, , and L. Tassiulas, " Handling Asymmetry in Gain in Directional Antenna Equipped Ad Hoc Networks," in 150

IEEE International Symposium on Personal, Indoor and Mobile Radio Communications (PIMRC), Berlin, Germany, September 2005, pp. 1284­1288. [40] H. Gossain, C. Cordeiro, , and D. P. Agrawal, "MDA: An Efficient Directional MAC scheme for Wireless Ad Hoc Networks," in IEEE Global Telecommunications Conference (GLOBECOM), vol. 6, St. Louis, Missouri, November 2005, pp. 3633­3637. [41] Y. Li and A. M. Safwat, "DMAC-DACA: Enabling Efficient Medium Access for Wireless Ad hoc Networks with Directional Antennas," in IEEE International Symposium on Wireless Pervasive Computing (ISWPC), Phuket, Thailand, January 2006, pp. 1­5. [42] M. Takata and M. Bandai and T. Watanabe, "A Receiver-Initiated Directional MAC Protocol for Handling Deafness in Ad Hoc Networks," in IEEE International Conference on Communications (ICC), vol. 9, Istanbul, Turkey, June 2006, pp. 4089­4095. [43] V. A. RamMohan, H. Sethu, M. R. Hosaagrahara, and K. R. Dandekar, "A New Protocol to Mitigate the Unheard RTS/CTS Problem in Networks with Switched Beam Antennas," in IEEE International Symposium on Wireless Pervasive Computing (ISWPC), San Juan, Puerto Rico, February 2007, pp. 129­134. [44] J. Wang, Y. Fang, and D. Wu, "SYN-DMAC: A Directional MAC Protocol for Ad Hoc Networks with Synchronization," in IEEE Military Communications Conference (Milcom), vol. 4, Atlantic City, New Jersey, October 2005, pp. 2258­2263. [45] A. P. Subramanian and S. R. Das, "Addressing Deafness and Hidden Terminal Problem in Directional Antenna based Wireless Multi-Hop Networks," in IEEE International Conference on Communication Systems Software and Middleware (COMSWARE), Bangalore, India, January 2007, pp. 1­6. [46] G. Jakllari, W. Luo, and S. V. Krishnamurthy, "An Integrated Neighbor Discovery and MAC Protocol for Ad Hoc Networks Using Directional Antennas," IEEE Transactions On Wireless Communications, vol. 6, no. 3, pp. 11­21, March 2007. 151

[47] E. Shihab, L. Cai, and J. Pan, "A Distributed Directional-to-Directional MAC Protocol for Asynchronous Ad Hoc Networks," in IEEE Global Telecommunications Conference (GLOBECOM), New Orleans, Louisiana, November 2008, pp. 1­5. [48] M. Takai, J. Zhou, and R. Bagrodia, "Adaptive Range Control Using Directional Antennas in Mobile Ad Hoc Networks," in ACM International Workshop on Modeling Analysis and Simulation of Wireless and Mobile Systems (MSWiM), San Diego, California, September 2003, pp. 92­99. [49] V. Kolar, S. Tilak, and N. B. Abu-Ghazaleh, "Avoiding Head of Line Blocking in Directional Antenna," in IEEE International Conference on Local Computer Networks (LCN), Zurich, Switzerland, November 2004, pp. 385­392. [50] H. Gossain, C. Cordeiro, T. Joshi1, and D. P. Agrawal, "Cross-Layer Directional Antenna MAC Protocol for Wireless Ad Hoc Networks," Wiley Wireless Communications and Mobile Computing Journal, vol. 6, no. 2, pp. 171­182, March 2006. [51] L. Bao and J. Garcia-Luna-Aceves, "Transmission Scheduling in Ad Hoc Networks with Directional Antennas," in ACM International Conference on Mobile Computing and Networking (Mobicom), Atalanta, Georgia, September 2002, pp. 48­58. [52] E. Ulukan and O. Gurbuz, "Angular MAC Protocol with Location Based Scheduling for Wireless Ad Hoc Networks," in IEEE Vehicular Technology Conference (VTC), vol. 3, Stockholm, Sweden, May 2005, pp. 1473­1478. [53] R. Choudhury and N. Vaidya, "MAC-Layer Capture: A Problem in Wireless Mesh Networks using Beamforming Antennas," in IEEE Sensor, Mesh and Ad Hoc Communications and Networks (SECON), San Diego, California, June 2007, pp. 401­410. [54] H. Gossain, T. Joshi, C. Cordeiro, and D. Agrawal, "A Cross-Layer Approach for Designing Directional Routing Protocol in MANETs," in IEEE Wireless Communications

152

and Networking Conference (WCNC), vol. 4, New Orleans, Louisiana, March 2005, pp. 1976­1981. [55] R. Jain, D. Chiu, and W. Hawe, A Quantitative Measure of Fairness and Discrimination for Resource Allocation in Shared Computer System, 1984, DEC Technical Report 301. [56] K. Jain, J. Padhye, V. Padmanabhan, and L. Qiu, "Impact of Interference on Multihop Wireless Network Performance," in ACM International Conference on Mobile Computing and Networking (MOBICOM), San Diego, California, September 2003, pp. 66­80. [57] P. Gupta and P. R. Kumar, "The Capacity of Wireless Networks," in IEEE Transactions on Information Theory, vol. 46, no. 2, 2000, pp. 388­404. [58] M. Kodialam and T. Nandagopal, "Characterizing Achievable Rates in Multi-hop Wireless Networks: The Joint Routing and Scheduling Problem," in ACM International Conference on Mobile Computing and Networking (MOBICOM), San Diego, California, September 2003, pp. 42­54. [59] S. Yi, Y. Pei, and S. Kalyanaraman, "On The Capacity Improvement of Ad Hoc Wireless Networks Using Directional Antennas," in ACM International Symposium on Mobile Ad Hoc Networking and Computing (MobiHoc), Annapolis, Maryland, June 2003, pp. 108­ 116. [60] C. Peraki and S. D. Servetto, "On the Maximum Stable Throughput Problem in Random Networks with Directional Antennas," in ACM International Conference on Mobile Computing and Networking (MobiHoc), Annapolis, Maryland, June 2003, pp. 76­87. [61] A. Spyropoulos and C. S. Raghavendra, "Capacity Bounds for Ad-Hoc Networks Using Directional Antennas," in IEEE International Conference on Communications (ICC), Anchorage, Alaska, May 2003, pp. 348­352.

153

[62] X. Huang, J. Wang, and Y. Fang, "Achieving Maximum Flow in Interference-Aware Wireless Sensor Networks with Smart Antennas," Elsevier Ad Hoc Networks, vol. 5, no. 6, pp. 885­896, August 2007. [63] J. Tang, G. Xue, C. Chandler, and W. Zhang, " Interference-aware Routing in Multihop Wireless Networks Using Directional Antennas," in IEEE International Conference on Computer Communications (INFOCOM), Miami, Florida, March 2005, pp. 751­760. [64] S. N. Muthaiah, A. Iyer, A. Karnik, and C. Rosenberg, "Design of High Throughput Scheduled Mesh Networks: A Case for Directional Antennas," in IEEE Global Telecommunications Conference (GLOBECOM), Washington, USA, November 2007, pp. 5080­5085. [65] A. Nasipuri, J. Mandava, H. Manchala, and R. E. Hiromoto, "On-Demand Routing Using Directional Antennas in Mobile Ad Hoc Networks," in IEEE International Conference on Computer Communications and Networks (ICCCN), Las Vegas, Nevada, October 2000, pp. 535­541. [66] R. Gupta, J. Musacchio, and J. Walrand, "Sufficient Rate Constraints for QoS Flows in Ad-Hoc Networks," Elsevier Ad Hoc Networks, vol. 5, no. 4, pp. 429­443, May 2007. [67] ILOG CPLEX, http://www.ilog.com/products/cplex/. [68] Y. Yang and R. Kravets, "Contention-Aware Admission Control for Ad Hoc Networks," IEEE Transaction on Mobile Computing, vol. 4, no. 4, pp. 363­377, July 2005. [69] K. Wang, F. Yang, Q. Zhang, and Y. Xu, "Modeling Path Capacity in Multi-hop IEEE 802.11 Networks for QoS Services," IEEE Transaction on Wireless Communications, vol. 6, no. 2, pp. 738­749, February 2007.

154

[70] A. K. Saha and D. B. Johnson, "Routing Improvement using Directional Antennas in Mobile Ad Hoc Networks," in IEEE Global Telecommunications Conference (GLOBECOM), vol. 5, Dallas, Texas, November 2004, pp. 2902­2908. [71] R. Choudhury and N. Vaidya, "Performance of Ad Hoc Routing using Directional Antennas," Elsevier Journal of Ad Hoc Networks, vol. 3, no. 2, pp. 157­173, March 2005. [72] M. Takata, M. Bandai, and T. Watanabe, "On an Ad Hoc Routing Protocol using Directional Antennas," in Information Processing Society of Japan (IPSJ) Symposium on Multimedia, Distributed, Cooperative and Mobile Systems (DICOMO), Toba, Japan, 2007, pp. 657­662. [73] V. Kolar, P. Rogers, and N. B. Abu-Ghazaleh, "Route Compaction for Directional Route Discovery in MANETs," in IEEE International Conference on Wireless and Mobile Computing, Networking and Communications (WiMob), vol. 3, Montreal, Canada, 2005, pp. 101­108. [74] S. Kim and Y. Ko, "A Directional Antenna based Path Optimization Scheme for Wireless Ad Hoc Networks," in International Conference on Mobile Adhoc and Sensor Networks (MSN), Wuhan, China, 2005, pp. 317­326. [75] Y. Li, H. Man, J. Yu, and Y.-D. Yao, "Multipath Routing for Ad Hoc Networks Using Directional Antennas," in IEEE Sarnoff Symposium on Advanced Wired and Wireless Communication, Princeton, New Jersey, 2004, pp. 119­122. [76] S. Roy, D. Saha, S. Bandyopadhyay, T. Ueda, and S. Tanaka, "A Network-Aware MAC and Routing Protocol for Effective Load Balancing in Ad Hoc Wireless Networks with Directional Antenna," in ACM International Symposium on Mobile Ad Hoc Networking and Computing (MobiHoc), Annapolis, Maryland, June 2003, pp. 88­97.

155

[77] S. Cheekiralla, A. Quattoni, and D. Engels, "Load-Sensitive Routing With Directional Antennas," in IEEE International Symposium on Personal, Indoor and Mobile Radio Communications (PIMRC), Helsinki, Finland, 2006, pp. 1­5. [78] A. Spyropoulos and C. S. Raghavendra, "Energy Efficient Communications in Ad Hoc Networks Using Directional Antennas," in IEEE International Conference on Computer Communications (INFOCOM), New York, USA, 2002, pp. 221­228. [79] Y. T. Hou, Y. Shi, J. Pan, S. F. Midkiff, and K. Sohraby, "Single-Beam Flow Routing for Wireless Sensor Networks," in IEEE Global Telecommunications Conference (GLOBECOM), St. Louis, Missouri, November 2005, pp. 3263­3268. [80] J. E. Wieselthier, G. D. Nguyen, and A. Ephremides, "Energy-Aware Wireless Networking with Directional Antennas: The Case of Session-Based Broadcasting and Multicasting," IEEE Transactions on Mobile Computing, vol. 1, no. 3, pp. 176­191, JulySeptember 2002. [81] C. Hu, Y. Hong, and J. Hou, "On mitigating the broadcast storm problem with directional antennas," in IEEE International Conference on Communications (ICC), Anchorage, Alaska, May 2003, pp. 104­110. [82] Z. Huang and C.-C. Shen, "Multibeam Antenna-Based Topology Control with Directional Power Intensity for Ad Hoc Networks," IEEE Transactions on Mobile Computing, vol. 5, no. 5, pp. 508­517, May 2006. [83] L. Hanzo and R. Tafazolli, "A Survey of QoS Routing Solutions for Mobile Ad hoc Networks," IEEE Communications Surveys and Tutorials, vol. 9, no. 2, pp. 50­70, Second Quarter 2007. [84] S. Yin, Y. Xiongy, Q. Zhang, and X. Lin, "Traffic-Aware Routing for Real-Time Communications in Wireless Multi-Hop Networks," Wiley Wireless Communications and Mobile Computing Journal, vol. 6, no. 6, pp. 825­843, September 2006. 156

[85] L. Luo, M. Gruteser, H. Liu, D. Raychaudhuri, K. Huang, and S. Chen, "A QoS Routing and Admission Control Scheme for 802.11 Ad Hoc Networks," in ACM Workshop on Dependability Issues in Wireless Ad Hoc Networks and Sensor Networks, New York, USA, September 2006, pp. 19­28. [86] L. Coletti, D. Ciglioni, A. Capone, and M. Zambardi, "Impact of Smart Antennas on QoS Routing for Multi-Hop Wireless Networks," in IST Mobile and Wireless Communications Summit, Dresden, Germany, June 2005. [87] B.Hamdaoui and P.Ramanathan, "Link-Bandwidth Calculation for QoS Routing in Wireless Ad-Hoc Networks Using Directional Communications," in IEEE International Conference on Wireless Networks, Communications and Mobile Computing (WirelessCom), vol. 1, Maui, Hawaii, June 2005, pp. 91­94. [88] I. Jawhar and J. Wu, "Resource Allocation in Wireless Networks Using Directional Antennas," in IEEE International Conference on Pervasive Computing and Communications (Percom), Pisa, Italy, March 2006, pp. 318­327. [89] Y. Chen, S. Jan, and M. Chuang, "A Shoelace-Based QoS Routing Protocol for Mobile Ad Hoc Networks Using Directional Antenna," in IEEE Region 10 Conference (TENCON), Taipei, Taiwan, 2007, pp. 1­4. [90] D. Saha, S. Roy, S. Bandyopadhyay, T. Ueda, and S. Tanaka, "A Distributed Feedback Control Mechanism for Priority-Based Flow-Rate Control to Support QoS Provisioning in Ad Hoc Wireless Networks with Directional Antenna," in IEEE International Conference on Communications (ICC), vol. 7, Paris, France, 2004, pp. 4172­4176. [91] T. Ueda, S. Tanaka, D. Saha, S. Roy, and S. Bandyopadhyay, "A Priority-based QoS Routing Protocol with Zone Reservation and Adaptive Call Blocking for Mobile Ad Hoc Networks with Directional Antenna," in IEEE Global Telecommunications Conference (GLOBECOM) Workshops, Dallas, Texas, November 2004, pp. 50­55. 157

[92] H. Man, Y. Li, , and X. Zhuang, "Video Transport Over Multi Hop Directional Wireless Networks," in IEEE International Conference on Multimedia and Expo (ICME), Toronto, Ontario, 2006, pp. 1525­1528. [93] L. B. Jiang and S. C. Liew, "Improving Throughput and Fairness by Reducing Exposed and Hidden Nodes in 802.11 Networks," IEEE Transactions on Mobile Computing, vol. 7, no. 1, pp. 34­49, January 2008. [94] C. Chiu, Y. Kuo, E. H. Wu, and G. Chen, "Bandwidth-Constrained Routing Problem in Wireless Ad Hoc Networks," IEEE Transactions On Parallel And Distributed Systems, vol. 19, no. 1, pp. 4­14, January 2008.

158

