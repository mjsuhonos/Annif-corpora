A Multirotor Vehicle Performance Prediction Method
by

Issi-Rae Emanuelle George Bachelor of Engineering, The University of Western Ontario, 2014

A thesis presented to Ryerson University

in partial fulllment of the requirements for the degree of Master of Applied Science in the Program of Aerospace Engineering

Toronto, Ontario, Canada, 2017 c Issi-Rae Emanuelle George 2017

AUTHOR'S DECLARATION FOR ELECTRONIC SUBMISSION OF A THESIS

I hereby declare that I am the sole author of this thesis. This is a true copy of the thesis, including any required nal revisions, as accepted by my examiners.

I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research.

I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research.

I understand that my dissertation may be made electronically available to the public.

ii

A Multirotor Vehicle Performance Prediction Method
Issi-Rae Emanuelle George

Master of Applied Science, Aerospace Engineering, Ryerson University (2017)

Abstract
A method has been developed to predict the performance of small multirotor vehicles. Using the vehicle geometry, rotor geometry and ight conditions as inputs, the aerodynamic performance is found through an interpolation method using tabulated rotor performance data. The model is able to predict performance in hover and forward ight, and can produce results quickly and easily, making the prediction model a powerful tool. The vehicle performance prediction model also includes a wake interference model that captures the eect of rotors and their shed wakes on others rotors in the vicinity. When compared to ight test data, the method shows good agreement when predicting the angle of attack, rotational velocity and power requirements of the vehicle. The eect of the vehicle orientation on the performance of the vehicle was investigated showing that during fast forward ight, the vehicle requires about 5% less power in a diamond conguration than in a square conguration.

iii

Acknowledgements
I would like to thank my parents, siblings and friends for their love and support. Without your unending encouragement and faith in my ability I would not have been able to complete this work. Thank

you to the professors and sta in the engineering department at Ryerson Universtity, escpecially Jerry Karpynczyk. Without your hardwork, the wind tunnel and test stand project would not have moved forward as swiftly as it had. To the FSAE team at my alma mater, the University of Western Ontario: I would not have had the work ethic and perserverance to complete this project without the long nights spent at the shop. To Je Mock, thank you for encouraging me to take a leap and start this degree. To my colleagues at the Ryerson Applied Aerodynamics Laboratory of Flight (RAALF), thank you for lending an ear when I needed one, for the invaluable advice and the laughs. Thank you to Nasa, who believed in me. I would like to acknowledge Aeryon Labs Inc. for their nancial and expert support, especially Your experience in the eld greatly aided this

Brandon Pinkey, Michael Tribou and Mike Peasgood.

project. Thank you to Tim Carroll for allowing me to use your work in this project. Thank you to the Ontario Centres of Excellence and NSERC whcih made this research possible. Finally, I would like to acknowledge my supervisor, Dr. Goetz Bramesfeld for organizing this work and putting your trust in me to take it on. Thank you for introducing me to the eld of rotorcraft, for your technical guidance, professional development and constant support through the program.

iv

Table of Contents
Declaration Abstract
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . ii iii iv vii . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

Acknowledgements List of Tables List of Figures List of Symbols
1 Introduction

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . viii . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . x xi

List of Appendices

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

1

1.1 1.2 1.3 1.4

Multirotor Small Unmanned Aerial Systems . . . . . . . . . . . . . . . . . . . . . . . . . . Multirotor sUAS Aerodynamics . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Aerodynamic Performance Analysis Methods Contribution . . . . . . . . . . . . . . . . . . . . . . . . .

1 3 5 6

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

2

Mulitrotor Vehicle Performance

8

2.1 2.2 2.3

Equations of Motion

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

9 10 11 12 13 14 16 19

Multirotor Vehicle Thrust . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Multirotor Vehicle Power 2.3.1 2.3.2 2.3.3 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

Parasitic Power . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Rotor Power . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

Interference Power

2.4 2.5

Rotor Thrust and Power . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Advancing/Retreating Blade . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

v

3

Multirotor Vehicle Performance Model

22

3.1 3.2 3.3

Methodology

. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

22 25 31 31 34 39 41 42

Parasitic Drag Module . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Rotor Module . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.3.1 3.3.2 3.3.3 3.3.4 Table Lookup Method . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Rotor Aerodynamic Performance Prediction . . . . . . . . . . . . . . . . . . . . . . Experimental Rotor Performance . . . . . . . . . . . . . . . . . . . . . . . . . . . . Comparisons with Other Experimental Facilities . . . . . . . . . . . . . . . . . . .

3.4

Wake Interference Module . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

4

Multirotor Vehicle Performance Model Validation

48

5

Case Studies

52

5.1 5.2 5.3

Eect of Altitude . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Eect of Weight . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

52 56 58

Eect of Orientation in Forward Flight . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

6

Conclusions

62

Appendices

64

Bibliography

105

vi

List of Tables
3.1 3.2 3.3 Dimensions of SkyRanger components. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Values for determining Reynolds number for components of Aeryon Skyranger. . . . . . . 30 30 Predicted Reynolds number, parasitic drag coecient and parasitic drag for AeryonSkyranger components. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.4 Solution time for studies in Figs.3.18 b-d . . . . . . . . . . . . . . . . . . . . . . . . . . . . 31 45

vii

List of Figures
1.1 1.2 1.3 Two types of small unmanned aerial systems. . . . . . . . . . . . . . . . . . . . . . . . . . 1 2 5 Depiction of standard quadrotor conguration[4]. . . . . . . . . . . . . . . . . . . . . . . . Wake geometry of rotor blade in hover [14]. . . . . . . . . . . . . . . . . . . . . . . . . . .

2.1 2.2

Free-body diagram of sUAS in forward ight.

. . . . . . . . . . . . . . . . . . . . . . . . .

9

Total power required and power decomposition for the lead rotor of a quadcopter in forward ight. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12 14 15 15 16

2.3 2.4 2.5 2.6 2.7

Eect of induced velocity on rotor airfoil section[23]. . . . . . . . . . . . . . . . . . . . . . Induced velocity vectors produced by rotor in hover. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

Power required for coaxial and single rotor conguration[17].

Power required for coaxial and single rotor conguration [17]. . . . . . . . . . . . . . . . . Experimental performance coecients for ASP130 rotor taken in the Ryerson University Large Subsonic Wind Tunnel. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

18 19 20 21

2.8 2.9

Velocities acting on element of rotating blade at azimuth angle

 [19]. .

. . . . . . . . . . .

Flow diagrams for advancing and retreating blade conditions. . . . . . . . . . . . . . . . .

2.10 Normal force coecient versus angle of attack [24]. . . . . . . . . . . . . . . . . . . . . . .

3.1 3.2 3.3

Performance model ow chart . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Vehicle orientation and rotor numbering convention. . . . . . . . . . . . . . . . . . . . . .

23 24

Aeryon Skyranger with labeled components: A) centre body B) rotor arms C) landing gear[1]. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25 26 28

3.4 3.5

Drag coecient versus Reynolds number for sphere and cylinder[19]. . . . . . . . . . . . . Aeryon Scout body mounted on balance. . . . . . . . . . . . . . . . . . . . . . . . . . . . .

viii

3.6 3.7 3.8 3.9

Lift and drag coecients measured in wind tunnel for Aeryon Scout body. . . . . . . . . . Dynamic pressure versus thrust per density for a rotor at 0 degrees angle of attack. . . . . Algorithm for rotor performance interpolation method. . . . . . . . . . . . . . . . . . . . . Rotor sectional element with acting velocities and forces[19]. . . . . . . . . . . . . . . . . .

29 32 33 35 37 38 39 40 41 42 42 44 46

3.10 Predicted performance coecients for MA11x7 rotor 3.11 Predicted performance coecients for MA11x7 rotor

= =

0 deg. . . . . . . . . . . . . . . . 30 deg. . . . . . . . . . . . . . .

3.12 Ryerson University Large Subsonic Wind Tunnel drawing[26]. . . . . . . . . . . . . . . . . 3.13 Test stand angle convention for propeller testing. . . . . . . . . . . . . . . . . . . . . . . . 3.14 Propeller performance testing apparatus with labeled components. . . . . . . . . . . . . .

3.15 Comparison of experimental and predicted MA11x7 rotor performance at 90 degrees. . . . 3.16 Vortex rings representing a series of wakes shed by rotor. . . . . . . . . . . . . . . . . . .

3.17 Geometry of skewed wake. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3.18 Wake interference model results comparison with analytical results. . . . . . . . . . . . . .

4.1 4.2 4.3

Comparison of predicted and measured vehicle angle of attack versus forward velocity. . . Comparison of predicted and measured rotational velocity versus angle of attack. . . . . . Comparison of predicted and measured power versus angle of attack. . . . . . . . . . . . .

49 50 51

5.1

Experimental performance prediction for Aeryon SkyRanger using T-Motor rotors at 1000 ft. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54

5.2 5.3 5.4 5.5 5.6 5.7

Rotor power predictions versus forward ight speed at various altitudes for T-Motor rotor. 55 Thrust per rotor versus forward ight speed for sUAS with three dierent ight masses. . 56 57 57 58

Angle of attack versus forward ight speed for sUAS with three dierent ight masses. . . Force triangle depicting eect of weight on vehicle angle of attack. . . . . . . . . . . . . .

Rotor power versus forward ight speed for sUAS with payloads and empty weight. . . . . Total power required for diamond and square conguration using T-Motor rotor experimental data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

59

5.8

Rotor power required and interference power for diamond and square conguration using T-Motor rotor experimental data. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 61

ix

List of Appendices
A Wind Tunnel Data 64

A.1 A.2 A.3

Uncertainty Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Experimental Procedure . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Data Reduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

64 65 66

B

Rotor Performance Tables

69

C

MATLAB Scripts

74

x

List of Symbols
     B CDo CM = CPx = CP = CT = D DL Dpar J= m
V nD M n2 D 5 Px n2 D 4 P n3 D 5 T n2 D 4
Vehicle angle of attack (deg) Blade circulation Rotational velocity (rpm)

Azimuth angle (deg)

Air density (kg/m )

3

Number of rotor blades

Parasitic drag coecient

Pitching moment coecient

Normal force coecient

Power coecient

Thrust coecient

Rotor diameter (m)

Characteristic length (m)

Parasitic drag (N)

Advance ratio

Mass ow rate (kg/s)

xi

n Px Pind,int Pind Ppar Ppro Prot Ptot Re T vi V W w

Rotational velocity (rps)

Normal force (N)

Interference induced power (W)

Induced power (W)

Parasite power (W)

Prole power (W)

Rotor power (W)

Total power required (W)

Reynolds number

Required thrust (N)

Induced velocity (m/s)

Freestream velocity 9m/s)

Vehicle weight (N)

Downwash produced by rotor (m/s)

cc c
BEMT

subscript denotes basedrag values

subscript denotes corrected values

Blade Element Momentum Theory

CFD

Computational Fluid Dynamics

RAALF

Ryerson Applied Aerodynamics Laboratory of Flight

SUAS

Small Unmanned Aerial System

UAV

Unmanned Aerial Vehicle

VTOL

Vertical Take-O and Landing

xii

Chapter 1

Introduction
1.1 Multirotor Small Unmanned Aerial Systems
Multirotor small unmanned aerial systems (sUAS) have become increasingly relevant in recent years. Multirotor sUAS, like the Aeryon SkyRanger quadrotor in Fig.1.1a, are versatile systems used for reconnaissance missions, for example inspection of power lines, oil rigs and crop surveillance. These vehicles fall into the vertical take-o and landing (VTOL) category of unmanned aerial systems. Unlike xed wing UAVs, similar to the one pictured in Fig. 1.1b, multirotor sUAS can operate in both forward ight and hover.

(a) Aeryon SkyRanger quadrotor sUAS[1].

(b) Small xed wing UAV[2].

Figure 1.1: Two types of small unmanned aerial systems.

Their ability to y steadily at low speeds and altitudes is useful for surveillance, while the ability to take o and land vertically proves useful for operation in areas with rugged or uneven terrain. Small 1

CHAPTER 1.

INTRODUCTION

1.1.

MULTIROTOR SMALL UNMANNED AERIAL SYSTEMS

unmanned aerial systems are desirable as they are also quieter and cheaper to operate than larger rotorcraft such as helicopters. The quadrotor conguration oers a popular and relatively simple approach to stability and control. Quadrotor vehicles operate by having four, in-plane rotors in a cross conguration. Figure 1.2 illustrates the operation of quadrotor vehicles. Rotors opposite to each other rotate the same direction, with the pairs of rotors operating in opposite directions. whole aects the movement of the vehicle. The rotational velocity of the rotors in pairs or as a

For example, to increase the altitude of the vehicle, the The relative ease of

rotational velocity of all four rotors is increased together, increasing the thrust.

controlling these vehicles at hover and slow ight have made them very popular for many applications. For example, the ability to operate an sUAS easily appeals to everyday consumers who would use the vehicles recreationally, while their slow ight and ability to hover has made them popular for military purposes, and for use in the lm industry [3]. The controls, however, become signicantly more complicated at higher speeds and when performing maneuvers. The challenges at higher speeds are primarily due to the highly nonlinear aerodynamics of these vehicles.

Figure 1.2: Depiction of standard quadrotor conguration[4].

The growing interest in the further development of multirotor sUAS has been spurred by the advancement in the technology used to operate these vehicles and the miniaturization of sensors that use sUAS as platforms. Multirotor sUAS are operated by controllers that gather information from various sensors on board the vehicle, such as accelerometers and directional sensors. The control systems have 2

CHAPTER 1.

INTRODUCTION

1.2.

MULTIROTOR SUAS AERODYNAMICS

seen major development over the past years through the miniturization of sensors and actuators, which aid in the reduction of power requirements [5]. Improvements to the motors that power sUAS have

provided a decrease in cost, weight and packaging of the vehicles, allowing them to be further decreased in size [5]. As these advancements continue to decrease the cost and size of the vehicles, sUAS become more popular for dierent markets and their possible areas of application increase.

1.2 Multirotor sUAS Aerodynamics
The need for stable and controlled ight has lead to a large research focus on control systems of multirotor systems and less on aerodynamics [6]. Although control systems are a key component to controlled ight, it is essential to understand the aerodynamics of the vehicle as well. Bouabdallah has shown that rotor aerodynamics greatly aect motor control, as the forces and moments that are used in stability and control models can be directly attributed to the rotor[4]. In order to further expand the ight envelope of these systems, for example to y at increasingly higher speeds, better aerodynamic models need to be included in controller designs. Several factors complicate the analysis of the aerodynamics of multirotor sUAS. To begin, the size of the rotors used to produce thrust is much smaller than the conventional helicopter rotor with diameters usually ranging from 6-22 inches [7]. Small diameter rotors operate at lower Reynolds numbers typically from 30,000-300,000 based on the chord length at the

3 4 blade station [8], making scaling data from large

rotors unreliable due to missing data at the low Reynolds number range. Airfoil data is often unreliable and dicult to predict at low Reynolds numbers, as ow behaves highly nonlinear in this region[9]. Airfoil performance decreases as the Reynolds number decreases. As the Reynolds number decreases, there is a drop in the maximum section lift coecient, coecient,

clmax ,

and an increase in the minimum drag

cdmin [10].

A decrease in the

clmax

results in the blade section to stall earlier.

Another challenge arises from the wakes shed during the rotation of the blade. Young compared wake analysis methods and showed that the improper representation of the wake geometry causes the failure of most prediction models[11]. However, modelling these wakes in hover and forward ight proves to be a dicult task due to the complexity of the wakes, as there are many eects that occur simultaneously. For example, a multirotor vehicle requires rotors to operate in close proximity to one another. In Ref. [12], the eects of multirotor vehicles operating in close proximity to one another are explored. Micro

3

CHAPTER 1.

INTRODUCTION

1.2.

MULTIROTOR SUAS AERODYNAMICS

quadrotor vehicles were own in close formation in multiple scenarios, having them travel in either the same direction or in opposite directions. The scenarios showed neighbouring rotors can have positive and negative aects on each other, depending on whether they are in the downwash or upwash of another vehicle. Another issue arises in forward ight, as the wakes shed from the rotor plane are highly skewed. Both the rotors and their shed wakes induce a velocity in the ow eld and thus, may impact the performance of other rotors. In Ref.[13] a practical method for computing the velocities induced by a rotor is presented. Results show that the velocity induced by the rotor at a specic point is aected by the skew angle of the rotor wake. The skew angle of a wake, discussed in Sec. 3.4, is a function of the angle of attack, the thrust, forward ight velocity and the advance ratio, forward velocity,

J,

which is the ratio of the

V ,

to the rotor tip speed,

nD: V nD n
is the rotational velocity.

J=
where

(1.1)

D

is the diameter of the blade in meters and

Uneven blade loading also aects the shape of the wake, increasing the diculty of modelling. Blade loading increases near the tip of the rotor blade, increasing the vortex strength at the tip. As the wake propagates downward, the wake contracts and the tip vortex moves inward and close to the rotor plane. This results in an upwash eld that the next blade passes over [14]. Due to the uneven blade loading, the outside of the wake propagates downward faster than the inside, further complicating the geometry of the wake, as it becomes inclined to the rotor plane. This eect is depicted in Fig. 1.3. The assumption that the rotors used to propel these sUAS experience light loading allow for the assumption of a uniform helix shaped wake[15].

4

CHAPTER 1.

INTRODUCTION 1.3.

AERODYNAMIC PERFORMANCE ANALYSIS METHODS

Figure 1.3: Wake geometry of rotor blade in hover [14].

1.3 Aerodynamic Performance Analysis Methods
A major design challenge of sUAS is to minimize the power required for ight in order to maximize endurance for missions. Assessing the power requirements of a multirotor vehicle is not straight forward, as there are many variables that aect the overall power required for ight. Examples include the weight of the vehicle, ight velocity, altitude and the type of rotor used. be made when designing these vehicles. Tradeos between variables must

For example, the addition of battery packs will increase the

total power available. The additional weight of the battery, however, also increases the power required. Payloads such as cameras also add weight and drag to the vehicle, also aecting the overall power requirements of the vehicle. Currently there are dierent methods used to analyze the aerodynamic performance of multirotor sUAS. Computational uid dynamics (CFD) methods, which solve the Navier-Stokes equations for ow around the rotor blades, can be used to predict vehicle and rotor performance. In Ref.[16], a CFD

analysis was conducted on a helicopter scale model with focus on the main-rotor blades. The purpose of this study was to investigate the viability of CFD simulations with sUAS. The simulation showed good agreement with experimental data for hovering ight, with some diculties predicting performance in forward ight as moments in pitch and roll began to emerge. While CFD simulations may produce good predictions, the method tends to be computationally expensive and time consuming, and is not feasible

5

CHAPTER 1.

INTRODUCTION

1.4.

CONTRIBUTION

for the early stages of conceptual design, where it is necessary to solve multiple design congurations quickly. Furthermore, CFD only provides limited insight since it only generates integrated loads. The integrated loads developed using CFD make it dicult to identify the source of performance penalties, for example whether they are related to wake eects or due to conguration choices. As a rotor performance prediction method, the blade element momentum theory (BEMT) combines the blade element and momentum theory models of rotors and oers an approach that is computationally ecient, while still able to produce good predictions [17, 18, 19]. As the blade element momentum theory is only a rotor analysis tool, it must be used in conjunction with another model to produce vehicle performance predictions. Wind tunnel testing is another method used for analyzing the performance of multirotor sUAS. A project performed at the wind tunnel at NASA Ames Research Center tested a number of multirotor sUAS, measuring the full body vehicle forces and moments at various angles of attack and forward ight velocities[7]. The project was performed to address the lack of published data for the performance of sUAS, and showed that wind tunnel testing can be used to produce data for validating analytical and numerical models. While wind tunnel testing is a good method for measuring performance, it is not the most versatile performance prediction method as tunnel access is not readily available to most designers. In addition, this method would be expensive and time consuming if used in the preliminary design phase, as an existing prototype would need to be made. While wind tunnel testing can give an overall measure of the vehicle performance, it does not provide a detailed breakdown of the sources of the performance cost.

1.4 Contribution
In order to aid the design process of small multirotor vehicles and their rotors, a multirotor vehicle performance prediction method was developed. For known ight conditions, for example, hover or

vehicle orientation, and vehicle conguration parameters, the prediction model can be used to predict certain performance characteristics, such as the power and thrust required over the ight range. This thesis discusses in detail the vehicle performance prediction model and the components of the model. The prediction model is validated using ight-test data provided by Aeryon Labs Inc, a designer and manufacturer a sUAS based in Waterloo, Ontario. Finally, several design studies are presented in which

6

CHAPTER 1.

INTRODUCTION

1.4.

CONTRIBUTION

the performance impact of various ight conditions and aircraft congurations are explored.

7

Chapter 2

Mulitrotor Vehicle Performance
The term multirotor vehicle performance" used in this thesis refers to the power required,

Preq ,

of a

multirotor vehicle for a given ight condition. The power required for ight is an important metric, as the vehicle battery can supply only a limited amount of power. The power required limits the endurance of the vehicle, how long the vehicle can stay airborne. Identifying the factors that aect the power

required and including aerodynamic eects in the control system models that operate the vehicle will enable designers to improve the endurance and range of the vehicle, making them more appealing to consumers [20]. Understanding the contribution of the factors that aect the power required over a ight range is essential to making an accurate prediction of the performance, though it is a dicult task as there are dierent eects occurring simultaneously. Low speed Reynolds number eects increase the diculty of rotor performance prediction due to highly nonlinear behaviour of airow in this region. In addition, rotors operating in close proximity to each other complicates the problem of performance prediction, as rotors and their wakes inuence the performance of neighboring rotors. The forces that act on a multirotor vehicle during steady, horizontal ight are shown in Fig. 2.1. The angle of attack,

,

is the angle at which the vehicle is angled to the freestream velocity,

V .

In the

work presented here, the angle of attack is considered positive when the freestream velocity impinges the reference line, here dene by the rotor plane, from above. The freestream velocity,

V ,

is parallel

to the ight path. Subsequently, the vehicle drag is in opposite to the vehicle motion. The weight, acts negatively along the z-axis.

W,

The thrust, T, is the force produced by the rotors to overcome the

8

CHAPTER 2.

M-R VEHICLE PERFORMANCE

2.1.

EQUATIONS OF MOTION

weight and drag of the vehicle and acts perpendicular to the rotor plane. Finally the in-plane normal force produced by the rotor,

Px ,

acts perpendicular to the axis of rotation.

Figure 2.1: Free-body diagram of sUAS in forward ight.

In this chapter, the equations of motion that govern the ight of multirotor sUAS are introduced and important performance metrics are discussed, in particular, exploring their relation to each other and the overall vehicle performance. The concept of the power required is also discussed in greater detail, decomposing the power required into its components and explain the factors that aect them.

2.1 Equations of Motion
Using the free-body diagram presented in Fig. 2.1, the equations of motion in the longitudinal plane can be derived by totaling the forces acting on the vehicle:

0 = Dpar + Px cos - T sin

(2.1)

0 = T cos + Px sin - W
Rearranging Eq. 2.2 for

(2.2)

cos: W - Px sin T
9

cos =

(2.3)

CHAPTER 2.

M-R VEHICLE PERFORMANCE

2.2.

MULTIROTOR VEHICLE THRUST

Substituting in Eq. 2.1 and multiplying both sides by thrust, T, yields:

T Dpar + Px (W - Px sin) - T 2 sin = 0
Rearranging for

(2.4)

sin: Px W + Dpar T 2 T 2 + Px

sin =

(2.5)

Rearranging Eq. 2.2 and using the angle of attack, thrust is:

T =
The normal force,

W - Px sin cos

(2.6)

Px , is a function of the angle of attack, though the value of the normal force is required

to nd the angle of attack in Eq. 2.5. This dependency results in the need for an iterative solution to evaluate the angle of attack and the thrust. This process is discussed in Section 3.1.

2.2 Multirotor Vehicle Thrust
Using the equations of motion, the variables that eect the overall vehicle thrust can be explored. Referring to Eq. 2.6, the dependency on the weight of the vehicle is shown. As the weight is increased, the required thrust is increased as well. Equation 2.1 can also be rearranged to describe the thrust,

showing the dependency on the parasitic drag:

T =

Dpar + Px cos sin

(2.7)

For an increase in the parasitic drag, there is an increase in the required thrust. By looking at what constitutes the parasitic drag, other variables that aect the required thrust become more apparent. The parasitic drag of the vehicle body can be expanded using the non-dimensional variable

CDo ,

as:

Dpar =
where

1 CD V 2 Sw 2 o 

(2.8)

CDo

is the parasitic drag coecient and

Sw

is a reference area. Parasitic drag depends on form

drag and the size of object matters with regards to that drag value. Furthermore, altitude, at which the 10

CHAPTER 2.

M-R VEHICLE PERFORMANCE

2.3.

MULTIROTOR VEHICLE POWER

vehicle operates, also aects the drag of the vehicle. With an increase in the altitude, the air density,

,

decreases. This will result in a decrease in the parasitic drag if the other variables are kept constant.

Finally, an increase in the forward velocity of the sUAS will once again result in an increase in drag. It is important to understand the contribution of these variables as they not only aect the production of thrust, but the production of drag and thus, the power required. This is further explored in the following section.

2.3 Multirotor Vehicle Power
The power required of a multirotor vehicle can be expressed using a power decomposition:

Ptot = Prot + Ppar + Pind,int
where

(2.9)

Prot

is the power that is required to operate the rotor,

Ppar

is the parasitic power, which is related

to the drag of the fuselage and other extremities, and

Pind,int ,

which is the induced interference power.

Each of the components is discussed in detail in this section. To better predict the performance of a multirotor sUAS, it is important to understand how the components are aected by factors such as physical attributes of the vehicle and ight conditions. A power decomposition, where the total power required and its components are plotted over a range of velocities, can be performed to understand the performance of the vehicle and identify areas that can be improved. A power decomposition is shown in Fig. 2.2 for the example of the lead rotor of a sUAS with a The gure

quadcopter conguration during steady and horizontal ight for standard sea level ight. shows the total power required with separate lines for the contributing components.

Parasitic power 2.10.) The

is zero during hover, but increases approximately with the cube of the velocity (see Eq.

parasitic power, of which only one-fourth is shown, is directly attributed to the physical geometry of the vehicle as it is related to the drag of the body, landing gear and support arms. Therefore, variables such as the number of rotors used, and therefore, arm components required for mounting the rotors, aect the parasitic power.

11

CHAPTER 2.

M-R VEHICLE PERFORMANCE

2.3.

VEHICLE POWER

Figure 2.2: Total power required and power decomposition for the lead rotor of a quadcopter in forward ight.

The interference power is due to several rotors being in close proximity, which actually reduces the total power required, because of the induced upwash eld. This is especially evident from 0 m/s to 5 m/s where the pure rotor power that is required to produce a desired thrust, is larger than the total power that is actually required. The negative interference power decreases the total power required, showing an assistance from the other rotors. The interference power is discussed more in detail in the following sections. At high speeds, the penalty of parasitic power results in a relatively steep increase in power required. This can be used to nd the optimal ight speed that maximizes ight range and endurance. With an evident dependency on the components of the power required across the ight regimes, the performance of multirotor vehicles can be improved with a better understanding of the contributions of each of the components. The following sections will introduce the components in detail.

2.3.1

Parasitic Power

Parasitic power is directly attributed to the aerodynamic form drag produced by the vehicle components, which are the body, rotor support arms, landing gear and any components not directly related to the rotors. Thus, the parasitic drag is the total drag of the sUAS, with the exception of any drag related to the rotors. The parasitic power can be expressed as:

12

CHAPTER 2.

M-R VEHICLE PERFORMANCE

2.3.

VEHICLE POWER

Ppar = Dpar V
Referring to Eq.

(2.10)

2.8, the parasitic drag is proportional to the square of the freestream velocity. The

Therefore, the parasitic power, in a rst approximation, is proportional to the velocity cubed.

parasitic drag, composed of the skin friction drag and the pressure drag, is aected by the shape of the components and the surface quality. For example, more streamlined objects produce less pressure drag as ow separation is less likely to occur. Rough surfaces can cause ow to transition from laminar ow to turbulent ow, which may increase drag.

2.3.2

Rotor Power

The power that is required for a rotor to produce thrust, can be separated in prole power and the induced power:

Prot = Ppro + Pind
The prole power,

(2.11)

Ppro

is the power associated with the prole drag of the blade. The induced power, It is related to the self induced ow eld

Pind .

is related to the velocities that the rotor induces.

and is in contrast with the induced interference power, which is a result of the rotor interacting with rotors and their wakes in its vicinity. Both the induced power and prole power are directly attributed to the rotor and its geometry and are therefore aected by the type of rotor used for propulsion. In

Ref.[21], Gustafson compares the eect of the prole drag of helicopter rotors on the total power required, evaluating the performance of dierent rotor blades. The prole drag is aected by the sectional airfoil used for the rotor blade and its geometric characteristics. For example, Gustafson showed an increase in the thrust produced and a decrease in the power required for hovering ight when using a low-drag NACA 3-H-13.5 airfoil section, instead of the thicker proled NACA 23015 [21, 22]. Gustafson's studies show the importance of the rotor geometry as it can impact the production of thrust and the overall vehicle performance. The induced power is directly related to the production of thrust and the induced velocity,

vi :

Pind = T vi
13

(2.12)

CHAPTER 2.

M-R VEHICLE PERFORMANCE

2.3.

VEHICLE POWER

In Fig. 2.3 a section of a rotor airfoil is shown during hover. The presence of the induced velocity, named

w

in this gure, reduces the sectional angle of attack,

,

by

i ,

tilting the lift vector backwards.

The resulting component of the lift in the horizontal direction is the induced drag.

Figure 2.3: Eect of induced velocity on rotor airfoil section[23].

2.3.3

Interference Power

The interference power is the result of rotors and their wakes operating in close proximity and inuencing each other. The ring in Fig. 2.4 represents a rotor in hover. The prediction of the induced ow eld using the wake interference module is discussed in detail in Section 3.4. Note, the vectors are scaled to make the ow directions more easily noticeable. The direction and strength of the induced velocity vectors change with proximity to the rotor plane. These induced velocities have an inuence on neighbouring rotors. Rotors caught in a downwash require more power in order to produce a certain amount of thrust. In contrast, rotors located in a region of upwash require less power for the same amount of thrust. This component of the power required caused by the induced velocity of rotors in proximity is called the interference induced power,

Pind,int ,

and can be expressed as:

Pind,int = T vi,int
where

(2.13)

T

is the thrust and

vi,int

is the induced interference velocity, the velocity induced on a particular

14

CHAPTER 2.

M-R VEHICLE PERFORMANCE

2.3.

VEHICLE POWER

rotor by its neighbouring rotors.

Figure 2.4: Induced velocity vectors produced by rotor in hover.

This eect can be seen when comparing rotors in a coaxial conguration, where the rotors are stacked one atop the other, to the single rotor conguration. Figure 2.5 shows the rotor power that

the two congurations require during forward ight versus the advance ratio as it is dened in Eq. 1.1 and referred to as

Âµ

in this gure.

For the same advance ratio, the coaxial conguration requires a

greater rotor power. In addition to the added drag due to additional components needed for the coaxial conguration, the interference between the two rotors and their wakes increases the power required by a factor of nearly three during hover.

Figure 2.5: Power required for coaxial and single rotor conguration[17].

15

CHAPTER 2.

M-R VEHICLE PERFORMANCE

2.4.

ROTOR THRUST AND POWER

2.4 Rotor Thrust and Power
The production of thrust, the upward force produced by the rotor that is responsible for the propulsion of the vehicle, can be explained using classical momentum theory analysis. Shown in Fig. 2.6 is a

helicopter in axial ight [17]. In classical momentum theory, it is assumed that over the rotor disc, the velocity is constant and pressure is uniform. The ow is assumed to be incompressible.

Figure 2.6: Power required for coaxial and single rotor conguration [17].

From momentum theory:

T = mw 
where

(2.14)

w

is the downwash, the velocity of the far wake and

m 

is the mass ow rate through the rotor

blade. For a constant mass ow rate:

m  = Avi
The downwash is related to the induced velocity by:

(2.15)

w = 2vi

(2.16)

16

CHAPTER 2.

M-R VEHICLE PERFORMANCE

2.4.

ROTOR THRUST AND POWER

Substituting Eq. 2.15 and Eq. 2.16 in Eq. 2.14, the thrust in hover is:

2 T = 2Avi

(2.17)

The rotor power is related to the thrust by the induced velocity:

3 P = T vi = 2Avi

(2.18)

The thrust and rotor power are in coecient form:

CT =

T n2 D4

(2.19)

CP =
where

P n3 D5

(2.20)

n is the rotational velocity of the rotor blade and D

is the diameter of the blade. The performance

coecients are used to more easily compare rotors of dierent sizes or performance of rotors operating at dierent altitudes or rotational velocities. To more easily assess the performance of rotors, the

performance coecients are commonly plotted versus the advance ratio for a range of angle of attacks and rotational velocities. An example is shown in Fig. 2.7, which shows experimental data taken in the Ryerson University Large Subsonic Wind Tunnel. Two sets of data at rotational velocities of 3000 rpm, 4000 rpm and 5000 rpm are presented, for an angle of attack of 0 degrees. Referring to Fig. 2.7a, the thrust coecient increases as the advance ratio increases. Comparing the data sets between rotational velocities, it is shown that for the same advance ratio, the thrust coecient increases with the rotational velocity. In both Figs. 2.7a and 2.7b, we see that between rotational velocities, there is only a slight increase and decrease in the

CT

and

CP

respectively for the same angle of attack.

17

CHAPTER 2.

M-R VEHICLE PERFORMANCE

2.4.

ROTOR THRUST AND POWER

(a) Eect of advance ratio on thrust coecient.

(b) Eect of advance ratio on power coecient
Figure 2.7: Experimental performance coecients for ASP130 rotor taken in the Ryerson University Large Subsonic Wind Tunnel.

18

CHAPTER 2.

M-R VEHICLE PERFORMANCE

2.5.

ADVANCING/RETREATING BLADE

2.5 Advancing/Retreating Blade
During forward ight, the rotor blade of an sUAS experiences a nonuniform inow eld and, thus, uneven blade loading. This uneven velocity eld causes eects known as advancing and retreating blade eects. Figure 2.8, shows a rotor blade during forward ight. The azimuth angle,

,

is the angular position of

the rotor blade which is measured positively in the direction of rotation. The blade is advancing when traveling in the direction of ight and retreating when traveling opposite the direction of ight.

Figure 2.8: Velocities acting on element of rotating blade at azimuth angle

 [19].

Diagrams of the velocity vectors of the advancing and retreating blade are shown in Fig. 2.9. On the advancing side, blade tip speed,

R,

and the forward ight speed,

V ,

are summed, while on the

retreating side, the blade tip speed is opposite to the forward ight speed, which results in a decrease in the horizontal component of the eective velocity,

Vef f .

On the retreating side, the eective velocity

vector is angled closer to the zero lift line (the dotted line in Fig. 2.9 ) than in the case of the advancing blade. Subsequently, the eective angle of attack, reduces the section lift component,

ef f ,

is reduced on the retreating blade. This in turn

l,

on the retreating side, causing an asymmetric production of lift.

The resulting horizontal component results in a net force in the plane of rotation,

Px .

19

CHAPTER 2.

M-R VEHICLE PERFORMANCE

2.5.

ADVANCING/RETREATING BLADE

(a) Advancing blade.

(b) Retreating blade.
Figure 2.9: Flow diagrams for advancing and retreating blade conditions.

Due to the larger horizontal component when the blade is advancing than retreating, for the same induced velocity the angle of attack,

,

is larger for an advancing blade than a retreating blade. The

asymmetric loading creates a roll moment at

90

and

270 .

While some helicopter blades are articulated,

allowing them to ap, multirotor sUAS blades do not ap, though they do experience small plastic deformations. Performance measurements taken in the Ryerson University Large Subsonic Wind Tunnel measure the roll moment as a pitching moment since the rotors are mounted as propellers in the tunnel. The pitching (roll) moment,

M,

can be expressed in coecient form as:

CM =

M n2 D5

(2.21)

Although the proposed model is capable of predicting the pitching moment, a moment trim solution is not the focus of the herein discussed research. Therefore, the pitching moment is disregarded. The horizontal normal force present in the axis of rotation can be expressed in coecient form [18]:

20

CHAPTER 2.

M-R VEHICLE PERFORMANCE

2.5.

ADVANCING/RETREATING BLADE

CPx =

Px n2 D4

(2.22)

As the normal force is dependent on the angle of attack and advance ratio, the normal force is not present during hover. Randall provides a study on the aerodynamics of micro air vehicles where the

forces acting on the propulsion system were investigated [24]. Figure 2.10 shows the aect on the angle of attack on the normal force coecient (referred to as

CN

in the provided example.) As the angle of

attack increases, the normal force steadily increases as well.

Figure 2.10: Normal force coecient versus angle of attack [24].

21

Chapter 3

Multirotor Vehicle Performance Model
As part of the herein discussed research, a multirotor vehicle prediction method was developed using MATLAB. For known ight conditions, angle of attack and required thrust, the multirotor vehicle performance prediction model predicts performance metrics over the ight envelope. For example, for a known angle of attack and forward velocity of the vehicle, the power required and parasitic drag can be predicted. The vehicle performance model is a useful tool to aid in conceptual design as the geometrical aspects of the vehicle and physical conditions can be easily changed to study the eect on performance. In this chapter, the vehicle performance prediction model is discussed in detail.

3.1 Methodology
The vehicle performance model is composed of three subfunctions that evaluate the components of the total power required: the parasitic drag module, rotor performance module and the wake interference module. An overview of the workow of the model is shown in Fig. 3.1. Each of the subfunctions is discussed in detail in the following sections. The model inputs are the freestream ow conditions and the rotor and vehicle geometry, while the air density is calculated as a function of the vehicle's altitude. The outputs include the power required per rotor, the vehicle angle of attack and the rotational velocity and thrust required by each rotor. Overall, the program is organized in modules that are easily modied or exchanged in order to be able to respond to conguration changes.

22

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.1.

METHODOLOGY

Input: V, , h , q Rotor Geometry Vehicle Geometry

Parasitic Drag Module: Output: DPAR , PPAR (Eqs. 2.8 and 2.10)

Rotor Performance Module:

I.C.  = 0; Use previous  and calculate TREQ

Rotor Module: n, J, PROT, Px , CM, (Eq. 3.8)

NO
Recalculate  (Eq. 2.5)

Check  convergence

YES

Wake Interference Module (per rotor): Output: PIN,INT

PTOT=PROT+PPAR +PIN,INT (Eq. 2.9)

Figure 3.1: Performance model ow chart

Over a ight speed range the angle of attack, thrust, rotational velocity and power required per rotor are computed. For each velocity point, the vehicle performance model begins with the prediction of the parasitic drag and power using the ow conditions and the geometry of the vehicle components. In the rotor performance module, an iterative method which converges on the angle of attack is performed to evaluate the thrust, normal force, roll moment, rotational velocity and rotor power. In each iteration,

23

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.1.

METHODOLOGY

the thrust and angle of attack are used in an interpolation scheme of tabulated performance data to evaluate the performance variables. This process is discussed in Section 3.3.1. After a thrust has been determined during the previous iteration, the angle of attack is recomputed using Eq. 2.5 and compared with the value of the previous iteration step. calculated using Eq. 2.7. The next velocity point starting angle of attack and thrust are based on the values of the previous case. The special case is hover, where the angle of attack is zero and the thrust is equivalent to the With the rotor power evaluated, the next step in the workow model is the If convergence is not achieved, a new thrust value is

weight of the vehicle.

wake interference module. In this module, the induced interference power, the power produced by the interaction between a rotor and the wake it sheds as well as rotors in proximity, is evaluated for each rotor. Finally, the total power per rotor is then calculated using Eq. 2.9. Note, the total power is a

summation of the rotor power, parasitic power and the induced interference power, which may dier between rotors. Thus, the total power required is calculated per rotor. The eect of the interference power and the vehicle orientation on the vehicle performance is investigated in Sec. 5.3. The convention used for the vehicle orientation and rotor numbering system in the model is shown in Fig. 3.2, where the dotted line in the gures represents the line of symmetry.

(a) Diamond orientation.

(b) Square orientation.

Figure 3.2: Vehicle orientation and rotor numbering convention.

24

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.2.

PARASITIC DRAG MODULE

3.2 Parasitic Drag Module
In this section, the parasitic drag prediction module is introduced in detail, explaining the methods and any assumptions. As mentioned, parasitic drag is due to the drag of the fuselage, rotor support

arms, landing gear, and any other elements not directly related to the rotor. Results produced using the method are presented and compared to experimental wind tunnel data. Finally, an example is presented where the total drag of the Aeryon SkyRanger sUAS is predicted.

Drag Prediction Method

The parasitic drag and subsequent parasitic power are determined using an estimated approach by totaling the drag each component of the vehicle contributes. The complex shape of the components are decomposed into common shapes. For example for the Aeryon Skyranger shown in Fig. 3.3, the parasitic drag is estimated by adding the drag of the center body (A), rotor arms (B), and landing gear (C). The body is assumed as a sphere whereas the other components are approximated using cylinders.

Figure 3.3: Aeryon Skyranger with labeled components: A) centre body B) rotor arms C) landing gear[1].

The drag coecient versus the Reynolds number for smooth spheres and cylinders is shown in Fig. 3.4. The characteristic length, Reynolds number:

DL ,

which is the diameter of the sphere or cylinder, is used to nd the

Re =

V DL Âµ

(3.1)

At supercritical Reynolds numbers, transition from laminar to turbulent ow occurs prior to ow

25

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.2.

PARASITIC DRAG MODULE

separation, resulting in longer attached ow and a decrease in the pressure drag[19].

This leads to

signicant reductions in drag coecients for cylinders (Fig. 3.4a) and spheres Fig. 3.4b) at Reynolds numbers greater about 300,000. Quantitatively, the drag coecient of a sphere is smaller than that of a cylinder. This is due to three dimensional relieving eects where ow can travel in additional directions over a sphere as compared to a cylinder where it can only move over or under the cylinder[23]. This decreases the stress on the ow and thus the drag.

(a) Circular cylinder.

(b) Sphere.
Figure 3.4: Drag coecient versus Reynolds number for sphere and cylinder[19].

To predict the parasitic drag, the ow conditions and characteristic length for each component are rst input into the model. Based on the geometry, the Reynolds number is calculated for the component. Then using the Reynolds number and interpolating with experimental drag coecient and Reynolds number data for cylinders and spheres, the parasitic drag coecient is determined. Although components may not be designed to be lifting surfaces, some may produce a lift force. In 26

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.2.

PARASITIC DRAG MODULE

turn, this production of lift results in an increase in the drag coecient of the component [19]. This increase in the drag coecient is the induced drag coecient and is expressed as:

CDi =

(CL )2 ARe

(3.2)

It is important to note that as the angle of attack increases the induced drag does as well. In addition, the induced drag is inversely related to the aspect ratio. An elliptical lift distribution is assumed thus, the span eciency is 1. The lift curve slope,

CL ,

is evaluated as[19]:

CL =

Cl AR  2 + AR2 + 4 Cl ,
is assumed to be

(3.3)

Based on thin airfoil theory, the section lift curve slope,

2 .

The total drag

coecient is the sum of the induced drag coecient and the parasitic drag coecient:

CD = CDo + CDi
where the zero-lift drag coecient, induced drag coecient,

(3.4)

CDo ,

is based on the drag of a sphere according to Fig. 3.4 and the

CDi ,

on Eq. 3.2.

Finally, the total drag and total power are found using Eqs. 2.8 and 2.10, respectively. As the lift force, and thus the induced drag, is a second order eect, the lift and induced drag are not included in the model. Furthermore, a trim solution is not included in the current model.

Experimental Drag

Experimental performance data was collected for the body of the Aeryon Scout sUAS in the Ryerson University Large Subsonic Wind Tunnel as shown in Fig. 3.5. The body was mounted on a three degrees of freedom external balance used to measure lift, drag and the pitching moment of the body. Clearly visible in Fig. 3.5 are the two vertical pylons that connect to the external balance above the test section. Further visible in that gure are the rods that support the test object in the test section.

27

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.2.

PARASITIC DRAG MODULE

Figure 3.5: Aeryon Scout body mounted on balance.

Prior to testing, the balance was calibrated and the inuence of the supports was determined. The pitching moment is considered positive in the clockwise direction while drag is positive in the direction of ow. Lift is measured positive downward. Tests were conducted at 10, 15, 20 and 30 m/s and for angles from 0 to -30 degrees in 5 degree increments. MATLAB script. The measured data was post processed using a

Figure 3.6a shows the lift and drag coecient of the body measured in the tunnel

tests. As expected, Fig. 3.6a shows the drag coecient increasing with both angle of attack and velocity. From Fig. 3.6b we see that the body acts as a lifting surface at some velocities at an angle of attack of 0 degrees, although only an insignicant amount of lift is produced. The body produces a downforce as the negative angle of attack and velocity increase.

Drag Model Validation

Figure 3.6a shows the comparison between the experimental and prediction result of the drag coecient with respect to angle of attack. The drag The Reynolds numbers are based on the body diameter of 18cm. For lower velocities and angles of attack, the prediction model ts the experimental results quite well. As the velocity increases, the drag model strays from the experimental results. This is a result of the zero-lift drag,

CDo

of Eq.3.4, suddenly getting smaller, as the sphere that represents the fuselage

changes from sub- to super-critical Reynolds numbers as indicated in Fig.3.4b. As the maximum velocity at which the Aeryon Scout operates is around 20m/s, this dropo of the is beyond the expected operational range.

CD

is not an issue, since this

28

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.2.

PARASITIC DRAG MODULE

(a) Drag coecient versus angle of attack.

(b) Lift coecient versus angle of attack.
Figure 3.6: Lift and drag coecients measured in wind tunnel for Aeryon Scout body.

Drag Prediction Example

An example of the parasitic drag estimation is presented using the Aeryon Skyranger body, landing gear and arms. The dimensions of the components of the sUAS are presented in Table 3.1. The ow

29

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.2.

PARASITIC DRAG MODULE

conditions, for sea level, are presented in Table 3.2. Table 3.1: Dimensions of SkyRanger components.

Dimension

Value (m)

Landing gear length Landing gear width Rotor arm length Rotor arm width Centre body diameter

0.295 0.02 0.255 0.018 0.1

Table 3.2: Values for determining Reynolds number for components of Aeryon Skyranger.

Variable

Value

Velocity (V) Density () Dynamic viscosity (Âµ)

5 m/s 1.225 kg/m 1.846x10

3

-5

kg/ms

First, the Reynolds number for each component is calculated using their respective characteristic length,

DL .

For the landing gear and rotor arms, the characteristic length is the width of the component. The

Reynolds number for the centre body,

ReB

is:

ReB =

V DL (1.225)(5)(0.18) = = 59723.73 Âµ 1.846x10-5

(3.5)

Using the plots for drag coecient versus Reynolds number for cylinders and spheres presented in Fig. 3.4, the parasitic drag coecient for each component are determined. Finally, the parasitic drag can be calculated using Eq. 2.8. The wetted area,

Sw ,

for the components assumed to be cylindrical is

the length multiplied by the diameter of the component. As there are four rotor arms and four landing gear components, the total parasitic drag is:

Do = 4DoL + 4DoA + DoB
Subscript

(3.6)

B

refers to the centre body, subscript

L

refers to the landing gear and subscript

A

refers

30

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.3.

ROTOR MODULE

to the rotor arm. The parasitic power is then calculated using Eq. 2.10. Table 3.3 shows the Reynolds number, parasitic drag coecient and parasitic drag for each component.

Table 3.3: Predicted Reynolds number, parasitic drag coecient and parasitic drag for AeryonSkyranger components.

Re Landing gear Rotor arm Centre body 16590 33180 59724

CDO
1.00 1.04 0.457

Do

(N)

0.045 0.082 0.736

The parasitic drag is proportional to the square of the airspeed, while the parasitic power has a cubic relationship to the airspeed. Therefore, parasitic drag must be considered when designing sUAS as its inuence increases with the number of components added to the vehicle.

3.3 Rotor Module
As indicated in Fig. 3.1, the power that is needed to produce a certain amount of thrust with a rotor is determined using the rotor performance module. Tabulated rotor performance data is used in a table lookup routine. The tabulated data can be based on experimental results, for example from wind-tunnel tests, or on theoretical predictions, for example as done by Carroll [25]. The table lookup method for evaluating the rotor power is introduced in this section, while the tables used to produce results in this thesis are presented in Appendix B. The prediction and experimental methods used to populate the rotor performance tables, as well as the wind tunnel and testing apparatus are discussed in detail in Sections 3.3.2 and 3.3.3.

3.3.1

Table Lookup Method

The rotor power is found through interpolation of table rotor performance data that is derived either experimentally or using a rotor-performance prediction code, for example as done by Carroll [25]. For a given inow angle, the data is grouped by rotational speeds of the rotor. For each rotational speed, the rotor loads are listed for increasing dynamic pressures. The rotor loads include thrust per density,

T ,

31

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.3.

ROTOR MODULE

thrust coecient,

CT ,

power coecient,

CP ,

normal force per density,

Px  , and roll moment coecient,

CM .

The roll moment coecient is included for future research into the stability of the vehicle. Figure

3.7 shows an example of the tabulated thrust per density data for an inow angle of 0 degrees (freestream parallel to rotor disc) as it is used for the thrust interpolation. In place of thrust and velocity as querying variables for the interpolation scheme, the thrust per density and the dynamic pressure are used in order to easier accommodate for simulations of dierent altitudes.

Figure 3.7: Dynamic pressure versus thrust per density for a rotor at 0 degrees angle of attack.

For a known angle of attack, the dynamic pressure, thrust per density, power coecient, normal force and rotational velocity are found through a three step interpolation method. The algorithm for the multiple interpolation method is shown in Fig. 3.8. The method begins with the required thrust, angle of attack and density as inputs. As the tables are specic to the angle of attack at which the data was collected, the complete interpolation method is performed on the tables bounding the known angle of attack, resulting in two values for each of the performance variables; one set for the upper bounding table and one for the lower. An example of rotational velocity curves for a rotor at 0 degrees angle of attack is shown in Fig. 3.7. In a rst approximation, thrust and rotational speed of the rotor have a quadratic relationship (see Eq. 2.19). Therefore, three data points are used to make a quadratic t. For that purpose, the curves of the three rotational velocity curves that are closest to the query point are selected for the interpolation 32

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.3.

ROTOR MODULE

method. In the example of Fig. 3.7, the values of 3000, 4000, and 5000 RPM are used for the quadratic interpolation. Using the known thrust per density, the rotational velocity is found using the following:

T T  = A( ) 2 + B + C  

(3.7)

With the rotational velocity known, the advance ratio, power coecient and normal force per density can be found through interpolation. Using the example presented in Fig. 3.7, three power coecients that correspond to the thrust per density and dynamic pressure at 3000, 4000 and 5000 RPM are selected from the table. Using the known rotational velocity, the three query rotational velocities and three query power coecients, an interpolation is performed to nd the resultant power coecient. As there is a cubic relationship between

CP

and

n

as seen in Eq.

2.20, a cubic interpolation is performed.

This

method is repeated for the advance ratio and the normal force per density.

Input:

TReq, Req, 

For Req < L
Quadratic fit using three T/  table points outputs L Interpolate for lower bound values of CP and Px

For H > Req
Quadratic fit using three T/  table points outputs H

Interpolate for upper bound values of CP and Px

Interpolate between lower and upper performance variables using , L , and

H

Output:

, J, CP, Px
Figure 3.8: Algorithm for rotor performance interpolation method.

33

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.3.

ROTOR MODULE

A nal interpolation is performed between the two data sets using the known angle of attack resulting in the nal

CP , J

and

Px  . The normal force per density is multiplied with the density appropriate for
2.5, a new angle of attack is found. The table lookup method is

that altitude and then using Eq.

repeated, using updated inputs, until the angle of attack converges. The rotor power is found, using the resulting

CP

from the interpolation method, by rearranging Eq. 2.20 for power:

Prot = n3 D5 CP

(3.8)

At the state of this writing, the experimental apparatus used to measure the performance data is not equipped to measure the normal force. Thus, the normal force is calculated using a rotor prediction code as part of the post processing procedure. The two sources will be discussed in the following sections.

3.3.2

Rotor Aerodynamic Performance Prediction
The

An aerodynamic performance prediction model was used to populate the performance tables.

prediction model used combines the blade element momentum theory with two dimensional lookup scheme, allowing for the prediction of performance for both forward ight and hover conditions [25]. The rotor performance prediction method is based on blade element momentum theory (BEMT) and uses a rotor blade that is discretized into elements across its radius, analyzed at each element and integrated to predict overall rotor performance. In Fig. 3.9, the sectional forces and angles of a two dimensional rotor cross section are shown. The dashed line is the zero lift line, where helix angle.



is the geometric pitch,



is the angle of attack and



is the

VR

is the resultant velocity vector of the forward ight speed,

V

and rotational velocity

r.

The rotor rotates about the axis of rotation through azimuth angles

.

The performance of the blade is

computed at each azimuth station and integrated over a full rotation of the blade.

34

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.3.

ROTOR MODULE

Figure 3.9: Rotor sectional element with acting velocities and forces[19].

The sectional thrust or the sectional lift and drag components, perpendicular to the rotor plane:

dT = dLcos( + i ) - dDsin( + i )

(3.9)

The sectional lift and drag forces in the rotor plane result in a torque about the rotor:

dQ = r[dLsin( + i ) + dDcos( + i )]

(3.10)

where the sectional lift and drag are:

dL =

1 2 V cCl dr 2 E

(3.11)

dD =

1 2 V cCd dr 2 E

(3.12)

An interpolation scheme using two-dimensional airfoil data is used to nd the sectional lift and drag coecients required in Eqs. 3.11 and 3.12 respectively [25]. The prediction model uses the wake interference model presented in Section 3.4 to predict interference induced velocities created by shed wakes and rotors in the vicinity. Finally, integrating Eqs. 3.9 and 3.10 and reducing to coecient

forms results in the standard performance equations. The normal force is calculated by integrating the 35

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.3.

ROTOR MODULE

sectional forces calculated at each azimuth station and integrating across the rotor. Using the blade element momentum theory prediction model, performance data was produced for a Master Airscrew 11x7 rotor. Figures 3.10 and 3.11 show performance data for the rotor at 0 degrees and 30 degrees respectively. Looking at the thrust coecient versus the advance ratio in Fig. 3.10a, the curves for each rotational velocity lay close to each other showing low dependency on the rotational velocity. As the angle of attack increases, the thrust coecient decreases for the same advance ratio

and rotational velocity. Small performance dierences can be observed between the dierent rotational speeds. These dierences are related to Reynolds number eects [25].

36

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.3.

ROTOR MODULE

(a) Eect of advance ratio on thrust coecient.

(b) Eect of advance ratio on power coecient.
Figure 3.10: Predicted performance coecients for MA11x7 rotor

=

0 deg.

37

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.3.

ROTOR MODULE

(a) Eect of advance ratio on thrust coecient.

(b) Eect of advance ratio on power coecient.
Figure 3.11: Predicted performance coecients for MA11x7 rotor

=

30 deg.

38

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.3.

ROTOR MODULE

3.3.3

Experimental Rotor Performance

In addition to the theoretical predictions, propeller performance experiments were conducted using the Ryerson University Large Subsonic Wind Tunnel. This section discusses the wind tunnel experiments. The data reduction method is discussed, including any sources of error.

Wind Tunnel

Figure 3.12 presents a drawing of the closed circuit wind tunnel.

The tunnel has a test section that

measures 0.9 m by 0.9 m, 1.5 m long. Screens are placed ahead of the contraction zone of the tunnel to assist ow quality control. Turning vanes assist the ow at each corner. The freestream velocity can reach a maximum of approximately 67 m/s. The performance tables used in the herein presented study consists of data taken at speeds from 0 m/s to approximately 20 m/s.

Figure 3.12: Ryerson University Large Subsonic Wind Tunnel drawing[26].

Recent improvements to the tunnel included the replacement of the fan assembly as well as an investigation of the ow quality of the tunnel. A fan nacelle and streamline device seen in the fan

segment section of Fig. 3.12 is used to cover the motor belt shaft and was added in eorts to reduce the turbulence intensity. A hot wire anemometry test was conducted to measure the turbulence of the airow at the centre of the tunnel test section. turbulence intensity from 1.2% to 0.29%[26]. The addition of the streamline devices reduced the

39

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.3.

ROTOR MODULE

Rotor Test Stand

A propeller test stand was designed, manufactured and mounted in the wind tunnel to collect rotor performance data, such as thrust, torque, and pitching moment (due to advancing/retreating blade eects). The test stand is mounted on a turn table in order to test with oblique inow angles. The

chosen angle of attack convention is shown in Fig. 3.13. At 90 degrees the rotor axis is facing into the free stream, thus the rotor acts as a conventional propeller. An orientation of 0 degrees is fully edgewise ow with the free stream parallel to the rotor plane. The test stand, displayed in Fig. 3.14, is equipped with three load cells to measure thrust, torque and pitching loads developed by the rotor. Note, the pitching moment manifests itself in a roll moment for a multi-rotor vehicle. The rotational speed is

measured using an infrared sensor that measures the time between blade passes.

(a) Rotor mounted at 90 de- (b) Rotor mounted at 0 degrees. grees.
Figure 3.13: Test stand angle convention for propeller testing.

The dynamic pressure in the test section is measured using the static pressure drop across the contraction zone upstream of the test section. Air density is calculated for each data point using the present conditions in the test section. Atmospheric pressure is measured using a laboratory barometer while the wind tunnel air temperature is measured using a thermocouple. The data acquisition is

performed using a LabJack T7 data acquisition device equipped with a LabJack CB37 terminal board. The terminal board is used to connect the sensors to the data acquisition system. A detailed description of the experimental procedure can be found in Appendix A.2.

40

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.3.

ROTOR MODULE

MOTOR TORQUE LOAD CELL

THRUST LOAD CELL PITCH LOAD CELL

IR SENSORS

Figure 3.14: Propeller performance testing apparatus with labeled components.

3.3.4

Comparisons with Other Experimental Facilities
3.15, for a Master Airscrew 11x7 rotor using

A comparison study was performed, presented in Fig.

predicted results from the blade element momentum theory model[25], experimental results from the Ryerson University Large Subsonic Wind Tunnel and published experimental results in the low-speed wind tunnel at the University of Illinois [27]. The coecient of thrust and power at 5000 rpm for a range of advance ratios are plotted for the experimental and prediction methods. published by Brandt are for a rotational velocity of 5006 rpm [27]. The experimental results

The experimental and prediction

method show good agreement for the thrust coecient. The experimental and prediction results trend towards the same static point for the thrust coecient. The experimental performance results for the power coecient agree well with the published results, whereas the predicted values capture the same trend, but consistently under predicts the power. This is likely due to the under prediction of section drag coecients.

41

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.4.

WAKE INTERFERENCE MODULE

(a) Thrust coecient versus advance ratio.

(b) Power coecient versus advance ratio.

Figure 3.15: Comparison of experimental and predicted MA11x7 rotor performance at 90 degrees.

3.4 Wake Interference Module
The wake interference module captures the eect of the wakes shed by the rotating blades in single and multiple rotor congurations. The rotor and its wakes are modelled using a series of vortex rings. An example of this model can be seen in Fig. 3.16 where the ring at the top of the series of rings represents the rotor, while the subsequent rings represent the shed wakes.

Figure 3.16: Vortex rings representing a series of wakes shed by rotor.

42

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.4.

WAKE INTERFERENCE MODULE

For an arbitrary point, the model is able to calculate the velocity induced by the rotor blades and the velocity induced by the wakes shed from the rotor. The total induced velocity at that point, is a summation of the velocity induced by the rotor and the velocity induced by the shed wakes. The rotor and rotor wakes are composed of multiple vortex line segments. Each vortex line segment has a circulation which is assumed to be constant across the rotor. Using the Kutta-Joukowski theorem and assuming constant circulation across the blade, the circulation per rotor blade is [28]:

=

T R2 nB

(3.13)

As this is the circulation of one rotor, the thrust used to evaluate the circulation is the thrust produced by one rotor. Using the Biot-Savart rule, the velocity induced at point P by the segment is found as a summation of the velocities calculated for each segment in the vortex ring[29]. As the rotor blades advance, wakes are produced and shed from the rotor plane. These wakes are modeled as vortex rings in planes oset from and parallel to the rotor plane. A wake is shed when a rotor blade completes on full revolution. The time it takes for a rotation to be completed can be expressed as the circumference of the disc area divided by the rotational velocity:

t=

2r r

(3.14)

Simplifying:

t=

1 n

(3.15)

The velocity in the z direction at which the wake moves away from the rotor plane is the downwash This can be found as [19]:

w=

1 2

-V sin +

(V sin)2 +

2T A

(3.16)

Together, Eqs. 3.15 and 3.16 express the z coordinate of the vortex ring:

z=
In Eq. 3.17, module,

1 n2B

-V sin + T

(V sin)2 +

2T A

(3.17)

B

is the number of blades on the rotor,

is the required thrust per rotor found in the rotor

A

is the disc area of the rotor and

n

is the rotational velocity.

43

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.4.

WAKE INTERFERENCE MODULE

When a forward velocity is present, the wakes are skewed at angle



as they are shed from the rotor

plane. The skew angle, pictured in Fig. 3.17, is measured from the vertical,

z

axis, to the center line

of the skewed wake and can be calculated as a function of the forward velocity and the vehicle angle of attack as [13]:

 = tan-1

-V cos V sin - w

(3.18)

Figure 3.17: Geometry of skewed wake.

To validate the results of the interference model, the induced velocities calculated were compared to analytical results published by Castles and De Leeuw, who found the induced velocity in the ow eld is found through numerical integration of complete elliptic integrals[13]. For example, Fig.3.18 shows the normalized induced velocity along the rotor plane for skew angles of 0, 26.56 and 45 degrees comparing the results of the wake interference model and Ref.[13]. For both cases, the rotor radius was set to unity. The induced velocity at each radial section is normalized by the induced velocity at the center of the rotor. The number of rotor segments used per wake segment,

j,

and the number of wake rings used,

k,

are varied to evaluate the least number of vortex segments per vortex ring and vortex rings are needed to result in a valid solution. This is an important study, as there is a tradeo between computational speed and accuracy. As j and k are increased, the accuracy of the solution increases, however, the

44

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.4.

WAKE INTERFERENCE MODULE

computational eort increases, resulting in a longer solution time. In order to nd a computationally ecient and accurate combination of the number of segments per wake ring and the number of wake rings, a sensitivity study was performed and is summarized in Fig. 3.18. Referring to Fig. 3.18a the number of rotor segments used is set to 100 segments and 200 segments, while the number of wake rings used is set to 0 in order to evaluate the eect of the number of segments for each vortex ring. It can be seen that without the inclusion of wakes, the solution does not t the published results. In addition, there is little dierence in the solution between the two cases in Fig. 3.18a, as compared to the plots in Figs. 3.18b-d, where the number of wake rings that were used is compared. In order to achieve good agreement with Castles and De Leeuw[13], a large number of vortex rings has a greater impact than the number of vortex segments that constitute a vortex ring. Figures 3.18 b-d show that as the number of wake rings that were used is increased from 100 to 400, the solution converges. When the number of wakes is set to 400, good agreement exists with the analytical results of Ref. [13]. There is a loss in resolution, especially in regions just left and right of the tip of the rotor, as the skew angle increases, although other regions along the rotor plane show good agreement. Referring to Table 3.4, the solution time in seconds for studies shown in Figs. 3.18 b-d

are shown. For each angle of attack, the dierence in solution time between using 300 wakes and 400 wakes is only about one second, meaning that the penalty for better accuracy is minimal. The times are based on predictions found on a personal computer using an Intel core i7 processor. As a result of the validation study, the number of wakes used in the model is set to 400, while the number of vortex segments per ring is set to 100. Table 3.4: Solution time for studies in Figs.3.18 b-d

Solution Time (s) (b) j=100, k=100 j=100, k=200 j=100, k=300 j=100, k=400 0.919 1.772 2.637 3.513 (c) 0.934 1.771 2.691 3.565 (d) 0.908 1.757 2.664 3.576

The wake interference model is used to investigate the eect of vehicle orientation during forward

45

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.4.

WAKE INTERFERENCE MODULE

1.6 1.4 1.2 1 0.8 WIM, j=100, k=0 WIM, j=200, k=0 Castles & De Leeuw

1.6 1.4 1.2 1 0.8 WIM, j=100, k=100 WIM, j=100, k=200 WIM, j=100, k=300 WIM, j=100, k=400 Castles & De Leeuw

V i/v

0.6 0.4 0.2 0 -0.2 -0.4 -3 -2 -1 0 1 2 3

V i/v

0.6 0.4 0.2 0 -0.2 -0.4 -3 -2 -1 0 1 2 3

X/R

X/R

(a)  = 0 , no wakes

(b)  = 0

1.6 1.4 1.2 1 0.8 WIM, j=100, k=100 WIM, j=100, k=200 WIM, j=100, k=300 WIM, j=100, k=400 Castles & De Leeuw

1.6 1.4 1.2 1 0.8 WIM, j=100, k=100 WIM, j=100, k=200 WIM, j=100, k=300 WIM, j=100, k=400 Castles & De Leeuw

V i/v

0.6 0.4 0.2 0 -0.2 -0.4 -3 -2 -1 0 1 2 3

V i/v

0.6 0.4 0.2 0 -0.2 -0.4 -3 -2 -1 0 1 2 3

X/R

X/R

(c)  = 26.56

(d)  = 45

Figure 3.18: Wake interference model results comparison with analytical results.

46

CHAPTER 3.

VEHICLE PERFORMANCE MODEL

3.4.

WAKE INTERFERENCE MODULE

ight on the power required. Interference power is dependent on the relative proximity and location of the rotors to each other, therefore, the orientation of the rotors in the system with respect to each other and with respect to the direction of ight is important. These eects are investigated in the case studies presented in Chapter 5.

47

Chapter 4

Multirotor Vehicle Performance Model Validation
To determine the proper functioning of the model, predicted performance data was compared to ighttest data provided by Aeryon Labs Inc. their SkyRanger model. in Waterloo, Ontario. Aeryon provided ight-test data for The data were collected over a series of ights by the onboard sensors and

processed in order to compare it to the predicted results. The ight-test data were provided without environmental data, for example wind speed and direction, and therefore required ltering to achieve a better comparison. As a method of determining the proper functioning of the model, predicted values of the rotational velocity, power required per rotor and vehicle angle of attack over a ight-speed range were compared to ight-test data. The ight-test data position, pitch angle, acceleration and airspeed are measured as a combination of GPS data and accelerometer data. The ight-test data power per rotor is a measure of how much power is drawn from the battery, while the rotational velocity per rotor is provided by the electronic speed controller. The ight-test data was ltered with the purpose of removing errors and eects that are not present in the prediction model. For example, the prediction model assumes there is no acceleration present To replicate steady state motion in the ight-test data, data points with

in the positive x-direction.

an acceleration of more than 0.15 m/s

2

were excluded.

As the model makes predictions for specic

48

CHAPTER 4.

MODEL VALIDATION

velocities, a range of

Â±0.2

m/s was allowed for the ight-test data airspeed.

Predicted results were obtained for a model of the Aeryon SkyRanger using experimental ASP130 rotor performance data at an altitude of 346 m. As discussed, lowering the allowable forward ight

acceleration trimmed the ight-test data, removing non steady state data points from comparison. A trend in the ight-test data is present in Fig. 4.1 where a comparison of the predicted and measured vehicle angle of attack in degrees is shown. The model captures the trend of the ight-test data as the pitch angle increases with the velocity. An under prediction in the parasitic drag, as the components geometry was simplied to common shapes, can account for the low under prediction in the angle of attack.

25

Flight Data Prediction

Angle of Attack (deg)

20

15

10

5

0 0 2 4 6 8 10 12 14 16 18 20

Velocity (m/s)
Figure 4.1: Comparison of predicted and measured vehicle angle of attack versus forward velocity.

The ight-test data rotational velocity and power are measured per rotor, though only the total power required is predicted per rotor. For each data point, an average of the measured rotational

velocity and power is found. Standard error bars are calculated to mark the standard deviation of the mean, where a smaller error bar indicates a smaller deviation from the mean [30]. The predicted and measured rotational velocity and power per rotor are plotted versus the angle of attack of the vehicle and are presented in Fig.4.2 and Fig. 4.3 respectively. The values of the rotational velocity and rotor power are expected to be under predicted as errors in both values are introduced through a lack of a

49

CHAPTER 4.

MODEL VALIDATION

motor model. The motor eciency, which accounts for mechanical losses in the motor, is not included in the model and thus, the prediction for the power and rotational velocity will be less than the recorded ight-test data. The experimental data measured propeller torque, not engine torque, and therefore no engine losses are included.

6000 Flight Data Rotor 1 Flight Data Rotor 2 Flight Data Rotor 3 Flight Data Rotor 4 Prediction

Rotational Velocity (RPM)

5500

5000

4500

4000

3500

3000 0 5 10 15 20 25

Angle of Attack (deg)
Figure 4.2: Comparison of predicted and measured rotational velocity versus angle of attack.

Referring to Fig.

4.3, as the vehicle is in the diamond conguration (Fig.

3.2), the predictions

for Rotor 2 and Rotor 4 are equivalent.

The prediction and ight-test data both show higher power

requirements over the range for the rear rotor, Rotor 1. Many of the points with large error bars, which indicates less condence in its value, lay o of the predicted lines. In hover, low speeds and around 8 m/s, there is good agreement with the ight-test data.

50

CHAPTER 4.

MODEL VALIDATION

200 180 160 140 120 100 80 60 40 20 0 5 10 15 20 25 Flight Data Rotor 1 Flight Data Rotor 2 Flight Data Rotor 3 Flight Data Rotor 4 Prediction Rotor 1 Prediction Rotor 2 Prediction Rotor 3 Prediction Rotor 4

Power (W)

Angle of Attack (deg)
Figure 4.3: Comparison of predicted and measured power versus angle of attack.

Overall, the predicted trends in the angle of attack, rotor power and rotational velocity agree well with measured ight-test data, showing the model is capable of predicting the performance of multirotor sUAS. In the following section, case studies consisting of performance predictions using the model are presented.

51

Chapter 5

Case Studies
A number of case studies are presented in the following subsections consisting of performance predictions created using the program described in Chapter 3. Each of the studies highlight a component of the power required and explores its contribution to the overall vehicle performance. In turn, the functionality and exibility of the vehicle performance model as a design tool is demonstrated, as well as the utility of power decomposition methods.

5.1 Eect of Altitude
The performance of an Aeryon SkyRanger quadrotor equipped with T-Motor 18 by 6.1 inch rotor was predicted using the aforementioned prediction model. The power decomposition of a four rotor vehicle based on the Aeryon SkyRanger is shown in Fig. 5.1. The predictions are for ight at an altitude of 1000 ft above sea level in the diamond conguration and are shown per rotor. The total power required is represented by the solid line and is a summation of its components; the parasitic power, interference power and rotor power. Noting the rotor number convention presented in Fig. 3.2, as Rotor 2 and Rotor 4 are opposite each other about the symmetry line, they both have the same power requirements and thus, identical power decomposition plots. All rotors are assumed to have the same power requirements and thus, the rotor power is identical between plots. The rotor power is the main contributor to the total power in hover, but decreases over the ight-speed range as the induced power decreases (Eq. 2.11). As the rotor tilts forward during

52

CHAPTER 5.

CASE STUDIES

5.1.

EFFECT OF ALTITUDE

increasing forward ight, the rotor must work harder to meet power requirements and therefore, the rotor power increases. The parasitic power is equal across rotors, as the total drag is shared between the rotors. The parasitic power is zero in hover (Eq. 2.10), but becomes more inuential at high speeds as it is proportional to the velocity cubed. The interference power for Rotor 2 and Rotor 4 is negative, resulting in a decrease in the total power required. This is a result of the neighbouring rotors and their wakes having an upwash eect on Rotors 2 and 4. The rear rotor, Rotor 3, has a positive interference power that increases over the ight-speed range. As the vehicle increases its forward velocity, the angle of attack increases as well as the skew angle of the wakes shed from the rotor plane. The wakes shed from Rotors 1, 2 and 4 are positioned close to the rear rotor plane at high velocities, causing a downwash eect for the rear rotor. This interference increases the total power required for the rear rotor.

53

CHAPTER 5.

CASE STUDIES

5.1.

EFFECT OF ALTITUDE

Figure 5.1: Experimental performance prediction for Aeryon SkyRanger using T-Motor rotors at 1000 ft.

54

CHAPTER 5.

CASE STUDIES

5.1.

EFFECT OF ALTITUDE

The eect of altitude on the overall vehicle performance was investigated using the prediction model and experimental performance data. For the same vehicle and rotor geometry, performance predictions were calculated at 1000 feet, 2500 feet and 5000 feet. The rotor power at each altitude is shown versus the forward ight speed in Fig. 5.2. In hover and at low airspeeds, the vehicle requires more power to operate as the altitude increases. This is due to the reduction of air density as the altitude increases. For higher airspeeds, the lower air density results in a lower parasitic drag, and thus power, lowering the power requirements at high altitudes.

Figure 5.2: Rotor power predictions versus forward ight speed at various altitudes for T-Motor rotor.

This study demonstrates that the model is capable of providing a means of eectively analyzing the performance of an sUAS over a ight-speed range and for dierent ight altitudes. By predicting the performance of the vehicle at various altitude, it is shown that low speed and hovering ight should be performed at low altitudes and fast forward ight performed at high altitudes to achieve the best power requirements. In addition, the sUAS in this conguration performs better in low speed and hovering ight, than during fast forward ight.

55

CHAPTER 5.

CASE STUDIES

5.2.

EFFECT OF WEIGHT

5.2 Eect of Weight
In this study, the power required is investigated as a function of the weight. A T-Motor 18 inch by 6.1 inch rotor is used in this example on the Aeryon SkyRanger body. The predictions are for an altitude of 1000 ft and the sUAS is in the standard diamond conguration, that is Rotor 1 is in the lead and Rotor 3 in the rear. Rotors 2 and 4 are to left and right of the symmetry plane of the ight vehicle. To decouple the eect of the parasitic drag from the weight, the physical geometry of the sUAS is not changed, leaving the parasitic drag equivalent across data sets. The rst weight is the weight of the sUAS with no payload added and is about 3 kg. The second weight represents a camera mounted on the sUAS and is a total weight of 3.62 kg. Finally, the third weight represents an additional battery added to the system for a total weight of 4.2 kg. Quite obviously and supported by Eq. 2.6, a higher thrust is required to operate if the weight of the sUAS is increased. This relationship is also shown in Fig. 5.3 that shows the thrust per rotor versus the forward ight speed for the aforementioned sUAS with and without payload and an extra battery is plotted. In all cases, as the forward velocity of the quadcopter is increased, the thrust increases as well.

Figure 5.3: Thrust per rotor versus forward ight speed for sUAS with three dierent ight masses.

The change in the weight of the vehicle also aects the angle of attack as seen in Fig. 5.4, which indicates lower angles of attack over the entire ight range for the vehicle with a payload added. This 56

CHAPTER 5.

CASE STUDIES

5.2.

EFFECT OF WEIGHT

relationship is supported by rearranging Eq. 2.6 for angle of attack, showing an increase in the weight, and thus the thrust, results in a decrease in the angle of attack. This is further shown in Fig. 5.5,

that shows force diagrams for two sUAS with the same parasitic drag, but dierent ight masses. To compensate for the increase in weight, the thrust vector must be increased, resulting in a decrease in the angle of attack.

Figure 5.4: Angle of attack versus forward ight speed for sUAS with three dierent ight masses.

Dpar 1 W1 2 W2 T1 T2
Figure 5.5: Force triangle depicting eect of weight on vehicle angle of attack.

57

CHAPTER 5.

CASE STUDIES

5.3.

EFFECT OF ORIENTATION IN FORWARD FLIGHT

Finally, Fig. 5.6 shows the eect of the weight on the rotor power required. As discussed in Sec. 2.3, the rotor power consists of the prole power and the induced power. In hover, the portion of the power required that is attributed to the induced power is at its greatest. As the forward ight speed increases, the induced velocity and thus the induced power decreases up to a certain speed [17]. The crossover that occurs around 24 m/s is due to incomplete airfoil data in the rotor performance table. Above a certain speed, thrust loading, on which induced power depends, increases as the rotor must increasingly compensate for the parasitic drag that grows with the velocity squared.

Figure 5.6: Rotor power versus forward ight speed for sUAS with payloads and empty weight.

In conclusion, the eect of weight on the performance of an sUAS was investigated. Through this study, the capability of the model as a design tool was shown. For example, based on the battery

capacity and the motor eciency, designers can determine if the additonal power available provided by an extra battery in the system is worth the added weight.

5.3 Eect of Orientation in Forward Flight
Another characteristic of the vehicle performance that can be explored using the aforementioned analysis tool is the eect of the orientation of the vehicle in forward ight. Referring to Fig. 3.2, two orientations

58

CHAPTER 5.

CASE STUDIES

5.3.

EFFECT OF ORIENTATION IN FORWARD FLIGHT

are presented, the square conguration where two rotors are leading and the diamond conguration, where one rotor leads. In this case study, performance predictions over a ight range for the geometry of the Aeryon Skyranger using experimental T-Motor rotor data were obtained for both square and diamond congurations for an altitude of 1000ft. The total power required for the vehicle in each conguration is presented in Fig. 5.7. Comparing the performance in the two congurations, more power is required to operate in the square conguration than in the diamond conguration over the ight-speed range. As the inow from the neighbouring rotors is not included in the rotor performance prediction, the value of the rotor power does not change between orientations. The parasitic power will also be constant between the two congurations. Therefore any dierence in the power required is a result of the change in the interference power. In hover, the two orientations require the same amount of power since the induced interference power is zero during hovering ight (Eq. 3.16). As the forward velocity is increased, the interference power increases more in the square conguration, than in the diamond conguration, resulting in a higher total power over the ight-speed range in the square conguration. This can be explained by investigating the interference power per rotor.

Figure 5.7: Total power required for diamond and square conguration using T-Motor rotor experimental data.

The total power required and interference power for each rotor in both congurations are presented in Fig. 5.8 to illustrate the dierence in rotor power between the two congurations. Noting the line of

59

CHAPTER 5.

CASE STUDIES

5.3.

EFFECT OF ORIENTATION IN FORWARD FLIGHT

symmetry in each conguration in Fig. 3.2, Rotors 2 and 4 have the same power requirements in the diamond conguration. In the square conguration, Rotors 1 and 2 and Rotors 3 and 4 have the same power requirements. The orientation of the vehicle in forward ight is important, as the wakes shed from the rotor plane are in dierent locations in the two orientations. Therefore, their interactions with neighbouring rotors dier in the two cases since position eects the velocity induced by the wakes. For example, wakes

positioned farther away from a given point will induce a smaller velocity at that point. In the square conguration, Rotors 3 and 4 act as the rear rotors. As supported by Eq. 3.17, as the vehicle speed increases, the skew angles of the shed wake increases as well. The shed wakes of the front rotors, Rotors 1 and 2, pass underneath the rear rotors, increasing the power required as they are caught in the downwash of the wakes. This is supported by Fig. 5.8 which shows a positive and equal interference power for Rotors 3 and 4 in the square conguration, resulting in an increase in the power required. Note the negative interference power for the front rotors, Rotor 1 and 2, in the upwash of the neighbouring rear rotors. In the diamond conguration, Rotor 3 acts as the rear rotor. As there is only one rotor in line

with the rear rotor in the diamond conguration, a positive interference power that is smaller than in the square conguration is present. The remaining rotors in the diamond conguration all experience a negative interference power, resulting in a decrease in the total power required for each rotor. This combination of eects results in a smaller total power required in the diamond conguration as compared to the square conguration as presented in Fig. 5.7. From this study, the eect of the vehicle orientation on the performance of the vehicle was investigated. While in hover and low speeds, the power requirements for the two congurations are about the same, during fast forward ight, the sUAS requires about 5% less power in the diamond conguration than in the square conguration. conguration. Therefore, fast forward ight should be performed in the diamond

60

CHAPTER 5.

CASE STUDIES

5.3.

EFFECT OF ORIENTATION IN FORWARD FLIGHT

Figure 5.8: Rotor power required and interference power for diamond and square conguration using T-Motor rotor experimental data. 61

Chapter 6

Conclusions
This thesis presents a method for predicting the performance of multirotor sUAS in hover and forward ight, with the purpose of aiding the design process of multirotor sUAS by allowing designers to assess the contributions of the vehicle and rotor geometry, as well as atmospheric conditions on the performance of the vehicle. The use of an interpolation scheme with tabulated rotor performance data allows for

exibility, as the data can be provided using experimental or predicted rotor data. The method uses a wake interference model, that captures the eect of rotors and the wakes. The modular approach

allows designers to easily assess the contributions of the vehicle conguration, choice of rotor system and atmospheric conditions on the performance of the vehicle. The study shows that the model is suited for the iterative conceptual design stage of product development. When comparing predictions produced by the method with ight data measured from an Aeryon SkyRanger sUAS the predictions show good agreement in the trends for the rotational velocity, angle of attack and power required. The model captures the trend in the angle of attack during forward ight, though under predicts the value due to the under prediction of the parasitic drag. While the trends in the rotational velocity and the power required are captured, the values are under predicted due to the lack of a motor model. Case studies have been presented in this thesis that explore the capabilities and functionality of the method. The method is capable of evaluating the eect of altitude on the performance of the vehicle. This feature of the model allows designers to assess the performance of a design in dierent conditions, as well as select the right rotor for the altitude. The eect of weight on the vehicle is also discussed;

62

CHAPTER 6.

CONCLUSIONS

results of the case study show the model can be used as a design tool to asses the eect of additional components to the vehicle. Finally, the method is used to assess the performance of a quadrotor sUAS in two dierent orientations, showing that the diamond conguration results in the least power required during forward ight. This study can be extended to evaluate the performance of co-axial rotors, as well as more complicated rotor congurations. It is suggested from the ndings of these studies that fast forward ight be performed at high altitudes, while hover and slow ight be performed at low altitudes. In addition, forward ight should be performed in the diamond conguration since it was shown that 5% less power is required than in the square conguration. Although the current method for predicting the parasitic drag of the vehicle is proven to produce a good estimate, the accuracy of the model can be improved by using measured wind tunnel drag data. A wider range of scenarios, for example climbing and descending ight, can be analyzed with the addition of a full trim solution and an inow model. These improvements to the current tool will make it more robust and more applicable to a broader range of problems.

63

Appendix A

Wind Tunnel Data
A.1 Uncertainty Analysis
The uncertainties examined include those present in the measurement devices for wind tunnel velocity, propeller thrust, torque, bending moment and power. The uncertainties of the sensors used were determined based upon data and calibration sheets provided by the manufacturers of each device and is presented in Table A.1. Table A.1: Sensor Uncertainties

Sensor

Uncertainty

Static Pressure Dierential Pressure Load Cells RPM Sensor Thermocouple

0.217% 1.503% 0.688% 0.491% 1.301%

A general uncertainty analysis was performed using the Taylor Series Method (TSM) as shown by Coleman and Steele[31]. This includes the uncertainties present in the measurement devices used as well as that of the data acquisition system, all of which contribute to the uncertainty of measurements. All uncertainty estimates presented were determined using the Taylor Series Method and result from the

64

APPENDIX A.

WIND TUNNEL DATA

reduction equations used for the analysis of collected data. The uncertainties in the variables are listed in Table A.2.The uncertainties observed are within an acceptable range, all less than 5 percent, although there is room for improvement. For example, the uncertainty in both the thrust and the power coecient can be decreased by decreasing the uncertainty in the infrared sensor used to measure the rotational velocity of the propeller. Future work is expected to include an upgrade to the testing apparatus through the use of higher accuracy sensors. Table A.2: Uncertainties in Variables

Variable

Uncertainty

Temperature (T) Air Density () Freestream Velocity (V ) Propeller Rotational Speed (n) Advance Ratio (J) Coecient of Torque, Thrust & Pitch (CQ ,CT ,CM ) Torque, Thrust & Pitch Power (P) Power Coecient (CP ) Eciency

1.302% 1.320% 1.000% 0.491% 1.114%

1.783%

0.688% 0.845% 2.151% 3.008%

A.2 Experimental Procedure
The experimental procedure begins with the positioning of the propeller test stand. The desired angle of attack must be set before zeroing the system. It is selected by rotating the turn table base until the angle dial is in the correct position. The bolts securing the turn table must be carefully tightened to reduce vibration in the stand. Once all sensors are connected to the LabJack data acquisition system, a software tare is performed to zero the load cells. The ambient pressure is recorded prior to testing. Before forward ight testing is conducted, static tests are performed and compared to existing data to ensure the system is working correctly. For forward ight testing, the propeller motor throttle, and thus the 65

APPENDIX A.

WIND TUNNEL DATA

rotational velocity, is kept constant while the wind tunnel velocity is swept through a range, collecting a variety of data points. Time is given to allow for the tunnel velocity to reach steady state before data points are collected. The raw data is saved, with the tunnel freestream and rotational velocity for each data point recorded, and is then post-processed using a MATLAB script.

A.3 Data Reduction
It is important that the raw data collected during wind tunnel experimentation is properly post processed with all system and external errors accounted for. Raw data is taken for each angle of attack, holding the wind tunnel velocity constant while changing the rotational velocity of the propeller to sweep through advance ratios. The advance ratio (Eq. 1.1) is used as the independent variable when plotting performance coecients and is the ratio of forward ight speed to the speed of the rotor tip. Blockage corrections are not as the diameter of the rotor is relatively small compared to the diameter of the test section. For thrust, pitching moment and torque a basedrag correction is applied to the measured value after conversion to metric units. The basedrag is dened as the drag created by the propeller test stand. This drag is picked up by the load cells and therefore, must be removed from the measurements taken with the propeller in use. For each angle of attack, static data was collected across a range of wind tunnel velocities to be used in a basedrag lookup table. A linear relationship between the dynamic pressure and the force/moment is assumed. Figure A.1 shows an example of the measured basedrag versus the dynamic pressure for an angle of attack of 90 degrees. For each dynamic pressure measured, a corrected basedrag for thrust, pitching moment and torque can be found using linear interpolation. The basedrag values are denoted by subscript "cc" while the corrected values are denoted by subscript "c".

Tc = T - Tcc

(A.1)

Mc = M - Mcc

(A.2)

66

APPENDIX A.

WIND TUNNEL DATA

Qc = Q - Qcc

(A.3)

In the future, the testing apparatus will be modied to allow for the measurement of the normal force produced by the rotor,

Px .

67

APPENDIX A.

WIND TUNNEL DATA

(a)

(b)

(c)
68 Figure A.1: Basedrag measurements for a) thrust, b) pitching moment and c) torque versus dynamic pressure at an angle of attack of 90 degrees.

Appendix B

Rotor Performance Tables

69

APPENDIX B.

ROTOR PERFORMANCE TABLES

Table B.1: Rotor performance table for T-Motor Rotor at
q Thrust_rho RPM Jinf CT CP

 = 0 .
CM Px_rho

0 8.210870197 20.05205347 38.88100951 68.31143892 105.643329 147.8772919 197.0698002 252.7711647 314.1924952 380.8685323 0 7.745051977 18.96196968 38.88812104 67.71579168 103.998803 146.8539982 194.8548393 249.68926 310.1612641 378.9611214 0 7.210345935 18.19282127 37.81746653 67.78988631 103.0972121 145.0948114 193.0932432 247.0978419 308.245662

8.54349309 8.859720582 9.215707967 9.978108509 11.51111627 12.02951109 12.1 12.38135026 13.25258066 13.47156094 14.02468126 14.44388487 14.5 15.13511357 15.82266037 16.58338563 17.27324895 18.07280853 19.73315999 19.92017971 21.0389332 20.89884532 23.56127033 19.78073782 21.45754656 21.71667629 24.97040713 25.1427311 23.41482128 24.50781255 26.32825477 28.48533195

3000 3000 3000 3000 3000 3000 3000 3000 3000 3000 3000 4000 4000 4000 4000 4000 4000 4000 4000 4000 4000 4000 5000 5000 5000 5000 5000 5000 5000 5000 5000 5000

0 0.16424924 0.255471372 0.359007871 0.471312686 0.590850439 0.699586727 0.809506545 0.91404584 1.026358933 1.125202819 0 0.119990734 0.187463044 0.268377494 0.355215741 0.441090443 0.525282879 0.604006948 0.678384181 0.763921558 0.840428477 0 0.093460574 0.147324322 0.211940879 0.284838273 0.352740215 0.418616789 0.484065933 0.547096195 0.610688642

0.078211493 0.081106401 0.083527924 0.09207986 0.104125376 0.110492281 0.112 0.114104625 0.121159283 0.124568107 0.128047398 0.073639279 0.074 0.077317159 0.080829466 0.08522415 0.089080644 0.093531408 0.101614169 0.100805398 0.108338133 0.10628406 0.077339412 0.065714531 0.070153645 0.070718819 0.081964876 0.083193419 0.077476032 0.081385883 0.087116134 0.093876932

0.024272791 0.024278662 0.023433798 0.025078327 0.025094862 0.026026067 0.026817055 0.025823989 0.026191555 0.026178301 0.023950175 0.023232157 0.02463407 0.023269547 0.023659802 0.024505184 0.024412163 0.025815081 0.025421156 0.02511969 0.024865818 0.023368421 0.024432122 0.024368661 0.023168421 0.021866723 0.02178371 0.021537934 0.016477944 0.017923167 0.017522855 0.011572872

-0.002627075 -0.0055131 -0.00711574 -0.008375046 -0.009333661 -0.011758124 -0.01522984 -0.019117718 -0.022513539 -0.025937143 -0.029638149 -0.00178737 -0.002827206 -0.004878235 -0.005796609 -0.0057884 -0.007391994 -0.009600317 -0.012114115 -0.01308125 -0.014259343 -0.017149882 -0.002041516 -0.001930956 -0.004109106 -0.004494026 -0.004838126 -0.003800364 0.000262616 -0.002016348 -0.003956197 -0.003402971

0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0

70

APPENDIX B.

ROTOR PERFORMANCE TABLES

Table B.2: Rotor performance table for T-Motor Rotor at
q Thrust_rho RPM Jinf CT CP

 = 5 .
CM Px_rho

0 8.802232693 19.9168254 38.24053111 67.45095005 103.7291856 144.9922543 193.1693478 247.0021871 306.6377332 372.4636575 0 8.236994432 19.85162503 38.63406869 67.32648058 102.8706436 143.7702696 191.0103806 245.4357994 304.5928852 371.06128 0 7.790621367 19.67928593 42.5637706 71.98931147 107.3595724 149.8170657 199.4118399 254.1339211 316.1514288

8.064312251 8.74572109 8.765812907 9.568511966 9.972406448 11.2874386 11.89274504 12.80759767 13.1739854 13.45874611 13.93495861 14.86232757 13.55121288 14.69706505 15.60671099 16.48417164 17.561252 17.95459202 19.93002459 21.27910271 21.18094032 18.53188719 24.80065243 23.67174599 24.75931164 26.18480888 27.36264972 28.33522087 30.16539028 31.3249217 32.18988931 32.37849069

3000 3000 3000 3000 3000 3000 3000 3000 3000 3000 3000 4000 4000 4000 4000 4000 4000 4000 4000 4000 4000 4000 5000 5000 5000 5000 5000 5000 5000 5000 5000 5000

0 0.169892763 0.258318719 0.352630692 0.474504795 0.581166251 0.696941529 0.801082832 0.904680854 1.015598436 1.124436226 0 0.124408367 0.191433905 0.267980544 0.354192225 0.438456723 0.519604865 0.601227905 0.68279066 0.762747454 0.840989279 0 0.095752282 0.151285739 0.223841325 0.291645021 0.356802289 0.417792266 0.4843168 0.549045658 0.614479847

0.072609625 0.078588952 0.080514881 0.085305071 0.091231664 0.100629623 0.108944871 0.116160586 0.118773211 0.122880327 0.127823237 0.076473079 0.069777842 0.074381442 0.079535609 0.084180547 0.089856216 0.092199734 0.102968315 0.109976999 0.10981112 0.095449422 0.081733616 0.078013165 0.080626946 0.086295274 0.090466255 0.093945048 0.098036458 0.102618517 0.106085759 0.107135432

0.026517368 0.022625931 0.021807336 0.022592338 0.023950134 0.025359994 0.025745956 0.026412298 0.027443682 0.028531279 0.028544324 0.025990017 0.023740396 0.022487638 0.021308202 0.020981498 0.019880811 0.02004175 0.023180022 0.024557448 0.025330282 0.020382755 0.024754419 0.025623599 0.025019205 0.024907008 0.024653912 0.024960224 0.02450667 0.024766854 0.024601401 0.025163702

-0.006887378 -0.004016875 -0.003794061 -0.004661069 -0.006689884 -0.008070923 -0.009422482 -0.012193503 -0.015214208 -0.018424691 -0.023633838 -0.001929986 -0.004218264 -0.004193003 -0.003835431 -0.004198927 -0.004783742 -0.004892564 -0.007434889 -0.010717478 -0.01173564 -0.013331176 -0.001028291 -0.000467342 0.000192923 -0.001061519 -0.002263286 -0.003317849 -0.004503307 -0.006353653 -0.008014271 -0.009295981

0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0

71

APPENDIX B.

ROTOR PERFORMANCE TABLES

Table B.3: Rotor performance table for T-Motor Rotor at
q Thrust_rho RPM Jinf CT CP

 = 15 .
CM Px_rho

0 9.228617439 20.40373815 38.88215631 67.75210393 103.7049153 145.2043684 192.7774539 245.9244665 305.3398881 370.8505423 0 9.46763437 21.71736384 40.91221323 69.91269819 105.5052734 147.1741731 194.9566802 249.2685155 308.8841856 375.1546957 0 9.43009413 21.63670407 44.16705508 70.93847485 105.1618678 146.282182 194.3364564 247.6437982 307.7277117 373.7504903

7.848512156 7.893694313 8.095794669 8.446488516 8.244427613 8.185347706 8.71148516 8.426657823 8.564840711 8.510265918 8.607652923 14.64246287 13.5512877 15.66941387 15.24132922 15.10010475 14.61932688 14.0836675 13.81455538 13.51789421 13.16936345 12.8763786 22.68533111 23.2897598 23.76058244 24.05302002 25.04534732 25.49071834 25.92276519 25.38691179 25.63542192 26.20834792 23.21962284

3000 3000 3000 3000 3000 3000 3000 3000 3000 3000 3000 4000 4000 4000 4000 4000 4000 4000 4000 4000 4000 4000 5000 5000 5000 5000 5000 5000 5000 5000 5000 5000 5000

0 0.1748988 0.261181895 0.356604407 0.47474274 0.588147434 0.696871125 0.806196325 0.903958972 1.007382356 1.111898004 0 0.133434486 0.200186781 0.276628782 0.360196519 0.443158877 0.523507773 0.603689482 0.682722205 0.761418012 0.839964542 0 0.027433238 0.041811821 0.059883158 0.075712078 0.091433057 0.108335309 0.125334567 0.141859328 0.158485174 0.17494709

0.071610383 0.071498222 0.074014315 0.075550339 0.074973042 0.074584381 0.07948421 0.077348047 0.077116293 0.076372233 0.077144322 0.073549834 0.070061126 0.079491423 0.078366288 0.076984885 0.074719489 0.07191007 0.070676691 0.068986926 0.067241708 0.065647659 0.074315749 0.075841454 0.078337268 0.079747468 0.082639175 0.082679647 0.084752302 0.083498625 0.08455233 0.086545855 0.076584392

0.026484769 0.026468366 0.027948487 0.02867998 0.028903063 0.030212877 0.030529527 0.031121139 0.031526243 0.03198915 0.032293525 0.026404037 0.024044251 0.024028902 0.024322444 0.02489524 0.025173715 0.025097863 0.025575393 0.025911158 0.026306106 0.025390629 0.025643012 0.023809161 0.025613595 0.024931565 0.024924287 0.025998232 0.026015197 0.026669869 0.026654621 0.026917154 0.025735396

-0.001372249 0.002752186 0.005224193 0.004316581 0.003598188 0.003099673 0.002590287 0.002529579 -0.000573719 -0.001878471 -0.004321616 -0.001106342 -0.000333544 -0.00089541 -0.001464267 -0.001656281 -0.002007737 -0.002630416 -0.004080481 -0.005393459 -0.006112608 -0.007945107 -0.001133965 -0.000642398 -0.002466133 -0.00241786 -0.002959268 -0.003610847 -0.004096966 -0.005017478 -0.005892607 -0.007208047 -0.011624524

0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0

72

APPENDIX B.

ROTOR PERFORMANCE TABLES

Table B.4: Rotor performance table for T-Motor Rotor at
q Thrust_rho RPM Jinf CT CP

 = 30 .
CM Px_rho

0 10.08217162 21.09422348 40.70600528 70.89000015 105.6463051 147.7408169 195.0620272 248.4918726 309.1720722 374.396566 0 10.88303834 23.62710198 41.85166835 71.05019572 105.952132 146.9295864 194.8552083 248.1085502 307.9255036 373.3264161 0 12.29582634 25.57894872 45.81477127 72.18032068 106.4596905 147.2090633 195.1227391 248.7353983 308.1665626 373.0640095

8.522799669 6.144169756 5.3478641 5.023204845 4.317980955 3.438803391 2.808360404 1.582459911 0.276514228 -0.968347536 -2.187468139 14.54222283 11.50618743 12.80355473 12.25580801 10.36963705 9.006915276 8.396048472 7.023889574 5.362338265 3.833842919 2.685932403 24.45057927 22.0621725 22.34846544 21.74661149 21.28805651 19.02276369 17.87186155 17.45213487 14.36432244 12.1659312 8.406833753

3000 3000 3000 3000 3000 3000 3000 3000 3000 3000 3000 4000 4000 4000 4000 4000 4000 4000 4000 4000 4000 4000 5000 5000 5000 5000 5000 5000 5000 5000 5000 5000 5000

0 0.180400366 0.262995893 0.362962698 0.480735909 0.591500005 0.694172499 0.801311731 0.901256418 1.016766395 1.114369169 0 0.141604368 0.208399327 0.277206175 0.366109932 0.44561653 0.522322806 0.602033775 0.68614934 0.76269105 0.843652777 0 0.122216429 0.174982252 0.234286039 0.293770124 0.356271876 0.422240521 0.484028485 0.548442534 0.606902627 0.68216704

0.077247647 0.054957052 0.048567756 0.045019442 0.038955557 0.03148056 0.025285975 0.014352377 0.002478202 -0.008852939 -0.019747763 0.073956549 0.058226674 0.06463168 0.061805474 0.053719365 0.046333971 0.042699303 0.035720993 0.027751472 0.019692774 0.013865615 0.079274474 0.073000326 0.072921096 0.071070401 0.069433436 0.061847878 0.058969671 0.057012851 0.047150609 0.039382259 0.028268299

0.027160748 0.025360011 0.025326715 0.025211113 0.023709265 0.021524517 0.018605802 0.015242598 0.012787213 0.007932426 0.004519268 0.026474879 0.024605469 0.024861752 0.025101051 0.024863424 0.024177601 0.023240676 0.020807189 0.018254659 0.015277614 0.012174478 0.026135019 0.024280894 0.02504956 0.025574394 0.025360343 0.025429186 0.025575457 0.024589753 0.023613445 0.021062462 0.019511269

-0.00196197 0.003400664 0.003683714 0.003457865 0.002769156 0.002859947 0.002453248 0.002288723 0.002154482 0.002815768 0.002216306 -0.001984538 0.000825796 0.000301548 0.000150695 -0.000120253 -0.000533362 -0.000873812 -0.000923653 -0.001142026 -0.000846209 -0.000190927 -0.001782557 -0.001535802 -0.001852178 -0.002221932 -0.002420265 -0.002502402 -0.002500062 -0.002327311 -0.002802502 -0.00366951 -0.003663859

0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0

73

Appendix C

MATLAB Scripts
1 2 3 4 5 6
%

-------------------------------------------------------
MAIN SCRIPT_v3

% MULTI - ROTOR VEHICLE PERFORMANCE MODEL: % BY : % Most % I S S I GEORGE Recent Revision : June 21 s t 2016

-------------------------------------------------------
prediction model to calculate overall flyer power required ,

% Multirotor thrust

7 8

% and moment % V2 Update : induced

using plots

blade data for

element per

momentum read

theory

and from

wake . txt

interaction file ,

model

rotor ,

geometry

calculates

velocity

each

9 10 11 12 13 14 15 16

% rotor % V3 Update : p r o p e r % acceleration % blade : % oper : % flow : % perf : % fgeom : angle convention , Pforce , interation , V i n f+V i n t inflow ,

terms geometry structure . and wake parameters structure .

blade

operating flowfield

conditions and

operating

conditions .

performance flyer

structure

output . 1

geometry

74

APPENDIX C.

MATLAB SCRIPTS

17 18 19 20 21 22
clc ;

% rotor : close all ;

holds

data

pertaining

to

each

rotor

on

flyer

clear ;

c d ( 'C : \ U s e r s \ I s s i \ Documents \ Academia \ R y e r s o n \ P e r f o r m a n c e Performance T a b l e s \T -R o t o r Experimental ' ) ;

Codes \ T h e s i s \

23 24 25 26 27 28
% % Flow field Information = = = [ kg /ms ] = level = at altitude = 0; and Set Coordinates Codes \ T h e s i s density_calc ( flow , rho_o ) ; % Calculate 1.225; % density at 298.15; 0.30481000; 1.84610^( -5) ; % [ Kelvin ] % [m] % Dynamic

f l o w . temp flow . a l t i t u d e f l o w . mu viscosity

29

rho_o sea

30

f l o w . rho density

31 32 33

flow . inflow_angle % % Import folder = Flyer

Geometry

'C : \ U s e r s \ I s s i \ Documents \ Academia \ R y e r s o n \ P e r f o r m a n c e

\ Geometry ' ;

34 35 36 37
f g e o m . armang =360/ f g e o m . n o r o t o r s ; arms %a n g l e between f g e o m = g e o m i m p o r t ( s p r i n t f ( '%s%s ' , f o l d e r , ' \ t r o t o r . t x t ' ) ) ;

38

f g e o m . Swl =2 f g e o m . l e g r l e g , m^2

 fgeom .

legl ;

%w e t t e d

area

of

75

APPENDIX C.

MATLAB SCRIPTS

39

f g e o m . Swa=2 f g e o m . armr  f g e o m . a r m l ; arm , m^2

%w e t t e d

area

of

40

f g e o m . Swb=p i body

 ( fgeom . bodyr ) ^ 2 ;

%w e t t e d

area

of

41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65

fgeom . p a y l o a d r = 0 . 0 4 5 ; fgeom . p a y l o a d l = 0 . 1 6 5 ; f g e o m . Swp=p i

%p a y l o a d %p a y l o a d

radius length

 ( fgeom . p a y l o a d r ) ^ 2 ;

R = fgeom . d i a m e t e r / 2 ; cd = 0.08;

c l =0.3; s i g m a = 2  ( 0 . 0 3 ) / ( p i R) ; area = pi a =1;

 (R) ^ 2 ;

%s e t [

coordinates ] = c o o r d _ s e t u p ( fgeom , f l o w ) ;

fgeom

% %

Initial

Values

%i n i t i a l i z e Ppar Pind Ppro Prot T2 = = = = = 0; 0; 0; 0; 0; 0;

power

values

alpha2 = %v e l o c i t y j =1; c o u n t =1;

loop

counter

76

APPENDIX C.

MATLAB SCRIPTS

66 67 68

% % Load

Performance

Data

for

Rotor

D = d i r ( [ 'C : \ U s e r s \ I s s i \ Documents \ Academia \ R y e r s o n \ P e r f o r m a n c e \ Performance T a b l e s \T -R o t o r Experimental ' , ' \  . mat ' ] ) ;

Codes \ T h e s i s

69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93

Num = l e n g t h (D( n o t ( [ D . i s d i r ] ) ) ) ; for k =1:Num f i l e { k } = D( k ) . name ; end

f i l e =c h a r ( f i l e ) ; for k =1:Num f i l e n a m e ( k , : ) = s t r s p l i t ( f i l e ( k , : ) , { ' . ' , '_ ' } ) ; end

a n g l e _ l i s t=f i l e n a m e ( : , 1 ) ; a n g l e _ l i s t=s t r 2 d o u b l e ( a n g l e _ l i s t ) ; c o u n t =1; % % BEMT P e r f o r m a n c e %f o r V_TAS= 1 0 : 1 0 f o r V_TAS= 0 : 2 5 % % Calculate True Airspeed Prediction F u n c t i o n w/ Wake Interaction Model

f l o w .V = V_TAS ; q = 0 . 5  f l o w . r h o V_TAS^ 2 ; %dynamic pressure

% % Parasite

Drag

Calculation = par_power ( f l o w , f g e o m ) ;

[ Ppar , Dpar_tot ]

p e r f . Dpar_tot = Dpar_tot ; p e r f . Ppar = Ppar / 4 ;

77

APPENDIX C.

MATLAB SCRIPTS

94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118

a l p h a 1=f l o w . i n f l o w _ a n g l e ; % a l p h a 1 =10; % % Performance %I n i t i a l if Condition Statement

V_TAS ==0 f l o w . i n f l o w _ a n g l e=a t a n d ( p e r f . Dpar_tot / f g e o m . w e i g h t ) ; %a l p h a %s t a r t i n g thrust %s t a r t i n g thrust 1

p e r f . Treq=s q r t ( f g e o m . w e i g h t ^2 + Dpar_tot ^ 2 )  1 / 4 ; T1=p e r f . Treq ; p e r f . Treq_rho=p e r f . Treq / f l o w . r h o ;

% Aerodynamic [

Performance

Using

Lookup

Table angle_list , q, perf ) ;

rpm , CP,CM, Px , J i n t ]

= tablelookup ( f i l e , flow ,

a l p h a 2 =0; a l p h a 1 =0; else a l p h a 1=a l p h a 1 + 0 . 1 ; f l o w . i n f l o w _ a n g l e=a l p h a 1 ; T1=s q r t ( f g e o m . w e i g h t ^2 + Dpar_tot ^ 2 )  1 / 4 ; p e r f . Treq_rho=T1/ f l o w . r h o ;

while

a l p h a 1~=a l p h a 2

f l o w . i n f l o w _ a n g l e=a l p h a 1 ; % Aerodynamic [ Performance ] Using Lookup Table flow , angle_list , q, perf

rpm , CP,CM, Px , J i n t ) ;

= tablelookup ( f i l e ,

119 120 121

Px=0; %f i n d alpha2 and T2

a l p h a 2=a s i n d ( ( Dpar_tot / 4  T1+Px  f g e o m . w e i g h t / 4 ) / ( T1^2+Px ^ 2 ) ) ;

78

APPENDIX C.

MATLAB SCRIPTS

122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150
% % Wake for % % % % end clear

T2=(Px  c o s d ( a l p h a 2 )+Dpar_tot / 4 ) / s i n d ( a l p h a 2 ) ;

%c h e c k if

convergence ( a l p h a 1 -a l p h a 2 ) a l p h a 1=a l p h a 2 ; p e r f . Treq=T2 ; f l o w . i n f l o w _ a n g l e=a l p h a 2 ; a l p h a 2 =0; break ;

 ( a l p h a 1 -a l p h a 2 ) < 0 . 0 0 1

else T1=T2 ; p e r f . Treq=T2 ; p e r f . Treq_rho=T2/ f l o w . r h o ; clear T2

a l p h a 1=a l p h a 2 ; a l p h a 2 =0; end end

count ;

%s t a r t i n g

thrust %s t a r t i n g thrust

p e r f . Treq =;

p e r f . Treq_rho=p e r f . Treq / f l o w . r h o ;

Interference

Model

r o i =1: f g e o m . n o r o t o r s [ vix , viy , viz , v i _ s e l f ,X] = WIM_v10( f l o w , rpm , p e r f , fgeom , R , r o i ) ;

79

APPENDIX C.

MATLAB SCRIPTS

151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179
% end % % % % % % % % % %

r o t o r ( j , r o i ) . v i x=v i x ; r o t o r ( j , r o i ) . v i y=v i y ; r o t o r ( j , r o i ) . v i z=v i z ; r o t o r ( j , r o i ) . v i _ s e l f=v i _ s e l f ;

for

c o u n t =1: f g e o m . n o r o t o r s if c o u n t==r o i continue ; else c o u n t 2 =1; r o t o r ( j , r o i ) . w_int ( 1 , c o u n t 2 )=wi ( c o u n t , 3 ) ; c o u n t 2=c o u n t 2 +1; end

end clear count2

%c a l c u l a t e

self

induced

and

interference

power

r o t o r ( j , r o i ) . P i n d _ i n t = 1 . 1 5  p e r f . Treq  r o t o r ( j , r o i ) . v i z ; r o t o r ( j , r o i ) . P i n d _ s e l f = 1 . 1 5  p e r f . Treq  r o t o r ( j , r o i ) . v i _ s e l f ;

% % Calculate

Performance

Values

J= V_TAS/ ( rpm / 6 0  f g e o m . d i a m e t e r ) ;

P r o t =(CP f l o w . r h o  ( rpm / 6 0 ) ^3  f g e o m . d i a m e t e r ^ 5 ) ; Ppro=( f l o w . r h o  a r e a P p r o _ t e s t= P r o t

 ( ( rpm / 6 0 )  2  p i  (R) ) ^3  s i g m a  c d / 8  ( 1 + 3  J ^ 2 ) ) / 4 ;

-

Pind_self ;

80

APPENDIX C.

MATLAB SCRIPTS

180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208
%r e s u l t s ( j , 1 ) . P t o t=r o t o r ( j , : ) . P t o t ; r e s u l t s ( j , 1 ) . Ppr=Ppro ; r e s u l t s ( j , 1 ) . Pp=p e r f . Ppar ; %p r o f i l e %t o t a l power power holder % % Store %s a v e Values values % %Without Interference end %With for Interference

r o i =1: f g e o m . n o r o t o r s r o t o r ( j , r o i ) . P t o t=P r o t+p e r f . Ppar- r o t o r ( j , r o i ) . P i n d _ i n t ;

r e s u l t s ( j , 1 ) . P t o t=P r o t;%+ p e r f . Ppar ;

r e s u l t s ( j , 1 ) . Dpar=p e r f . Dpar_tot ; r e s u l t s ( j , 1 ) . Vrange= V_TAS ; r e s u l t s ( j , 1 ) . Treq=p e r f . Treq ; r e s u l t s ( j , 1 ) . Alpha=a l p h a 1 ; r e s u l t s ( j , 1 ) . rpm_h=rpm ; results (j ,1) .J = J; results ( j ,1) . Jint = Jint ; r e s u l t s ( j , 1 ) .T =p e r f . Treq ; r e s u l t s ( j , 1 ) . q=q ; r e s u l t s ( j , 1 ) . Px=Px ; r e s u l t s ( j , 1 ) .C M = C M; r e s u l t s ( j , 1 ) .X = X;

holder holder

%p a r a s i t i c

power

r e s u l t s ( j , 1 ) . Pav=p e r f . Treq V_TAS ; r e s u l t s ( j , 1 ) . RotP=P r o t ; %r o t o r power holder

81

APPENDIX C.

MATLAB SCRIPTS

209 210 211 212 213
end % j=j +1;

1 2 3 4

function

[

fgeom

]

= coord_setup ( for flyer

fgeom ,

flow

)

% Coordinate

setup

po=o n e s ( f g e o m . n o r o t o r s , 3 ) ; a b _ r a d i u s=f g e o m . a r m l+f g e o m . b o d y r ; of rotor to center of body , in m %t o t a l distance from center

5 6 7 8 9 10 11 12 13
%diamond if t f == 1 for i =1: f g e o m . n o r o t o r s po ( i , 1 : 3 ) =[ a b _ r a d i u s  c o s d ( ( i %s e t rotor m i d p o i n t s , po

check = tf

' diamond ' ;

= strcmp ( fgeom . o r i e n t a t i o n , c h e c k ) ;

- 1)  f g e o m . armang )
labelled 1-4 ccw

, ab_radius  s i n d ( ( i

- 1)

 f g e o m . armang )
14 15 16 17 18
po ( 1 , 1 : 3 ) end %s q u a r e else

, 0 ] ; %r o t o r s

=[ a b _ r a d i u s  ( 1 / s q r t ( 2 ) ) , a b _ r a d i u s  ( 1 / s q r t ( 2 ) ) , 0 ] ; %r o t o r s 1-4 ccw

labelled

19 20 21

po ( 2 , 1 : 3 ) po ( 3 , 1 : 3 ) po ( 4 , 1 : 3 )

=[ a b _ r a d i u s  ( 1 / s q r t ( 2 ) ) , - a b _ r a d i u s  ( 1 / s q r t ( 2 ) ) , 0 ] ; =[- a b _ r a d i u s  ( 1 / s q r t ( 2 ) ) , - a b _ r a d i u s  ( 1 / s q r t ( 2 ) ) , 0 ] ; =[- a b _ r a d i u s  ( 1 / s q r t ( 2 ) ) , a b _ r a d i u s  ( 1 / s q r t ( 2 ) ) , 0 ] ;

82

APPENDIX C.

MATLAB SCRIPTS

22 23 24 25 26 27 28 29 30 31 32

end

% figure ; % s c a t t e r 3 ( po ( : , 1 ) , po ( : , 2 ) , po ( : , 3 ) ) ; % x l a b e l ( 'X -a x i s ' ) ; % y l a b e l ( 'Y -a x i s ' ) ; % z l a b e l ( ' Z- a x i s ' ) ;

f g e o m . po=po ;

end

1 2 3 4 5 6 7 8 9 10 11 12

%F u n c t i o n

to

calculate

parasitic

drag

and

power

of

flyer

body

function

[ Ppar , Dpar_tot , Cd_body , Re ] Sw for each component

= par_power ( f l o w , f g e o m )

%c a l c u l a t e

%f g e o m . Swb=f g e o m . b o d y l  c o s d ( f l o w . i n f l o w _ a n g l e )  2  f g e o m . b o d y r ;

% %C a l c u l a t i o n s

for

Parasite = =

Drag

[ Dpar_arm , Cd_arm , ReA ] [ Dpar_leg , Cd_leg , ReL ]

C y l i n d e r D r a g ( f l o w , f g e o m . armr , f g e o m . Swa ) ; %arm C y l i n d e r D r a g ( f l o w , f g e o m . l e g r , f g e o m . Swl ) ; %arm = S p h e r e D r a g ( f l o w , f g e o m . b o d y r , f g e o m . Swb ) ;%body = S p h e r e D r a g ( f l o w , f g e o m . p a y l o a d r , f g e o m . Swp ) ;%

[ Dpar_body , Cd_body , ReB ]

[ Dpar_payload , Cd_body , ReP ] body

13 14 15
Dpar_tot =(4  Dpar_leg +4Dpar_arm+Dpar_body+Dpar_payload ) ; Ppar = Dpar_tot  f l o w . V ; etc %p a r a s i t i c power due to fuselage

16

end

83

APPENDIX C.

MATLAB SCRIPTS

1 2 3 4 5 6 7 8 9

% Modified

Script

for

Cd

determination

for

cylinder

and

sphere

( Unmodified )

function

[ Dpar , Cd_cyl , Re ]

= C y l i n d e r D r a g ( f l o w , dx , Sw )

[ Rex_in , dx=2 dx ;

Cdy_in ,

Rex_out ,

Cdy_out ]

= generateReynoldsCurveCylinder () ;

Re=f l o w . V f l o w . r h o  dx / f l o w . mu ;

Cd_cyl = i n t e r p 1 ( Rex_out , Cdy_out , Re , at Re

' pchip ' ,

' e x t r a p ' ) ; %i n t e r p o l a t e

Cd

10 11 12 13 14
function () [ Rex_in , Cdy_in , Rex_out , Cdy_out ] = generateReynoldsCurveCylinder Dpar = 0 . 5  Cd_cyl  f l o w . r h o  f l o w . V^2  Sw ; end

15

Rex_in = [ 0 . 1 1000000];

0.3

1

3

10

40

100

300

1000

10000

100000

300000

480000

16 17 18 19 20 21 22 23 24 25 26

% Cdy_in = [ 6 0 Cdy_in = [ 6 0 [ Rex_out , end

25 25

10 10 4

4 3

3 2

2

1.8 1.8 1

1.5 1 1

1 1

1.3 1

1.4 0.28

1

0.28

0.45];

0.45]; Cdy_in , 100) ;

Cdy_out ]

= g e n e r a t e R e y n o l d s C u r v e ( Rex_in ,

function

[ Rex_out ,

Cdy_out ]

= g e n e r a t e R e y n o l d s C u r v e ( Rex ,

Cdy ,

points )

decade_i = decade_f =

c e i l ( l o g 1 0 ( Rex ( 1 ) ) )

-

1;

c e i l ( l o g 1 0 ( Rex ( end ) ) ) ; decade_f , Rex_out , points ) ; ' extrap ' ) ;

Rex_out = l o g s p a c e ( d e c a d e _ i , Cdy_out = i n t e r p 1 ( Rex , end Cdy ,

' pchip ' ,

84

APPENDIX C.

MATLAB SCRIPTS

1 2 3 4 5 6 7 8

function

[ Dpar , Cd_sph , Re ]

= S p h e r e D r a g ( f l o w , dx , Sw ) %t e s t

function

[ Rex_in , dx=2 dx ;

Cdy_in ,

Rex_out ,

Cdy_out ]

= generateReynoldsCurveSphere ( ) ;

Re=f l o w . V f l o w . r h o  dx / f l o w . mu ;

Cd_sph = i n t e r p 1 ( Rex_out , Cdy_out , Re , Cd at Re

' pchip ' ,

' e x t r a p ' ) ; %i n t e r p o l a t e

9 10 11 12 13 14 15 16 17
function Rex , [ Rex_in , Cdy ) 0.4 1 2 6 10 30 10^2 400 2000 10000 100000 400000 1000000 Cdy_in , Rex_out , Cdy_out ] = generateReynoldsCurveSphere ( end end Dpar = 0 . 5  Cd_sph  f l o w . r h o  f l o w . V^2  Sw ; % Cd_sph = 0 . 4 1 ; if f l o w .V ==0 Cd_sph =0;

18

Rex_in = [ 0 . 2 6000000];

19 20 21 22 23 24 25 26

% Cdy_in =[10^2 Cdy_in =[10^2 [ Rex_out , end 60

60 25

25 15

15 6

6 4

4 2

2 1

1

0.6

0.4

0.4

0.5

0.08

0.1

0.2]; 0.2]; 10000) ;

0.6

0.4

0.4

0.4

0.27

0.16

Cdy_out ]

= g e n e r a t e R e y n o l d s C u r v e ( Rex_in ,

Cdy_in ,

function

[ Rex_out ,

Cdy_out ]

= g e n e r a t e R e y n o l d s C u r v e ( Rex ,

Cdy ,

points )

decade_i = decade_f =

c e i l ( l o g 1 0 ( Rex ( 1 ) ) )

-

1;

c e i l ( l o g 1 0 ( Rex ( end ) ) ) ;

85

APPENDIX C.

MATLAB SCRIPTS

27 28

Rex_out = l o g s p a c e ( d e c a d e _ i , %Cdy_out = s p l i n e ( l o g ( Rex ) ,

decade_f , Cdy ,

points ) ; messy for

l o g ( Rex_out ) ) ; % k i n d o f

sphere . . .

29 30 31
end Cdy_out = i n t e r p 1 ( Rex , Cdy , Rex_out , ' pchip ' , ' extrap ' ) ;

1 2 3 4

function

[

low_ang , high_ang , ArrAng

]

= tablebound (

flow ,

angle_list )

end

1 2 3 4 5 6 7 8 9 10 11 12

function

[ rpm , CP ]

= rpm_lookup_v3 ( Vmps , p e r f , a n g l e _ t a b l e ) Table Data for and a a series of interpolation . . . and known dynamic

%P e r f o r m a n c e

Lookup

% U s i n g RAALF E x p e r i m e n t a l % finds t h e RPM, CT,

and CP

required

Thrust

% pressure c o u n t =1; angle_table = c e l l 2 s t r u c t ( angle_table , { ' angle_table ' }) ; A: Find be in the l o w e r RPM c u r v e data

% % Interpolation %l o w e s t curve

would

static

%f i n d RPM g r o u p for i =1: s i z e ( a n g l e _ t a b l e . a n g l e _ t a b l e .R PM) if a n g l e _ t a b l e . a n g l e _ t a b l e . VT( i )<Vmps && a n g l e _ t a b l e . a n g l e _ t a b l e . T h r u s t ( i )< p e r f . Treq || Vmps==0

13 14 15 16 17 18
end end

T_h( c o u n t )= a n g l e _ t a b l e . a n g l e _ t a b l e . T h r u s t ( i ) ; i n d i c e s ( c o u n t )= i ; c o u n t=c o u n t +1;

%f i n d RPM c u r v e

or

range

86

APPENDIX C.

MATLAB SCRIPTS

19 20 21 22

[ A, B]= min ( a b s (T_h - p e r f . Treq ) ) ; rpm_A =a n g l e _ t a b l e . a n g l e _ t a b l e .RPM( i n d i c e s (B) ) ; % RPM c u r v e

T_Ar = a n g l e _ t a b l e . a n g l e _ t a b l e { a n g l e _ t a b l e . a n g l e _ t a b l e .RP M == rpm_A , Thrust ' } } ;

{'

23

VT_A = a n g l e _ t a b l e . a n g l e _ t a b l e { a n g l e _ t a b l e . a n g l e _ t a b l e .RPM == rpm_A , }};

{ 'VT '

24

CP_Ar = a n g l e _ t a b l e . a n g l e _ t a b l e { a n g l e _ t a b l e . a n g l e _ t a b l e .RP M == rpm_A , }};

{ 'CP '

25 26 27 28 29 30 31 32 33 34 35
%r e s e t counter T_A =i n t e r p 1 (VT_A, T_Ar , Vmps ) ; CP_A =i n t e r p 1 (VT_A, CP_Ar , Vmps ) ; % % Interpolation %S e a r c h %h i g h e r B: Find the find u p p e r RPM c u r v e at w h i c h RPM a r e and velocity both t h e VT and the Thrust

t h r o u g h RPMs t o than the

required

thrust

c o u n t =1; for i =1: s i z e ( a n g l e _ t a b l e . a n g l e _ t a b l e .R PM) if Vmps<a n g l e _ t a b l e . a n g l e _ t a b l e . VT( i ) && p e r f . Treq<a n g l e _ t a b l e . a n g l e _ t a b l e . T h r u s t ( i ) && a n g l e _ t a b l e . a n g l e _ t a b l e .RPM( i )~=rpm_A

36 37 38 39 40 41 42 43
end

T_h( c o u n t )= a n g l e _ t a b l e . a n g l e _ t a b l e . T h r u s t ( i ) ; i n d i c e s ( c o u n t )= i ; c o u n t=c o u n t +1; end

%f i n d RPM c u r v e c o u n t =1;

or

range

87

APPENDIX C.

MATLAB SCRIPTS

44 45 46 47

[ A, B]= min ( a b s (T_h - p e r f . Treq ) ) ; rpm_B=a n g l e _ t a b l e . a n g l e _ t a b l e .RP M( i n d i c e s (B) ) ; % RP M curve

T_Br = a n g l e _ t a b l e . a n g l e _ t a b l e { a n g l e _ t a b l e . a n g l e _ t a b l e .RPM == rpm_B , Thrust ' } } ;

{'

48

VT_B = a n g l e _ t a b l e . a n g l e _ t a b l e { a n g l e _ t a b l e . a n g l e _ t a b l e .R PM == rpm_B , }};

{ 'VT '

49

CP_Br = a n g l e _ t a b l e . a n g l e _ t a b l e { a n g l e _ t a b l e . a n g l e _ t a b l e .R PM == rpm_B , }};

{ 'CP '

50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69
% % Interpolation ArrT =[T_A,T_B ] ; ArrR =[rpm_A , rpm_B ] ; ArrCP=[CP_A,CP_B ] ; rpm=i n t e r p 1 ( ArrT , ArrR , p e r f . Treq ) ; CP =i n t e r p 1 ( ArrT , ArrCP , p e r f . Treq ) ; C: Interpolate between curves to locate R PM end % % Value %s t o p if Check if bounds are equal %f i n d upper velocity

T_B =i n t e r p 1 (VT_B, T_Br , Vmps ) ; CP_B =i n t e r p 1 (VT_B, CP_Br , Vmps ) ;

interpolation

rpm_B == rpm_A rpm=rpm_B ; CP = CP_B; return ;

88

APPENDIX C.

MATLAB SCRIPTS

70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98
%r e s e t counter end

% c o u n t =1; % for % % % % % % end % % % %f i n d RP M curve % c o u n t =1; % [ A, B]=max ( a b s ( T_h1 - p e r f . Treq ) ) ; % rpm_A =ASP130_15 .RPM( i n d i c e s (B) ) ; % RPM c u r v e % % for % % % % % % end % % %f i n d upper velocity end i =1: s i z e ( ASP130_15 .R PM) if ASP130_15 .RP M( i )== rpm_A range_A ( c o u n t )= i ; c o u n t=c o u n t +1; i = i +1; or range i =1: s i z e ( ASP130_15 .R PM) if Vmps>ASP130_15 . VT( i ) && p e r f . Treq>ASP130_15 . T h r u s t ( i )

T_h1 ( c o u n t )= ASP130_15 . T h r u s t ( i ) ; i n d i c e s ( c o u n t )= i ; c o u n t=c o u n t +1; end

89

APPENDIX C.

MATLAB SCRIPTS

99 100 101 102 103 104

% V_A =i n t e r p 1 ( ASP130_15 . T h r u s t ( range_A ) , ASP130_15 . VT( range_A ) , p e r f . Treq ) ; % CP_A =i n t e r p 1 ( ASP130_15 . T h r u s t ( range_A ) , ASP130_15 . CP( range_A ) , p e r f . Treq ) ;

% for %

i =1: s i z e ( ASP130_15 .R PM) if ASP130_15 .RP M( i )== rpm_B && Vmps<ASP130_15 . VT( i ) && p e r f . Treq<

ASP130_15 . T h r u s t ( i )

105 106 107 108 109 110 111 112 113 114 115

% % % % % end end

range_B ( c o u n t )= i ; c o u n t=c o u n t +1; i = i +1;

% %f i n d % for % % end

lower

boundary

i =1: s i z e ( range_B , 2 ) Range_B ( i )=range_B ( i )

- 1;

% Range_B ( ( s i z e ( range_B , 2 ) ) +1)=range_B ( s i z e ( range_B , 2 ) ) ;

1 2 3 4 5 6 7 8 9 10 11

function j =1; h =1;

[ rpm , CP,CM, Px_rho ,

Jint ]

= rpm_lookup_fix ( q , p e r f , a n g l e _ t a b l e )

for

k =2: l e n g t h ( a n g l e _ t a b l e . a n g l e _ t a b l e .R PM) if a n g l e _ t a b l e . a n g l e _ t a b l e . q ( j )==q l o w ( 1 , h )=j ; up ( 1 , h )=k ; h=h +1; else %l o w e r and upper indices

90

APPENDIX C.

MATLAB SCRIPTS

12

if

( a n g l e _ t a b l e . a n g l e _ t a b l e . q ( j )< q && q < a n g l e _ t a b l e . a n g l e _ t a b l e . q ( k ) ) %c o r r e c t i o n , less than or equal

13 14 15 16 17 18 19 20 21
%d e t e r m i n e smallest end end j=j +1; end

l o w ( 1 , h )=j ; up ( 1 , h )=k ; h=h +1;

which

curves

to

be

interpolated

on .

The

three

curves

with

the

22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38

% difference %I f %c a n for there are

between 3 then

the the the

required

T/ r h o

and

the

t a b l e d T/ r h o

will

be

used

interpolation need to sort

scheme for which curves are closer

move on

without

i =1: l e n g t h ( l o w ) A( i )=a b s ( a n g l e _ t a b l e . a n g l e _ t a b l e . T h r u s t _ r h o ( l o w ( i ) )- p e r f . Treq_rho ) ;

end

[ B , I ]= s o r t (A, ' a s c e n d ' ) ; %p i c k %The the first can diverse exploit three by which are the rpms going upper will to be the as three an by closest . if q is

program on

choosing sure the

bound be

indice making

%l i s t e d %t h i s

the not

table . happen

Make

diverse

sure

does

I=I ( 1 : 3 ) ;

rpm_LL=a n g l e _ t a b l e . a n g l e _ t a b l e .RPM( l o w ( I ( 1 ) ) ) ; q_LL=[ a n g l e _ t a b l e . a n g l e _ t a b l e . q ( l o w ( I ( 1 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . q ( up ( I

91

APPENDIX C.

MATLAB SCRIPTS

(1) ) ) ] ;

39

T_rho_LL =[ a n g l e _ t a b l e . a n g l e _ t a b l e . T h r u s t _ r h o ( l o w ( I ( 1 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . T h r u s t _ r h o ( up ( I ( 1 ) ) ) ] ;

40

CM_LL =[ a n g l e _ t a b l e . a n g l e _ t a b l e .C M( l o w ( I ( 1 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e .C M( up ( I (1) ) ) ] ;

41

CP_LL =[ a n g l e _ t a b l e . a n g l e _ t a b l e . CP( l o w ( I ( 1 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . CP( up ( I (1) ) ) ] ;

42

Px_LL =[ a n g l e _ t a b l e . a n g l e _ t a b l e . Px_rho ( l o w ( I ( 1 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . Px_rho ( up ( I ( 1 ) ) ) ] ;

43

J_LL

=[ a n g l e _ t a b l e . a n g l e _ t a b l e . J i n f ( l o w ( I ( 1 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e .

J i n f ( up ( I ( 1 ) ) ) ] ;

44 45 46 47 48 49 50 51 52 53 54 55
%i n t e r p o l a t e %c r e a t e mini lower arrays rpm T_LL =i n t e r p 1 ( q_LL , T_rho_LL , q ) ; CP_LL =i n t e r p 1 ( q_LL , CP_LL ,q) ;

CM_LL =i n t e r p 1 ( q_LL ,CM_LL, q ) ; Px_LL=i n t e r p 1 ( q_LL , Px_LL , q ) ; J_LL=i n t e r p 1 ( q_LL , J_LL , q ) ;

rpm_L=a n g l e _ t a b l e . a n g l e _ t a b l e .RPM( l o w ( I ( 2 ) ) ) ; q_L=[ a n g l e _ t a b l e . a n g l e _ t a b l e . q ( l o w ( I ( 2 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . q ( up ( I ( 2 ) )) ];

56

T_rho_L =[ a n g l e _ t a b l e . a n g l e _ t a b l e . T h r u s t _ r h o ( l o w ( I ( 2 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . T h r u s t _ r h o ( up ( I ( 2 ) ) ) ] ;

57

CM_L =[ a n g l e _ t a b l e . a n g l e _ t a b l e .C M( l o w ( I ( 2 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e .C M( up ( I (2) ) ) ] ;

58

CP_L =[ a n g l e _ t a b l e . a n g l e _ t a b l e . CP( l o w ( I ( 2 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . CP( up (

92

APPENDIX C.

MATLAB SCRIPTS

I (2) ) ) ] ;

59

Px_L =[ a n g l e _ t a b l e . a n g l e _ t a b l e . Px_rho ( l o w ( I ( 2 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . Px_rho ( up ( I ( 2 ) ) ) ] ;

60

J_L

=[ a n g l e _ t a b l e . a n g l e _ t a b l e . J i n f ( l o w ( I ( 2 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . J i n f ( up ( I ( 2 ) ) ) ] ;

61 62 63 64 65 66 67 68 69 70 71
%i n t e r p o l a t e upper T_L =i n t e r p 1 ( q_L , T_rho_L , q ) ; CP_L =i n t e r p 1 ( q_L , CP_L ,q) ;

CM_L =i n t e r p 1 ( q_L ,CM_L, q ) ; Px_L=i n t e r p 1 ( q_L , Px_L , q ) ; J_L=i n t e r p 1 ( q_LL , J_L , q ) ;

rpm_U =a n g l e _ t a b l e . a n g l e _ t a b l e .RP M( l o w ( I ( 3 ) ) ) ; q_U =[ a n g l e _ t a b l e . a n g l e _ t a b l e . q ( l o w ( I ( 3 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . q ( up ( I (3) ) ) ] ;

72

T_rho_U =[ a n g l e _ t a b l e . a n g l e _ t a b l e . T h r u s t _ r h o ( l o w ( I ( 3 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . T h r u s t _ r h o ( up ( I ( 3 ) ) ) ] ;

73

C M _ U =[ a n g l e _ t a b l e . a n g l e _ t a b l e .C M( l o w ( I ( 3 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e .C M( up ( I (3) ) ) ] ;

74

CP_U =[ a n g l e _ t a b l e . a n g l e _ t a b l e . CP( l o w ( I ( 3 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . CP( up ( I (3) ) ) ] ;

75

Px_U =[ a n g l e _ t a b l e . a n g l e _ t a b l e . Px_rho ( l o w ( I ( 3 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . Px_rho ( up ( I ( 3 ) ) ) ] ;

76

J_U

=[ a n g l e _ t a b l e . a n g l e _ t a b l e . J i n f ( l o w ( I ( 3 ) ) ) , a n g l e _ t a b l e . a n g l e _ t a b l e . J i n f ( up ( I ( 3 ) ) ) ] ;

77 78

93

APPENDIX C.

MATLAB SCRIPTS

79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107

T_U =i n t e r p 1 (q_U, T_rho_U , q ) ; CP_U =i n t e r p 1 (q_U,CP_U ,q) ;

C M _ U =i n t e r p 1 (q_U,CM_U, q ) ; Px_U =i n t e r p 1 (q_U, Px_U, q ) ; J_U =i n t e r p 1 ( q_LL , J_U, q ) ;

%s o l u t i o n %make array to interpolate

ArrT =[T_LL, T_L,T_U ] ; ArrR =[rpm_LL , rpm_L , rpm_U ] ; ArrCP=[CP_LL, CP_L,CP_U ] ; ArrCM=[CM_LL,CM_L,C M _ U] ; ArrPx =[Px_LL , Px_L , Px_U ] ; A r r J =[J_LL , J_L , J_U ] ;

%c h e c k % for % % % % % % % % % end

to

see

if

all

elements

of

ArrT

are

d i s t i n c t , MUST be

for

polyfit

i =1:2 for j =2:3 if j==i continue ; else if ArrT ( i )==ArrT ( j ) ArrT ( i )=ArrT ( i ) + 0 . 1 ; end end end

c o e f f = p o l y f i t ( ArrT , ArrR , 2 ) ; rpm= c o e f f ( 1 )  p e r f . Treq_rho^2+ c o e f f ( 2 )  p e r f . Treq_rho+ c o e f f ( 3 ) ;

94

APPENDIX C.

MATLAB SCRIPTS

108 109 110 111 112 113 114 115 116 117 118

%rpm=i n t e r p 1 ( ArrT , ArrR , p e r f . Treq_rho ) ;

%f i n d

Cp

through

cubic

interpolation

since

n

and Cp

are

cubically

related

CP =i n t e r p 1 ( ArrR , ArrCP , rpm , ' p c h i p ' , ' e x t r a p ' ) ; C M =i n t e r p 1 ( ArrR , ArrCM , rpm , ' l i n e a r ' , ' e x t r a p ' ) ; Px_rho=i n t e r p 1 ( ArrR , ArrPx , rpm , ' l i n e a r ' , ' e x t r a p ' ) ; J i n t=i n t e r p 1 ( ArrR , ArrJ , rpm , ' l i n e a r ' , ' e x t r a p ' ) ;

end

1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18

%f u n c t i o n % Wake

[ V t i n , Wtin ]

= WIM( b l a d e , f l o w , o p e r , gamma , a l p h a ) Uses updated by vortring and vortsegment interference in a

Interference the

Model V. 1 0

%C a l c u l a t e

induced the

velocity center of

caused the

r o t o r / wake / body To b e used

%r o t o r c r a f t /UAV a t %t h r u s t (N) , %u p d a t e d

rotor .

w i t h TABLE LOOKUP

a z i m u t h ( r a d ) , V(m/ s ) , geometry

structures ,

function

[ vix , viy , viz , v i _ s e l f ,X] Parameters

= WIM_v10( f l o w , omega , p e r f , fgeom , R , r o i )

% % General % hold %a x i s ;

equal ; %number of segments of wakes for for VortRing VortRing calculation calculation

n o s e g =100; nowakes =400;

%number

r= R; a l p h a=d e g t o r a d ( f l o w . i n f l o w _ a n g l e ) ; r o t o r s=f g e o m . n o r o t o r s ; %a n g l e %number of of attack rotors

95

APPENDIX C.

MATLAB SCRIPTS

19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47

B l a d e s =2; %t h r u s t for each rotor

%number

of

blades

po=f g e o m . po ;

for

i =1: r o t o r s t h r u s t ( : , i )=p e r f . Treq ; R ( : , i )=r ; A ( : , i )=p i .  R ( : , i ) ^ 2 ; n ( : , i )=omega / 6 0 ; %r e v / s

c i r c ( : , i )=t h r u s t ( : , i ) / ( f l o w . r h o  p i ( ) .  n ( : , i ) .  ( R ( : , i ) ) . ^ 2  B l a d e s ) ; end

% % Calculate

induced

Velocity

P=[ po ( r o i , 1 ) , po ( r o i , 2 ) , po ( r o i , 3 ) ] ;

%p o i n t

of

interest

%f i g u r e ; f o r m=1: r o t o r s % m denotes % % % % % % % else mu=( f l o w . V c o s ( a l p h a ) ) ; v =0.5  ( - f l o w . V s i n ( a l p h a )+s q r t ( ( f l o w . V s i n ( a l p h a ) ) ^2+2 t h r u s t (m) / ( f l o w . if m ==r o i which rotor is influencing

% CHANGE FOR DIFFERENT ROTOR

wi (m, 1 : 3 ) =0; elseif m ==1

w i (m, 1 : 3 ) =0; elseif m ==3

w i (m, 1 : 3 ) =0;

96

APPENDIX C.

MATLAB SCRIPTS

r h o R(m) ^2  p i ) ) ) ;

48 49 50

%v=s q r t ( t h r u s t (m) / ( 2  f l o w . r h o A(m) ) ) ; lambda=f l o w . V s i n ( a l p h a ) ; X =a t a n 2 (mu , lambda+v ) ; %c a l c u l a t e rotor skew angle of wakes for influencing

51

% X =a t a n (( - f l o w . V c o s ( a l p h a ) ) / ( f l o w . V s i n ( a l p h a )- s q r t ( t h r u s t (m) / ( 2  f l o w . r h o R(m) ^2  p i ) ) ) ) ;

52 53 54 55
% %

X =r a d t o d e g (X) ;%+ 1 8 0 ;

if

X>90 X = 1 / ( a t a n 2 (( - f l o w . V c o s ( a l p h a ) ) , ( f l o w . V s i n ( a l p h a )

- 0.5  ( - f l o w . V

s i n ( a l p h a )+s q r t ( ( f l o w . V s i n ( a l p h a ) ) ^2+(2  t h r u s t (m) / ( f l o w . r h o A(m) ) ) ) ) ) ) ) ;

56 57 58 59 60 61

%

end

wih =0; z o f f =0; for k = 0 : 1 : nowakes z o f f =k  1 / n (m)  0 . 5  ( - f l o w . V s i n ( a l p h a )+s q r t ( ( f l o w . V s i n ( a l p h a ) ) ^2+(2  t h r u s t (m) / ( f l o w . r h o A(m) ) ) ) )

(1/ Blades ) ;

62 63 64 65 66 67 68 69 70
end %add end

wih=wih+V o r t R i n g ( n o s e g , z o f f , X, R(m) , c i r c (m) , P , po (m, 1 : 3 ) ) ;

w i (m, 1 : 3 ) =wih ; %i n d u c e d

velocity

from

each

rotor

induced

velocities

and

subtract

rotor

of

interest

to

get

interference

v i _ i n t =(sum ( wi )-w i ( r o i , 1 : 3 ) ) ; %s e l f induced velocity

v i _ s e l f=w i ( r o i , 3 ) ;

97

APPENDIX C.

MATLAB SCRIPTS

71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99

% v i x=v i _ i n t ( 1 , 1 ) ; v i y=v i _ i n t ( 1 , 2 ) ; v i z=v i _ i n t ( 1 , 3 ) ;

%v i _ s e l f=w i ( 1 , 3 ) ;

% v i x=wi ( 1 , 3 ) ; % v i y=wi ( 2 , 3 ) ; % v i z=w i ( 3 , 3 ) ;

%c l e a r

wi ;

% % %p l o t quiverplot for specific rotor

% poi_x=v i _ i n t ( 1 , 1 ) ; % poi_y=v i _ i n t ( 1 , 2 ) ; % z 2=v i _ i n t ( 1 , 3 ) ; % p l o t 3 ( poi_x , poi_y , z 2 ) ; % q u i v e r 3 (P ( 1 ) , P ( 2 ) , P ( 3 ) , poi_x , poi_y , z 2 ) ;

% x l a b e l ( ' x- a x i s ' ) ; % y l a b e l ( ' y- a x i s ' ) ; % z l a b e l ( ' z- a x i s ' ) ; end

98

APPENDIX C.

MATLAB SCRIPTS

1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27

function

[ wi , xo ] 8 th : 23 rd :

= VortRing added for

( i , z , X, R , gamma , P , po ) to plot and rings only when 20 z =0 , only rotor

%S e p t e m b e r %November %

statement

vectorized

vortsegment

vortring ,

cut

seconds

ang =360/ i ; %a n g l e

between

vortex

segment

%s e t

midpoint

based

on

skew

angle

%xo = x o f n (X, po , z ) ; xo =[ po ( 1 )+z  t a n d (X) , po ( 2 ) , po ( 3 )-z ] ;

%s e t

coordinates for coordinates loop

k =0; %c o u n t e r for j =1: i

s ( j , : ) =[ xo ( 1 )+ R c o s d ( k  ang ) , xo ( 2 )+ R s i n d ( k  ang ) , xo ( 3 ) ] ; k=k +1; end

% % % %

hold

on ;

%s c a t t e r 3 ( xo ( : , 1 ) , xo ( : , 2 ) , xo ( : , 3 ) ) ; plot3 ( s (: ,1) , s (: ,2) , s (: ,3) ) ; s c a t t e r 3 (P ( 1 ) , P ( 2 ) , P ( 3 ) ) ;

w i=sum ( V o r t S e g m e n t ( P , s , gamma ) ) ; %c a l l segments

vortex

segment

code

for

first

i -1

28

99

APPENDIX C.

MATLAB SCRIPTS

29 30 31 32 33 34 35 36
% w i =0; % for % % % % % end w i=wi+V o r t S e g m e n t ( P , s ( j , : ) , s ( j + 1 , : ) , gamma ) ; %c a l l for first i -1 segments vortex segment code j =1:1: i if j==i wi=w i+V o r t S e g m e n t ( P , s ( i , : ) , s ( 1 , : ) , gamma ) ; break

37 38 39 40

% end

end

1

%V o r t e x by

Segment vortex

---------

calculates

the

induced

velocity

on

a

point

caused

segment added

filament if statement for d distance to avoid singularities

2 3 4 5 6 7 8 9 10 11 12 13 14 15

%S e p t e m b e r

8 th :

function

[ q 1 2 ]=

V o r t S e g m e n t ( P , s , gamma )

A =l e n g t h ( s ( : , 1 ) ) ;

s 1=s ;

s 2 =[ s ( [ 2 : end ] , : ) ; s ( 1 , : ) ] ; Pe=o n e s (A, 1 )

P ;

r 1=Pe-s 1

;%P o i n t P

- -

vortex vortex

segment segment

starting ending

point

gives

length of

of r2

r1

r 2=Pe-s 2 ; %P o i n t P

point

gives

length

100

APPENDIX C.

MATLAB SCRIPTS

16 17 18 19 20 21 22 23 24 25 26 27 28

r 0=r 1 -r 2 ;

p r o d u c t = c r o s s ( r1 , r2 , 2 ) ; product_norm = ( p r o d u c t ( : , 1 ) .^2+ p r o d u c t ( : , 2 ) .^2+ p r o d u c t ( : , 3 ) . ^ 2 ) . ^ 0 . 5 ;

norm_r0 = ( r 0 ( : , 1 ) .^2+ r 0 ( : , 2 ) .^2+ r 0 ( : , 3 ) . ^ 2 ) . ^ 0 . 5 ; norm_r1 = ( r 1 ( : , 1 ) .^2+ r 1 ( : , 2 ) .^2+ r 1 ( : , 3 ) . ^ 2 ) . ^ 0 . 5 ; norm_r2 = ( r 2 ( : , 1 ) .^2+ r 2 ( : , 2 ) .^2+ r 2 ( : , 3 ) . ^ 2 ) . ^ 0 . 5 ;

d = product_norm . / norm_r0 ;

c o s B 1 = d o t ( r 0 , r 1 , 2 ) . / ( norm_r0 .  norm_r1 ) ; %w h e r e line segment

B1

is

angle

between

r1

and

29

c o s B 2 = d o t ( r 0 , r 2 , 2 ) . / ( norm_r0 .  norm_r2 ) ; %w h e r e line segment

B2

is

angle

between

r2

and

30 31
qtheta =

-gamma . / ( 4  p i .  d ) .  ( cosB1 -c o s B 2 ) ;

%v e l o c i t y

induced

in

P by

vortex

segment

32 33
q 1 2=p r o d u c t .  [ q t h e t a product_norm ] ; qtheta qtheta ] in in ./ [ product_norm segment product_norm directionalized

%v e l o c i t y

P by

vortex

34 35 36 37 38 39 40
q12 = q12 .  [ i d x idx idx ] ; d2 = d .  d ; i d x = ( d2 >=10^( - 10) ) ;

%q 1 2 ( i s n a n ( q 1 2 ) ) = 0 ; % if ( d .  d ) <=10^( - 10)

101

APPENDIX C.

MATLAB SCRIPTS

41 42 43 44 45

% % else

q12 = [ 0 , 0 , 0 ] ;

end

102

Bibliography
[1] Aeryon, Aeryon SkyRanger the benchmark for VTOL sUAS,

https://www.aeryon.com/

aeryon-skyranger,

2016, [Online; retrieved 16-September-2016].

[2] Calvo, K., So You Want to Fly Drones?

http://voices.nationalgeographic.com/2013/11/

30/so-you-want-to-fly-drones/,

2013, [Online; retrieved 16-September-2016].

[3] Gupte, S., Mohandas, P. I. T., and Conrad, J. M., A survey of quadrotor unmanned aerial vehicles,

2012 Proceedings of IEEE , Orland, Fl, March 2012, pp. 16.
[4] Bouabdallah, S.,

Design and control of quadrotors with application to autonomous ying , Master's

thesis, Ecole Technique Federale de Lausanne, 2007.

[5] Logan, M., Chu, J., Motter, M. A., Carter, D. L., Ol, M., and Zeune, C., Small UAV Research and Evolution in Long Endurance Electric Powered Vehicles,

AIAA Infotech Aerospace 2007 Conference

and Exhibit , 2007.
[6] Logan, M., Chu, J., Motter, M. A., Carter, D. L., Ol, M., and Zeune, C., Toward an Accurate Physics-Based UAV Thruster Model,

IEEE/ASME Transactions on Mechatronics , 2013.

[7] Russell, C., Jung, J., Willinuk, G., and Glasner, B., Wind Tunnel and Hover Performance Test Results for Multicopter UAS Vehicles, Palm Beach Fl., 2016.

American Helicopter Society 72nd Annual Forum ,

West

[8] Merchant, M. P. and Miller, L. S., Propeller Performance Measurement for Low Reynolds Number UAV Applications, 2006.

AIAA Aerospace Sciences Meeting and Exhibit , Vol. 2006-1127, Reno, NV, Jan

103

BIBLIOGRAPHY

[9] Deters, R. W., Ananda, G. K., and Selig, M. S., Reynolds Number Eects on the Performance of Small-Scale Propellers, GA, June 2014.

32nd AIAA Applied Aerodynamics Conference , Vol. 2014-2151, Atlanta,

[10] Thomas, F., 1999.

Fundamentals of Sailplane Design ,

College Park Press, College Park Maryland, USA,

[11] Young, C., The Prediction of Helicopter Rotor Hover Performance using a Prescribed Wake Analysis, Tech. Rep. No. 1341, Aeronautical Research Council, 1974.

[12] Powers, C., Mellinger, D., Kushleyev, A., Kothmann, B., and Kumar, V., Inuence of Aerodynamics and Proximity Eects in Quadrotor Flight,

The 13th International Symposium on Experimental

Robotics , Vol. 88, Quebec City, CA, June 2012, pp. 289302.
[13] De Leeuw, J. and Castles, W., The Normal Component of the Induced Velocity in the Vicinity of a Lifting Rotor and Some Examples of its Application, Tech. Rep. No.1184, NACA, 1955.

[14] Seddon, J.,

Basic Helicopter Aerodynamics , BSP Professional Books, Oxford, Eng., 1990. BramwellÃ¢s Helicopter Dynamics , Butterworth-Heinemann, Oxford, Eng., 2001. CFD Analysis on the Main-Rotor Blade of a Scale Helicopter Model using Overset

[15] Bramwell, A.,

[16] Rodriguez, C.,

Meshing , Master's thesis, KTH Royal Institute of Technology, 2012.
[17] Leishman, J. G., US, 2006.

Principles of Helicopter Aerodynamics ,

Cambridge University Press, New York,

[18] Borst, H. V., Summary of Propeller Design Procedures and Data Vol. 1, Tech. Rep. No. 73-34A, Army Air Mobility Research and Development Laboratory, 1973.

[19] McCormick, B. W., New York, US, 1995.

Aerodynamics, Aeronautics, and Flight Mechanics ,

Vol. 2, Wiley New York,

[20] Ghazbi, S. N., Aghli, Y., Alimohammadi, M., and Akbari, A., Quadrotors Unmanned Aerial Vehicles: A Review,

International Journal on Smart Sensing and Intelligent Systems , 2016.

[21] Gustafson, F., Eect on Helicopter Performance of Modications in Prole-Drag Characteristics of Rotor-Blade Airfoil Sections, Wartime Report No. 6447, NACA, 1944. 104

BIBLIOGRAPHY

[22] Tetervin, N., Tests in the NACA Two-Dimensional Low-Turbulence Tunnel of Airfoil Sections Design to Have Small Pitching Moments and High Lift-Drag Ratios, Wartime Report No.3113, NACA, 1943.

[23] Anderson Jr., J.,

Fundamentals of Aerodynamics , Tata McGraw-Hill, USA, 5th ed., 2012.

[24] Randall, R., Shkarayev, S., Abate, G., and Babcock, J., Longitudinal Aerodynamics of Rapidly Pitching Fixed-Wing Micro Air Vehicles,

Journal of Aircraft , 2012.

[25] Carroll, T.,

The Aerodynamic Simulation, Design and Optimization of Small Rotors in Congura-

tion for Autonomous Aerial Vehicles , Master's thesis, Ryerson University, 2016.
[26] Barcelos, D., Flow Quality Testing and Improvement of the Ryerson University Low Speed Wind Tunnel, Undergraduate Thesis, Ryerson University, 2016.

[27] Brandt, J., 2003.

Small Scale Propeller Performance at Low Speeds , Master's thesis, University of Illinois,

[28] Rwigema, M., Propeller Blade Element Momentum Theory with Vortex Wake Deection,

27th

International Congress of the Aeronautical Sciences , Vol. 2010-2.3.3, Nice, France, 2010.
[29] Katz, J. and Plotkin, A., 2001.

Low-Speed Aerodynamics ,

Cambridge University Press, New York, US,

[30] Wallace, R., Graphing Resources:

Using Error Bars in your Graph,

https://www.ncsu.edu/

labwrite/res/gt/gt-stat-home.html,
[31] Coleman, H. W. and Glenn Steele, W.,

2005, [Online; retrieved 17-October-2016].

Experimentation, Validation, and Uncertainty Analysis for

Engineers , Vol. 1, John Wiley and Sons, 2009.

105

