NUMERICAL AND EXPERIMENTAL MODAL ANALYSIS OF MACHINE TOOL SPINDLES ACCOUNTING FOR SYSTEM DECAY AND ITS APPLICATION TO CHATTER AVOIDANCE

by: Omar Gaber Master of Applied Science, Ryerson University (2005) Bachelor of Engineering, Ryerson University (2003)

A dissertation presented to Ryerson University in partial fulfillment of the requirements for the degree of Doctor of Philosophy in the Program of Aerospace Engineering

Toronto, Ontario, Canada, 2016 ©Omar Gaber 2016
   



AuthorDeclaration
I hereby declare that I am the sole author of this dissertation. This is a true copy of the dissertation, including any required final revisions, as accepted by my examiners.

I authorize Ryerson University to lend this dissertation to other institutions or individuals for the purpose of scholarly research.

I further authorize Ryerson University to reproduce this dissertation by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research.

I understand that my dissertation may be made electronically available to the public.

ii   

Abstract
Numerical and Experimental Modal Analysis of Machine Tool Spindles Accounting for System Decay and its Application to Chatter Avoidance

Omar Gaber Doctor of Philosophy, Aerospace Engineering, Ryerson University, Toronto 2016 Cycle time, which is the time it takes to machine a certain part, has undergone a great deal of scrutiny as it is directly related to a company's profitability. When trying to machine a part as quickly as possible, selecting the wrong cutting parameters will cause chatter. Tight surface finish and thickness tolerances are usually required by customers. Money lost due to rework and scrap from the destructive nature of chatter has driven a significant number of research studies. It is well established that chatter is directly linked to the natural frequency of the cutting system. As the spindle ages, the vibrational characteristics of the system change. The wear in the spindle bearings causes the system stiffness to decline which results in the changing of natural frequency changing. This change causes the stability lobes to shift. This shift could render a usually stable cut unstable, causing poor surface finish. Excessive chatter can also damage the spindle and shorten its usable life. The objective of this study is to predict the vibrational behaviour of a spindle as it ages. This will be done for spindles utilized under different production constraints. A model of the spindle is also developed by exploiting its Dynamic Stiffness Matrix (DSM) and applying the proper boundary conditions. These results will then be compared to the experimental results obtained from tap testing different spindles to validate and tune the model. Once the static (non-spinning) results are confirmed and the spindle model tuned to represent the real system, the DSM formulation will then be extended to include varying rotational speeds and relevant boundary condition for further modelling purposes. Ultimately, the goal of this research
iii   

is to develop a procedure to be able to select the correct cutting parameters over the life cycle of the spindle while minimizing the number of tap tests done on the spindle.

iv   

Acknowledgments
I would like to take this opportunity to express my sincerest appreciation to my supervisor, Professor Seyed M. Hashemi. Without him the completion of this thesis would not have been possible. His guidance and expertise have proven invaluable. The author would also like to acknowledge Centra Industries (a Division of PCC Aerostructures) and its management for their support and encouragement.

v   

TableofContents
Author Declaration.......................................................................................................................... ii Abstract .......................................................................................................................................... iii Acknowledgments........................................................................................................................... v Table of Contents ........................................................................................................................... vi List of Tables ............................................................................................................................... viii List of Figures ................................................................................................................................ ix Nomenclature ................................................................................................................................. xi Chapter 1: Introduction ................................................................................................................... 1 1.1 1.2 1.3 1.4 2.0 2.1 2.2 3.0 3.1 3.2 3.3 3.4 Overview ............................................................................................................................. 1 Motivation ........................................................................................................................... 2 Objectives............................................................................................................................ 3 Thesis Organization ............................................................................................................ 3 Introduction ......................................................................................................................... 6 Literature Review ................................................................................................................ 6 Problem Description ......................................................................................................... 22 Introduction ....................................................................................................................... 25 Governing Equations with Torsional Effects Ignored ...................................................... 25 Governing Equations with Torsional Effects Included ..................................................... 34 Dynamic Stiffness Matrix Validation ............................................................................... 41 Numerical Results ............................................................................................................. 44 High-Speed Machining Spindle; the Calibrated DSM Results .................................. 45 Bearing Wear Order.................................................................................................... 51 Low Speed Machining Spindle- Calibrated DSM ...................................................... 54

Chapter 2: Background and Literature Review .............................................................................. 6

Chapter 3: Spindle Natural Frequency Evaluation ....................................................................... 25

3.4.1 3.4.2 3.4.3 3.5 4.0 4.1 4.2
 

Discussion ......................................................................................................................... 59 Introduction ....................................................................................................................... 60 Experimental Equipment................................................................................................... 60 Experimental Procedure .................................................................................................... 61
vi 

Chapter 4: Experimental Analysis ................................................................................................ 60

4.3 4.4 4.5 4.6 5.0 5.1 5.2 5.3 5.4 5.5 5.6 5.7 6.1 6.2

Experimental Results ........................................................................................................ 65 Spindle Health ................................................................................................................... 69 Spindle Damage ................................................................................................................ 72 Discussion ......................................................................................................................... 77 Introduction ....................................................................................................................... 78 Converting Dynamic Stiffness Matrix to a Static Stiffness Matrix .................................. 78 Tool Vibration and Regenerative Chatter ......................................................................... 83 Stability Lobes Generation Using Fourier Series ............................................................. 85 Stability Lobes Code Development and Validation .......................................................... 90 Numerical Results ............................................................................................................. 91 Experimental Validation of Stability Lobes Code ............................................................ 96 Discussion ....................................................................................................................... 101 Concluding Remarks ....................................................................................................... 102 Future Work .................................................................................................................... 104

Chapter 5: Stability Lobes Generation and Validation ................................................................. 78

Chapter 6: Conclusions and Future Work ................................................................................... 102

References ................................................................................................................................... 106 Appendix ..................................................................................................................................... 115

vii   

ListofTables
 

Table 1: Comparing non-dimensional natural frequencies obtained from theoretical formulation [66] and by using the DSM matlab® code. ................................................................................... 42 Table 2: Spindle natural frequencies; DSM vs. FEA [67] for a non-spinning simply supported system. .......................................................................................................................................... 46 Table 3: Spindle natural frequencies vs. Various spinning speeds, for simply supported boundary conditions with torsion. Highlighted natural frequencies are the torsional ones. ......................... 49 Table 4: Spindle natural frequencies vs. Various spinning speeds, for flexible boundary conditions; Ks=2.1x108 N/m with torsion. Highlighted natural frequency is the torsional one. . 49 Table 5: Natural frequency of the spindle while varying each bearing stiffness at a time. .......... 52 Table 6: Spindle natural frequencies; experimental vs. CDSM for a non-spinning spindle system, with flexible boundary conditions; Ks=2.1x108 N/m. ................................................................. 64 Table 7: Test cuts and resulting machine vibrational results. .................................................... 100



viii   

ListofFigures
 

Figure 1: Poor surface finish on walls (left). Damaged tool (right)................................................ 1 Figure 2: Stability lobe diagram sample. [17] .............................................................................. 10 Figure 3: Typical spindle configuration. ....................................................................................... 23 Figure 4: Typical tool/holder configuration. ................................................................................. 24 Figure 5: Spinning beam. .............................................................................................................. 26 Figure 6: Degrees of freedom of the system. ................................................................................ 27 Figure 7: Degrees of freedom of the system with torsion. ............................................................ 35 Figure 8: Simplified spindle sections. ........................................................................................... 44 Figure 9: Modified boundary conditions. ..................................................................................... 47 Figure 10: System fundamental bending frequency vs. Bearing equivalent spring constant for a high speed spindle (log scale). ...................................................................................................... 48 Figure 11: Spindle natural frequency vs. Spindle RPM (high speed spindle). ............................. 51 Figure 12: Natural frequency sensitivity to varying bearings 1 and 2 stiffness............................ 53 Figure 13: Natural frequency sensitivity to varying bearings 3 and 4 stiffness............................ 54 Figure 14: Schematic diagram of an OKADA VM500 spindle. [85] ........................................... 56 Figure 15: Spindle model. [87] ..................................................................................................... 56 Figure 16: System natural frequency vs. Bearing equivalent spring constant for a low speed spindle (in log scale). .................................................................................................................... 57 Figure 17: Spindle natural frequency vs. Spindle RPM (high torque spindle). ............................ 58 Figure 18: Experimental equipment.............................................................................................. 60 Figure 19: Blank tool. ................................................................................................................... 62 Figure 20: Blank tool in spindle.................................................................................................... 62 Figure 21: Spindle experimental frequency response function (FRF) along X-axis and Y-axis (real part)....................................................................................................................................... 63 Figure 22: Spindle experimental frequency response function (FRF) along X-axis and Y-axis (imaginary part). ........................................................................................................................... 63 Figure 23: Production spindle fundamental natural frequency vs. Machine hours. ..................... 66 Figure 24: Prove-out spindle 1 fundamental natural frequencies vs. Machine hours. .................. 67 Figure 25: Prove-out spindle 2 fundamental natural frequencies vs. Machine hours. .................. 68 Figure 26: Prove-out spindle 3 fundamental natural frequencies vs. Machine hours. .................. 69 Figure 27: Ideal FRF graphs for a healthy spindle. ...................................................................... 70 Figure 28: FRF graph for a newly installed spindle (Spindle EX-A). .......................................... 71 Figure 29: FRF graph for a settled spindle at 1286 hours (Spindle EX-A). ................................. 72 Figure 30: FRF graph for a seized spindle at 1500 hours (Spindle EX-A)................................... 73 Figure 31: FRF graph for a settled spindle at 1044 hours (Spindle 3-I). ...................................... 74 Figure 32: FRF graph for a post incident spindle at 1134 hours (Spindle 3-I). ............................ 75 Figure 33: FRF graph for a healthy spindle (Spindle 1-C). .......................................................... 76 Figure 34: FRF graph for a post collision spindle (Spindle 1-C). ................................................ 76
ix   

Figure 35: Sample FRF graph (top real, bottom imaginary). ....................................................... 81 Figure 36: Converted tool stiffness theoretical and experimental decay vs. Hours...................... 83 Figure 37: Cutting tool representation using a mass-spring-damper combination. ...................... 84 Figure 38: MetalMax® (average angle) lobes compared to Matlab® (Fourier seriers) lobes. ..... 91 Figure 39: System natural frequency (Hz) vs. Equivalent spring constant (N/m). ....................... 92 Figure 40: Stability chart for a varying natural frequency spindle (two teeth cutter)................... 93 Figure 41: Stability chart for a varying natural frequency spindle (three teeth cutter)................. 95 Figure 42: Test block mounted on a tomb stone prior to test cutting. .......................................... 97 Figure 43: Stability chart with test cuts (IMCO tool) zoomed in. ................................................ 98 Figure 44: Stability chart with test cuts (Helical tool) zoomed in. ............................................... 98 Figure 45: Stability chart with test cuts (Merlin tool) zoomed in. ................................................ 99

x   

Nomenclature
Acronyms 2D: Two-Dimensional 3D: Three-Dimensional BC: Boundary Condition CDSM: Calibrated Dynamic Stiffness Matrix CNC: Computer Numerical Control DOF: Degree-of-Freedom DSM: Dynamic Stiffness Matrix FEM: Finite Element Method FRF: Frequency Response Function RPM: Rounds per Minute D d/d: Differentiation operator F: Load vector K: Coupled bending-torsion stiffness K :Static stiffness matrix [M]: Static mass matrix T: Kinetic energy u: In-plane bending displacement, along X-axis U: Potential energy v: Out-of plane bending displacement, along Y-axis, Greek symbols : Variational operator  Displacement vector/vector of degree-of-freedom/natural shape : Torsional twist : Rotary Frequency of oscillations : Average frequency value n: Natural Frequency : Rotational/Rotational Speed  z/L: Non-dimensional length Superscripts/subscripts K : Theoretical tool stiffness K : Bearing's equivalent linear spring stiffness (constant) K  :DSM of a beam element Mx: Bending moment about `X' axis  My: Bending moment about `Y' axis Sx: Shear force along `X' direction Sy: Shear force along `Y' direction

xi   

Chapte er1:Intro oduction 1.1 Ove erview
In the t machinin ng industry, speed and precision p in the machini ing process a are key facto ors to turning profit. p CNC programmer rs strive to create c tool p paths that co omplete a pa art in the sho ortest amount of o time poss sible. With today's techn nology, mill ling machine es are capab ble of revolu utions upwards of 50,000 RPM. R Chatte er is defined d as self-exc cited vibratio ons between n the tool an nd the work pie ece. A qual lity surface is usually required o of a machin ned part. Th hese self-ex xcited vibration ns leave wave patterns in nscribed on the t part and cause out of f tolerance condition. M Money lost due to t the destru uctive nature of chatter, damaging d bo oth the tools s and parts (s see Figure 1) ), has driven ample a numb ber of resea arch works into determ mining math hematical equations for the modellin ng and predi iction of ch hatter. If one e can predic ct parameter rs necessary y for chatter r-free cutting conditions, c th hen the met tal removal rates can be optimized d to reduce cycle time w while maintaining an excel llent surface finish.

Figure e 1: Poor sur rface finish on walls (le eft). Damaged tool (righ ht).
1   

It has been observed by the manufacturing team at Centra Industries that as parts are machined they might produce a chatter-free surface finish one day and a surface riddled with chatter the next day. If this problem can be solved, it would considerably lower instances of scrap and rework due to chatter. It was initially hypothesized by the manufacturing team that this was due to inconsistencies in clamping procedures and the torque applied to the clamps. However, this was quickly proven not to be the case after the introduction of detailed setup instruction on how to clamp the part. Torque wrenches were also introduced to every work center to eliminate the variation in part clamping. Many researchers have focused their effort on predicting chatter while assuming that the machine dynamics are constant [1]-[7]. This is in fact not the case, and as the machine spindle ages the vibrational behaviour of the machine changes leading to a shift in the most dominate natural frequency of the spindle system [8][9]. This change in the machine's dynamic has also been observed from the experimental data obtained from tap tests carried out at Centra Industries. It was also hypothesized that the spindle aging process can be traced back to the moving components of the spindle and furthermore to the components that would typically wear.

1.2 Motivation
To the author's best knowledge, there has been no research or publications reported in the open literature investigating the CNC machine spindle aging process and the effect on its vibrational characteristics. The reason for the lack of such research stems from the significant cost to purchase high-end (for example 5-axis) machines as well as the large number of typical machine hours required to carry out the research and develop relevant theories. In addition, running such machines in a lab environment will not show real world results. In a manufacturing

2   

facility different types of parts, cutting parameters and fixtures are used. The experimental data presented in this research were collected over the course of several years. This is why the

present research is focused on the wear characteristics of spindle bearings. It describes a procedure required to model and analyze CNC machines' spindle systems in order to avoid chatter while accounting for the aging process of the spindle.

1.3 Objectives
The objectives of the present study are divided into four main categories as the following: 1. Numerically model a spindle using the Dynamic Stiffness Matrix (DSM) approach. Utilization of DSM in this manner was never done to the extent of the authors' knowledge 2. Calibrate the model using experimental results/data, 3. Extend this application to different machines, and finally 4. Propose a systematic procedure required to model machine tool spindle system, intended for the evaluation of updated cutting parameters for a chatter-free machining process, while accounting for the aging process of the spindle.

1.4 ThesisOrganization
In Chapter 2, a survey of the relevant literature is first presented. This survey gives a brief history of chatter and how this phenomenon has been modelled and investigated. A brief review of vibrational and other relevant theories is also presented, discussing free and forced vibrations of single-degree-of-freedom, and continuous beam systems.

3   

In Chapter 3, the development of differential equations governing the free vibrations of spinning beams, with and without torsional effects, is discussed. The Dynamic Stiffness Matrix (DSM) formulations for spinning beams [10], with and without torsional effects, are then presented and subsequently used to theoretically calculate the natural frequencies of the spindle system. By implementing the proposed process, one can calculate the equivalent spring constant of the bearing within the spindle which, once introduced in the system's model, leads to a Calibrated Dynamic Stiffness Matrix (CDSM) model. The CDSM model is then used to carry out the vibration analysis of typical high- and low-speed spindles. A sensitivity analysis is also carried out, leading to the bearing wear order. In this chapter it is also shown that the effect of torsion within the spindle can be ignored. Chapter 4 discusses the equipment and procedure used for experimental modal analysis, followed by FRFs data corresponding to healthy and damaged spindles. In Chapter 5, a Matlab®-based stability lobes generation code is further examined and validated against commercial stability lobe generation software to ensure the correctness and reliability of the code. A relationship between the system's fundamental frequency and

equivalent spring constant is also established. The shift in the stability lobes between two time instants, (e.g. when the spindle is new and when it was close to the end of its life cycle) is then demonstrated. An approach on how to convert the system's dynamic stiffness matrix (DSM) to its static stiffness matrix is also presented. Finally, experimental test cuts were taken on the machine to verify the accuracy of the generated stability lobes. In summary, this thesis is crafted to recommend a systematic approach to reduce the number of tap tests done on a machine so the machine operators can confidently produce parts

4   

while avoiding the chatter region in the stability graphs, leading to reduced machine downtime and more machine time spent producing parts. Finally, the concluding remarks and possible future works are presented in Chapter 6.



5   

Chapter2:BackgroundandLiteratureReview
2.0Introduction
The purpose of this chapter is to provide a brief background on the relevant theories and the governing equations used to model a spindle system. In addition, it is shown how Frequency Response Functions (FRF) are obtained, interpreted, and can be used to understand the spindle decay phenomenon. Moreover, a review of pertinent recent research endeavors and findings

available in literature are presented and discussed.

2.1 LiteratureReview
The first mention of chatter can be credited to Taylor in 1907 [97], but it wasn't until 1946 that Arnold [2] conducted the first comprehensive investigation into it. His experiments were conducted on the turning process. He theorized that the machine could be modelled as a simple oscillator and that the force on the tool decreased as the speed of the tool increased with relation to the work piece. In his equations, the proportionality constant of the speed of the tool to the force is subtracted from the damping value of the machine. When the proportionality constant increases beyond the damping value of the machine, negative damping occurs causing chatter. This was later challenged by Gurney and Tobias who theorized the now widely accepted belief that chatter is caused by wave patterns traced onto the surface of the work piece by preceding tool passes [3]. The phase shift of the preceding wave to the wave currently being traced determines whether there is any amplification in the tool head movement. If a phase shift exists between the two tool passes, then the uncut chip cross-sectional area is varied over the pass. The cutting force is dependent on the chip's cross-sectional area, and so a varying cutting force is produced [11]. To perform calculations on this system, they modelled a grinding machine as a
6   

mass-spring system. It had a single degree of freedom, making its calculations quite simple. The mass-spring system is also the widely used modelling theory for how a vibrating tool should be characterized today. Prior to 1961, the papers that analyzed the machining processes regarded them as steady state, discrete processes [4]. This erroneous idea led to the creation of machines that were overly heavy and thick walled. It was believed that this provided high damping to the forces on the tool tips that were thought to be static. To properly predict chatter, one must realize that machining is a continuous, dynamic process with tooltip forces that are in constant fluctuation. The specific characteristics of each machine must also be taken into consideration when performing calculations. If one takes two identical tools, places them into two of the same type of machines, and perform the same machining processes on two identical parts, the lifespan of the tools will not be the same. The dynamics and response of each of the machines is slightly different due to structural imperfections, imbalances, etc. Therefore, calculations must always take the machinetool dynamics into consideration [6]. The modes of the machines' structure determine the frequency and the direction at which the tool is going to vibrate [12]. Rather than the previously used machine design philosophy of "where there's vibration, add mass", Eisele [4] and Peng et al. [13] stressed that designers must investigate the mode-forms, weak points, bearing clearances, and self-inducing vibratory components of their machine design to try to reduce chatter. Butlin and Woodhouse went on to investigate how many modes of the structure must be investigated to produce accurate results [14]. Since it is impractical to investigate an unlimited bandwidth of a signal, restrictions must be made. This has generally been restrained to one or two modes of vibration of the machine. Their study proves that using a low order model that only incorporate two modes, is sufficiently accurate to model the machines.

7   

In 1981, Tlusty and Ismail published one of the first papers that documented the nonlinearity of the vibratory system occurring during chatter [7]. Self-excited chatter is a phenomenon that grows, but does not grow indefinitely. There is a point in time where the vibrations stabilize. Tlusty's paper concludes that the cause for this stabilization has to do with the tool jumping out of the cut. As the vibrations amplify, the tool head displacement increases. The system exhibits a three dimensional nonlinear behaviour. When the force on the tool due to chatter causes displacement away from the work piece that exceeds the depth of cut, the tool will lose contact with the work piece. When this occurs, the work piece exerted forces on the tool all go to zero. The only forces acting on it now are the structural forces that want to keep the tool on its planned route. It is impossible for chatter to amplify further past this point, and so this is where it stabilizes. Previous reports do not account for this stabilization. Their results are accurate up to this point, but then diverge from the experimentally obtained results. Kondo et al. [15] added to Tlusty's investigation the behaviour of the tool after the onset of chatter. The paper discusses the effects of the preceding passes of the tool on the current state. It was generally accepted that wave patterns left on the work piece from a previous pass greatly effects the current pass, however, it is demonstrated that tool passes two or more turns prior to the current pass also have an effect. The phase difference and frequency of the waves etched into the surface of the prior turns interact with one another, and if the conditions are correct, interact in a critical way that produces increasing amplitude vibrations [16]. While Tlusty was able to theorize that chatter stabilizes at a certain point due to the tool leaving the work piece, Kondo et al. set off to prove this theory [15]. They had the novel idea to turn the machine-work piece system into a circuit. Current was passed through the machine and into the work piece while turning. When chatter occurred, they noticed drops in current at the machine-tool contact point.

8   

This shows that an open circuit was being created, proving that the tool was losing contact with the work piece. They also sought out to prove why cutting becomes more stable at lower speeds. They believed that there was a resistive force caused by the tool moving forward along the cut. They found this resistive force to be inversely proportional to the cutting speed, and directly proportional to the relative velocity of the tool to the work piece. When this force was taken into account in their equations, it produces a wider region of stability while the spindle is at lower speeds. This resistive force was proven to be responsible for the large regions of stability at low spindle speeds, and is what diminishes at higher spindle speeds resulting in less stability. The majority of papers published prior to the 1980's examined chatter with reference to the turning and boring processes. Milling is plagued with the same issues of chatter, but its modelling becomes more complicated. Tlusty and Ismail set out to characterize this chatter in the milling process by examining the periodicity of the forces that occur at the tool that are not present in other processes [18]. During the milling process, cutter teeth come into and out of contact with the work piece. It is on the surface of these teeth that the force is applied. The same number of teeth is not always in contact with the work piece, and each tooth may be removing a different amount of material at a time. This leads to widely varying forces at the tool tip, creating a more challenging system to model. Forced vibrations can be attributed to periodic forces to which the machine is subjected. These can include an imbalance on rotating parts or forces that the machine transfers to the moving tool. Chatter must be isolated from these forced vibrations in experiments so that the observations and calculations can be kept specific to the chatter phenomenon. Once an accurate model of the milling process has been created, a reliable stability lobe can be constructed. Stability lobes plot the axial depth of cut vs. spindle speed (see Figure 2 for

9   

sample stability lobe e). The resulting graph has h a series of lobes tha at intersect w with each oth her at certain points. p The area that is formed un nderneath the e intersectio on of these lobes repre esents condition ns that will produce sta able machin ning. The ar rea above th hese intersections repre esents unstable machining conditions. is the maximum m cri itical depth of cut at wh hich cuts w will be

stable at all spindle rotational spe eeds.

Figure 2: 2 Stability lobe diagra am sample. [17] e concept of o the stabil lity lobe wa as first prop posed by T Tobias in 19 965 [18]. A As the The mathema atical modell ling of the machining m sy ystems impro oved, so did d the accurac cy of the sta ability lobes. Pr rior to Tlust ty et al.'s [1 19] paper de edicated to the subject in 1983, m most stability y lobe calculatio ons containe ed many sim mplifying assumptions, and therefo fore were no ot very accu urate. These ca alculations assumed all teeth t on the cutter were oriented in the same di irection, and d also had a uni iform pitch. They elimin nated all of these t assump ptions and p proved their math represented reality more m accurate ely. In 2008, Mann et al. discovered unstable reg gions in a sta ability lobe g graph that existed underne eath the stab bility bound dary for the milling ope eration [20] ]. They rese emble islands in i that they y are ovular r areas cont tained withi in the stabl le regions, c complicating g the previousl ly thought simple s stabi ility lobe model. m It wa as found tha at stability l lobes taken from

10   

modal parameters of the machine at rest (static) were not as accurate as the stability lobes produced from the dynamic modal properties. Zaghbani et al. obtained these dynamic properties using operational modal analysis (OMA) [21]. OMA uses the autoregressive moving average method and the least square complex exponential method to obtain these values, producing a dynamic stability lobe that more accurately represents stable cutting conditions. These stability lobes have proven to be an invaluable asset to machinists and machine programmers. They provide a quick and easy reference to choose machining parameters that should produce a chatter-free cut [22]. Following the previous simplification errors, another inaccuracy common with milling calculations made in the past was the simplification of a multiple tooth tool to a single tooth tool. This tooth was usually located midway through the cut, and all proceeding calculations were performed upon it. Tlusty [1] and Bobrenkov et al. [23] formulated a way to incorporate all teeth into the calculations giving much more accurate results. Bobrenkov et al. [23] performed the stability analysis on the multiple teeth using the Chebyshev collocation method and state space TFEA technique. They found that for small changes in the radial immersion ratio of the tool and work piece, the stability of the machine changed greatly. Tlusty [1] investigated how tools respond while machining at very high spindle speeds (beyond 9000 rpm) while modelling all teeth on the cutter. It was discovered that process damping begins to disappear at these speeds. Process damping stabilizes the machine while it is at the more conventional spindle speeds. When the process damping begins to disappear, the stability of the machine decreases. There was also a strong correlation found between a state of stability and the stiffness of the tool [24]. While the machine was high-power face milling, the tool was required to be seven times the conventional width at the time for it to be stiff enough to become stable. This was not feasible as

11   

the diameter of the bearings would also have to increase by sevenfold and would become too expensive [25]. A tool with a stiffness of around 2 8 10 lb/in is required. When long end

mills were used, the stiffness of the tool decreased significantly. The machining process was then shown to have severely reduced stability while using these long end mills. Because a long end mill can never approach the stiffness of a short end mill, importance is then placed on the stability lobe calculations. The dynamic equations and stability lobes of the long end mill must be correctly calculated to determine safe milling speeds and depths of cut because chatter cannot be overcome by a sheer increase in stiffness of the tool. An important study carried out by Lee et al. in 1989, helped bring a more complete theory of chatter to light [26]. They looked into the response of the work piece to chatter. It was observed that the tool was stable as it entered a cut, but became wildly unstable as it reached the middle of the work piece. It was perceived that the tool location in the part is related to the machining stability. Therefore, the part must have some effect on the tool and the way chatter forms. They modelled the tool as a typical 2 degree-of-freedom spring-mass system, and the work piece as an Euler beam. When the responses of both the tool and the work piece were incorporated into the typical spring-mass equations, the results obtained far surpassed the accuracy of previously used equations. They observed a large increase in surface finish quality while machining, even with the use of long end mills. While a comprehensive set of mathematical models have already been derived to explain chatter using spring-mass and Euler beam systems and have led to dramatic improvement in surface finish quality, chatter is still an issue in the machining industry as the surface tolerances keep decreasing. From the 1990`s researchers were driven to use more complicated mathematical models to characterize the machines [27]. Minis and Yanushevsky described the milling process

12   

using a system of differential equations [28]. These differential equations had been previously used in mass-spring calculations, but the coefficients of the equations are now time dependant. Each tooth that comes into contact with the work piece is modelled like the turning process for the duration of this contact. Following this theory, a system of time-varying, differential equations are produced that also contain time delays [29]. These time delays are a result of the tooth losing contact with the work piece. The effect of each tooth's equation on the system must be periodically delayed to coincide with that loss of contact [30], [31]. The stability was examined using the concept of parametric equations, and was then solved using control theory by Altintas [29]. Demir et al. [32] took a much more complicated approach with the same basic idea. After creating the time delay equations, they obtained a discrete map of the state transition through the direct integration scheme and linear interpolation. The stability of the milling system was then calculated using Floquet theory [32]. A comprehensive paper was published by Zhang and Yu to investigate the stability of these discrete-time switched time-delay systems, and how to obtain a switching signal for which the system becomes stable [33]. In the end, these methods produced results that were in close agreement with those obtained experimentally. Hino and Yoshimura [34], and Fansen et al. [35] attempted to map the machine-tool-work piece system to a fuzzy neural network. The advantage of using fuzzy logic to model the system is its ability to relatively easily adapt to complex systems. Experimental data was gathered from 10 milling scenarios, and was then used to train the neural network. They then tested this trained network against other real world examples to verify its accuracy, and found that it was able to predict chatter quite well. It can predict 98% of the tool frequencies and chatter with over 90% certainty [36]. This idea has its drawbacks, as it must be trained using previously acquired experimental data before it can provide any output, but it provides robustly optimal process

13   

parameters that should produce stable machining conditions [37]. Fuzzy logic has also been applied to an online system that would monitor the machine in real time and make the adjustments necessary to keep the machine stable. However, in its application, rather than maintaining stable cutting conditions, the system became oscillatory. Its stability would fluctuate greatly and would never retain a single value [38]. With the rise of computer aided calculations and simulations, it has become easier to perform increasingly complex analyses of the machining process [39]. This began to include Fourier analysis in the frequency and discrete time domain, state feedback control, peak-to-peak diagrams, and the creation of highly complex graphs depicting stability [39]. While work piece response to chatter had already been investigated, it was not until the 2000's that enough computing horsepower was readily available to run simulations that incorporate movement of both the tool and work piece. Bravo et al. have gone in depth into the relationship of the tool with the work piece and how their flexibilities affect one another [40]. They develop 3dimensional stability lobe diagrams that can predict the stability of the tool at various locations on the work piece, such as near the bottom zones of thin-walled structures. Previous stability lobes and analyses were not based on position. They tended to focus on just the response of the machine and tool, or if the work piece was considered, it was assumed to have the same response in all locations. It was shown that the position of the tool and the structure of the work piece at that position greatly affected the stability of the cut. A very accurate model was developed that could predict the stability of both thick- and thin-walled structures. The effect the work piece has on the stability of the machine is amplified in the corner milling of thin walled cavities and flank milling [41]. Due to the complex and thin-walled nature of the cavities used in aeronautical machined components, the standard stability models do not hold true. Qiong et al. developed a

14   

method for predicting stability when machining the thin-walled corners of these parts by dividing this area into six sectors, then performing finite element analysis on each to predict its deformations [42]. Faster computers also allowed for a number of live methods for chatter detection. By observing and performing computations based on the current cutting conditions computers can quickly determine if chatter is occurring and rectify it. Wang and Liang suggested that an accelerometer be used to monitor vibrations the machine is making. The wavelet transform modulus maxima is observed and gives an output of `zero' for no chatter, and `one' for chatter, all while filtering out the background vibrations of a large machine shop [43]. This method is both simple, as it only observes the vibrations produced by a machine rather than trying to model the machine and its interactions through FEA, and practical as it only requires an accelerometer attached near the tool holder. Tool wear is an often-overlooked factor that contributes to chatter. With the aid of more powerful computers this variable can now be included in simulations. The cutting tool is not indestructible and will change its shape while machining. Clancy and Shin [44] investigated the wear of turning tools and how that affects the stability of the system. It was found that as the tool becomes worn, its limits of stability increase. Therefore, the axial depth of cut can be increased while maintaining the same spindle speed that would have previously created chatter. The rate of wear was incorporated into the stability lobe calculations for the tools so that it was now also a function of wear. To verify their calculations, the tools were ground to certain stages of wear and then tested experimentally. They were found to be in strong agreement. Tool wear, however, is not something that machine shops want increased. Chatter increases the rates of tool wear, shortening their lifespan, and increasing the amount of money the shops must spend on new tools. Li et al. [45] determined that the coherence function of two crossed accelerations in the

15   

bending vibration of the tool shank approaches unity at the onset of chatter. A threshold needs to be set [46] and then detected using a simple mechanism to alert the operator to change the machining conditions and avoid increased tool wear. In most of the previous stability prediction methods, a Frequency Response Function (FRF) is required to perform the calculations. FRF refers to how the machine's structure reacts to vibration. An impact test is required to acquire the system's FRF [47]. In this case, an accelerometer is placed at the end of the top of the tool, and a hammer is used to strike the tool. The accelerometer will measure the displacement of the tool, telling the engineer how the machine reacts to vibration. This test gives crucial information about the machine, such as the damping of the structure and its natural frequencies. This method of obtaining information is impractical; because the FRF of the machine is always changing, it would require the impact test to be performed at all the different stages of machining. Having to do this also interrupts the manufacturing process and having machines sitting idle costs the company money. An offline method of obtaining this information could greatly benefit machining companies by eliminating the need for the impact test. Adetoro et al. proposed that the machine, tool and work piece could be modelled using finite element analysis [48]. A computer simulation would be able to predict the FRF during all phases of the machining process. As the part is machined and becomes thinner, its response to vibration changes dramatically. Previous research papers assume a constant FRF throughout the whole process for the sake of reducing computations. However, a constantly updated FRF would allow for accurate, real time stability calculations. Rather than determining the cause of chatter and solving its root problems, some creative attempts have also been made to try to solve this issue indirectly. MacManus [49] theorized that if enough current was passed through the machine tool and into the work piece, he could create

16   

heat to control the friction. This friction could be controlled to oppose the cutting force variations produced by chatter. This idea, although proven effective, led to inconsistent results. It also required the use of a low current, which was a hard constraint to abide by. These inconsistencies were not explained and could be attributed to why this method of chatter suppression is not in use today. Olgac and Hosek [50] created a vibration suppression device called a delayed resonator. It is a passive spring-mass-damper absorber that is attached to the oscillating structure. It can be tuned to the frequencies at which chatter occurs to absorb the vibrations created by these frequencies. This theory was also tested by Tarng et al. [51], who used a piezoelectric inertia actuator, tuned to absorb the chatter vibrations. While effective, this device does not solve the chatter issue at the root of its cause. Chiou et al. proposed that the machine change its structure based on current cutting conditions to change its modal properties and eliminate chatter [52]. The machine should change the tool holder structure on the fly according to a pre-planned eigenstructure simulation that will alter its modal properties in such a way that vibrations are never excited. Gradisek et al. developed a system that could monitor the entropy and the coarsegrained information rate of the machine. This is calculated from the power spectrum and fluctuations of recorded signal respectively, and is used to determine when chatter begins to occur. The machining parameters are then altered to try and resolve it [53]. Tsai et al. developed an active magnetic bearing that would manipulate forces on the spindle to eliminate these vibrations [54]. Yang et al. created a vibration suppression device that is based on electromagnetic induction principle, which uses the machine vibration to generate resistant forces on the work piece [55]. Budak et al. also suggested that parallel machines would exert forces on opposite sides of the work pieces that would stabilize it [56]. Solutions that attempt to mask an issue, as these chatter suppression devices do, may present quick fixes to the chatter

17   

phenomenon, but cannot be used as long term solutions as they do not address its underlying causes. What started as a mere observation of surface roughness in 1907 has spawned a whole society of people dedicated to finding the optimal machining conditions to create the perfect cut. Pioneered by Tlusty and Tobias, the investigations into chatter have revealed that the regeneration of surface waves traced into the work piece is largely responsible for the phenomenon known as chatter. Research in this field began in simple oscillators and single degree of freedom spring-mass systems, and progressed to fuzzy neural networks and finite element analyses (FEA). As the machining industry is subjected to higher and higher precisions and tighter surface tolerances, chatter threatens to ruin parts and cost companies money. While stability lobe graphs have become more accurate, the industry is trending towards computer simulations and FEA analyses. With computing power becoming relatively cheap and readily available, this method has become feasible. Providing the most accurate results due to its constantly updated stability calculations, this is the area of research towards which engineers will most likely progress. Timoshenko [57] and Euler-Bernoulli [58] beam theories have been used by several authors to determine the natural frequency of beams and beam-like systems [59]-[69]. The EulerBernoulli beam model is only accurate and efficient for slender beams. The model is an efficient method for preliminary analysis and a first few frequencies/modes calculations. The

Timoshenko beam model is by far more common in most commercial FEA codes due to its increased accuracy (e.g. ANSYS®). The Timoshenko beam model incorporates the effects of shear deformation and, as a result, the slope terms include not only the first derivative of the displacement as with the Euler-Bernoulli model, but an additional term caused by this shear

18   

deformation. The overall length to (Max) diameter ratio (L/D) in our spindle system is slightly larger than 7, but for most parts of its components, this ratio is much larger than ten. Based on the classical topics on strength of materials [70], it can be shown that for a beam of L/D > 6, neglecting the shear effects would imply an error of 5% in the strain energy calculation of the system, and as this ratio increases, the error decreases. Badiani et al. took the analysis further by including the effects of rotary inertia and transverse shear deformation [71]. It was established that there are two types of instabilities, bending and shear as compared to just the bending instability given by Euler-Bernoulli theory. Several other papers have applied different boundary conditions to similar systems to simulate different real life examples. Argento chose to apply an axially accelerating distributed line load to simulate a rotating tool in cut [72]. In most of the existing stability prediction methods, a Frequency Response Function (FRF) ­ acquired using an impact test - is required to perform the calculations. An offline method of obtaining the FRF could greatly benefit manufacturing companies by eliminating the downtime needed for the impact test. While stability lobe graphs have become more accurate, the industry is trending towards computer simulations and numerical analyses. With computing power becoming relatively cheap and readily available, this method has become feasible. Providing the most accurate results due to its constantly updated stability calculations, this is the area of research that engineers will most likely progress towards. Lee et al. [73] suggested that the whole system comprising machine, tool and work piece could be modeled using Finite Elements Method (FEM) analysis. A computer simulation would be able to predict the FRF during all phases of the machining process. As the part is machined and becomes thinner, its response to vibration changes dramatically. Most existing research papers assume that the FRF remains
19   

constant throughout the whole process [74]. However, a constantly updated FRF would allow for accurate, real time stability calculations. In an attempt to numerically model entire spindle systems for vibration modeling and analysis, and to incorporate the effects of bearings, Cao and Altintas (2007) [59] modeled spindle-bearing and machine tool systems for virtual simulation of milling operations, where they presented a general, integrated model of the spindle bearing and machine tool system, consisting of a rotating shaft, tool holder, angular contact ball bearings, housing, and the machine tool mounting. The proposed model, also verified experimentally, allows virtual cutting of a work material with the numerical model of the spindle during the design stage and predicts bearing stiffness, mode shapes, frequency response function (FRF), static and dynamic deflections along the cutter and spindle shaft, as well as contact forces on the bearings with simulated cutting forces before physically building and testing the spindles. The study showed that the accuracy of predicting the performance of the spindles require integrated modeling of all spindle elements and mounting on the machine tool. Jones' bearing model, which considers the bearing balls and rings as elastic parts, and the Hertzian contact theory are used to calculate the contact force and displacement. Patwari et al. [75] presented a systematic procedure and details of the use of experimental and analytical modal analysis techniques for structural dynamic evaluation processes of a vertical machining center. Abuthakeer et al. [76] carried out the dynamic characteristics analysis of high speed motorized spindles, and more recently Delgado et al. [77], using a FEM analysis, studied the nonlinear machine tool dynamic behaviour of a high speed spindle. It is known that FEM predictions, and the numerical results, are often different from test results. However, based on the model updating, corrections can be made on the FEM models by

20   

processing records of test results. Motthershead and Friswell [78] presented a survey of model updating in structural dynamics. Later, Mares et al. [79] investigated the model updating using robust estimation, and more recently Mottershead et al. [80] presented a basic introduction to the most important procedures of computational model updating, including tutorial examples and a large scale model updating example of a helicopter airframe, and discussed the sensitivity method in FEM model updating. To the author's best knowledge, the spindle decay and bearings wear over the service time and their effects on the system natural frequencies, and consequently change of the stability lobes, has not been investigated. The aim of the present research study is to predict the wear characteristics of a machine in order to achieve the cutting parameters which avoid the natural frequencies of the system and, in turn, chatter. The main cutting parameters include axial and radial depth of cut, feed rate and spindle rotational speed. By fine-tuning these parameters a better surface finish can be achieved. As the spindle ages with time, the vibrational

characteristics of the spindle change. The wear in the spindle bearings causes the natural frequency to change. As the system overall stiffness declines the natural frequency is reduced, causing the stability lobes to shift to the left. As a result, the chatter-free cutting parameters keep changing and it seems like CNC machine programmers are aiming at a moving target. Establishing variable cutting parameters that update with the age of the spindle, together with the use of a dedicated commercial software to generate the stability lobes, would produce parts with excellent finish. In addition, avoiding excessive chatter helps to prolong the spindle usable life cycle and would also minimize, if not eliminate, the need to constantly tap test the machines, commonly carried out to evaluate the updated system's natural frequency.

21   

Also to the author's best knowledge, a calibrated or updated Dynamic Stiffness Matrix (DSM) model of spindle systems has not been presented in the literature. The DSM method [81] provides an analytical solution to free vibration problems, achieved by combining the coupled governing differential equations of motion of the system into a single higher-order ordinary differential equation. Seeking the most general solution to the resulting higher-order ordinary differential equation (ODE) and enforcing the end displacements and loads through extensive matrix manipulations leads to the DSM of the structural element. Unlike limited nodal DOFs in conventional FEM [82], the DSM-based element is modeled as a continuous system with an infinite number of DOFs within the element. The DSM formulation has been proven to provide exact frequency- within the limits of the theory- for various beam configurations and beamstructures, with the use of a single continuous element per segment (see , for example, [81], [60][62]).

2.2 ProblemDescription
Computer Numerical Control (CNC) machines are quite often found in industries where a great deal of machining occurs. These machines are generally 3-, 4- or 5-axis, depending on the number of degrees of freedom the device has. The tool movement in the X, Y and Z direction accounts for the first three degrees-of-freedom (DOF). Rotation about the spindle axes account for a further DOF. The spindle contains the motors that rotate the tools and all the mechanisms that hold the tool in place. See Figure 3 for a sample spindle configuration and Figure 4 for a typical tool/holder configuration. The natural frequency of this system dictates the limitation of the cutting parameters. If these limits are surpassed the system tends to vibrate which causes

22   

chatter. Also, as the e bearing in the system wear, they tend to chan nge the char racteristics o of the system an nd, in turn, change c the natural n freque ency of the s spindle. The T Dynami ic Stiffness Matrix (DS SM) metho d [10] will l be used t to determine e the vibration nal fundamen ntal (i.e., th he lowest) natural n frequ uency of the e spindle sys stem, which h will then be compared to the man nufacturer data. d The system en ncompasses all the rot tating

compone ents of the sp pindle. These components include t the tool-tool l holder, spindle shaft, m motor and mech hanism that draws d the to ool in and ho olds it in plac ce.

Figur re 3: Typica al spindle co onfiguration n.

23   

Figure 4: Typical tool/holder configurati ion.

24   

Chapter3:SpindleNaturalFrequencyEvaluation
3.0 Introduction
In this chapter the development of differential equations governing the free vibrations of spinning beams, with and without torsional effects, is discussed. The Dynamic Stiffness Matrix (DSM) formulations for spinning beams [10], with and without torsional effects, are presented and subsequently used to (theoretically) calculate the natural frequencies of the spindle system. By implementing the proposed process one can calculate the equivalent spring constant of the bearing within the spindle which, once introduced in the system's model, leads to a Calibrated Dynamic Stiffness Matrix (CDSM) model. The CDSM model is then used to carry out the vibration analysis of typical high- and low-speed spindles. A sensitivity analysis is also carried out, leading to the bearing wear order. The chapter ends with a brief discussion on the

equipment and procedure used for experimental modal analysis, followed by FRFs data corresponding to healthy and damaged spindles.

3.1 GoverningEquationswithTorsionalEffectsIgnored
The governing equations for a rotating shaft are first developed with the effect of torsional stiffness assumed to be large enough so that the torsional vibrations can be ignored [10]. Figure 5 shows the cylinder in a right-handed rectangular Cartesian coordinates system. The Beam length is L, mass per unit length is , polar mass moment of inertia per unit length is I ,

the principal axes bending rigidities are EI for both planes. At first, the Bending-BendingTorsion (BBT) triply coupled rotating shaft, with bending-torsion coupling rigidity, K, was

25   

modeled; ; however, for f the above e-mentioned d reason, the torsional ef ffects were t then deleted from the gover rning equatio ons. At an arbitrary y cross secti ion, z, u an nd v are disp placement o of a point P in the X a and Y direction ns. The cross s section is allowed a to ro otate or twis st about the O OZ axis. Th he position v vector r of the point p P after deformation n is given by y u y  v x (1)

where i and a j are unit t vectors in the t X and Y directions. The velocity y of point P is given by r r where  (2)

Figure 5: : Spinning b beam.

The kinetic and poten ntial energie es of the beam m (T and U) ) are given b by:

26   

T

1 2

| | mdz

1 m 2 1 EI 2

u

v

2 u uv 1 EI 2

uv

 u

v

dz

(3)

U

v  dz

u dz

(4)

e Hamilton Principle P in the t usual notation state Using the  T U dt 0 (5)

Figure 6: Degrees of freedom m of the syste em.

where t and t are th he time inter rvals in the dynamic d traje ectory and  is the variat tional operat tor. Now, one e can substit tute the kine etic and potential energie es of the bea am in the Ha amilton Princ ciple. By collec cting like ter rms and integ grating by parts the follo owing equations are obta ained. EI u 2m mu m u EI v   mu mv 2 2mv m v 0, 0. (6) (7)

27   

The resulting loads, also force boundary conditions at free ends, are then found to be in the following forms, written for Shear forces as S S and for Bending Moments as M M EI v  EI u (10) (11) EI u EI v  (8) (9)

It is assumed that the solution is in the form of u z, t U z cost, and v z, t V z sint , (12)

where  frequency of oscillation and U, V and  are the amplitudes of u, v and  Substituting equations (12) into equations (6), and (7), they can be re-written as: EI U  EI V  m  m   U  V 2mV 2mU 0, 0. (13) (14)

New variables are then introduced 

z/L and D

d/d, which are non-dimensional length and

the differential operator. By substituting them back into equations (13) and (14) the following is found. D m  EI m  EI  L  L U 2mL V EI 2mL U EI 0, (15)

D

V

0.

(16)

28   

One can combine the above two 4th-order, coupled differential equations, (15) and (16), into a single higher-order (8th-order) differential equation, written in terms of W as: D   1  D   1  W 0 (17)

satisfied by both W

U and W

V, where  m L EI m L EI    (18)



(19)

(20)

The solution of the 8th-order differential equation (17) is sought in the form W e (21)

Substituting (21) into (17) leads to the following characteristic equation r satisfied by: r where  1 2 1 2   1    1  16   (23)
,





1

 r

  1



(22)

,

r

,

,

r

,

i,

r

,

i 







1







1

 C .e

16   .

(24)

The general solution to (17) can then be written as: W

29   

Exploiting the above expressions, (17) through (24), the solutions for Uand V, the corresponding bending rotations about X and Y axes,  and  , respectively, are given by dV dz 1 dV L d 1 B cos  L B sin  B cosh  B sin  B cosh 



B cos  B sinh 

B sin  (25)



dU dz

1 dU L d 1 A cos  L A sin  A cosh  A sin  A cosh 

A cos  A sinh 

A sin  (26)

By doing similar substitutions, the following expressions for Shear Forces, Sx and Sy, and Bending Moments, Mx and My, are written as: A cos  A cos  B cos  B cos  M EI L EI L A sin  A sin  B sin  B sin  A cosh  A cosh  B cosh  B cosh  B sinh B sinh  A sinh A sinh  A sinh  A sinh  B sinh  B sinh  B cosh B cosh  A cosh A cosh 

S

(27)

S

(28)

B sin B sin  A sin A sin 

B cos B cos  A cos A cos 

(29)

M

(30)

30   

where A A k k B , A k B , A 2   1  , k B ,A k B , A and k B , A k B , A k k B , k B , 2  .  1  (31)





To obtain the Dynamic Stiffness Matrix (DSM) of the system, the subsequent procedure is followed, where the boundary conditions are introduced into the governing equations. To do so, the system's displacement and force boundary conditions are enforced at both ends as:

At z At z

0: L:

U U

U U

V V

V V

 

 

 

 

and forces boundary conditions are enforced at both ends as: At z At z 0: L; S S S S S S S S M M M M M M M M

Substituting the boundary conditions into the governing equations the following is obtained  where U V R  R And  R  R U R V R  R  R (33) (34) BR (32)

31   

0 0   k S S  C  C with

k 1 0 0 k C C  S  S

0 0   k S S  C  C

k 1 0 0 k C C  S  S

0 0   k S S  C  C

k 1 0 0 k C C  S  S

0 0   k S S  C  C

k 1 0 0 k C C  S  S

(35)

 S S



 sin, sin , C C

, cos, cos , S S



k  , sinh, C sinh , C



k 

cosh cosh 

Substituting similarly for the force equation leads to: (36) where S S and   0 0  C  C  S  S with   k  k   ,  ,    
32   

M

M

S

S

M

M

(37)

0 0    S  S  C  C

  0 0  C  C  S  S

0 0    S  S  C  C

  0 0  C  C  S  S

0 0    S  S  C  C

  0 0  C  C  S  S

0 0    S  S  C  C

(38)

,  , 

 

,  , 

k  k 

The load (shear forces and bending moments) amplitude vector, F, is related to the displacement vector, , through (39) derived by eliminating vector from expressions (32) and (36), where the frequency-dependent, , is written as: (40)

dynamic stiffness matrix (DSM) of the spinning beam,



33   

3.2

GoverningEquationswithTorsionalEffectsIncluded
Following a similar procedure as presented in Section 2, the governing differential

equations of motion are derived while taking into consideration the effect of torsional stiffness. The kinetic and potential energies of the beam (T and U) are given by: T 1 2 |v| mdz 1 I 2 1 m 2  u v 2 uv uv  u v dz

  dz

(41)

U

1 EI 2

v  dz

1 EI 2

u dz

1 K 2

v   dz

K

u  dz

1 GJ 2

 dz

(42) A is the mass per unit length, and I

where, once again, L represents the beam length, m

stand for the polar mass moment of inertia per unit length. The principal axes bending rigidities are EI for both planes; the torsional rigidity is represented by GJ; and the bending-torsion coupling rigidity, associated with composite material, is indicated by K. It is worth noting that the presented formulation and the resulting DSM is a general method and applicable to the vibration analysis of composite spinning shafts. However, for the metallic spindle systems investigated in the present study, the bending-torsion material coupling rigidity, K, would be set to zero at the end. This way, the presented formulation and method will be kept in its general form, which could be directly applied to composite shafts where applicable.

34   

Fi igure 7: Deg grees of free edom of the e system wit th torsion. e Hamilton Principle P in the t usual notation state Using the  T U dt 0 (43)

where t and t are th he time inter rvals in the dynamic d traje ectory and  is the variat tional operat tor. Now, one e can substit tute the kine etic and potential energie es of the bea am in the Ha amilton Princ ciple. By collec cting like ter rms and integ grating by parts the follo owing set of f equations a are obtained. EIu 2mu 1  Ku 2 m u EIv   1  Kv 2 mu m mv 2mv m v K K 0 0 0 (44) (45) (46)

GJ

I  

lting interna al loads are th hen written in i the follow wing forms; The resul for shear force: S EIu K (47)

35   

S for bending moment: M M and torque: T

EIv 

K

(48)

EIv  EIu

K K

(49) (50)

Ku

Kv 

GJ

(51)

By assuming that the solution is in the form of u z, t U z e , v z, t V z e ,  z, t  z e (52)

where  is frequency of oscillation, and U, V and  are the amplitudes of u, v and , respectively. Substituting equation (52) into equations (44), (45) and (46) EIU  2imU 1  KU 2 m  EI V   1 KV 2  U m  GJ 2imV  V I  K K 0 0 0 (53) (54) (55)

 

Now, introducing non-dimensional length,  equations (53)-(55) leads to: D m  EI D  L U m 

z/L, and the differential operator, D

d/d, into

2imL V EI  L EI V

KL D  EI KL D  EI

0

(56)

2imL U EI

0

(57)

36   

K D U LGJ

K D V LGJ

D

I  GJ

 L



0

(58)

It can be shown [84] that the above three differential equations can be combined into a single 10th-order differential equation in terms of W, written as: D D  1  D 2 D   D    W 0 (59)

satisfied by all U, V, and , where t


,

,

1

t ,

1

t ,

,

1



The solution of the differential equation is sought in the form W Substituting (60) into (59) r r  1  r 2 r   r    0 (61) e (60)

By solving the above 10th-order characteristic equation, one finds ten roots for r, i.e., r , j 1,2, ... , 10. Therefore the solutions of U, V, and  can be written as U  Pe , V  Qe ,   Re


(62)

where r are the ten roots of equation (61) and P , Q and R are three separate set of ten (possibly complex) constants. It can also be shown that P Q where, fR gR (63) (64)

37   

f and

KL r EI r g

 

2it 4 t r .

r

(65)

(66)

From the above solutions for U, Vand,the corresponding bending rotation about X and Y axes,  and  , respectively, are given by dV dz dU dz 1 dV L d 1 dU L d 1 L 1 L



rQe

(67)



r Pe

(68)

Similarly, the resulting loads (Shear Forces, Bending Moments, and Torsional Torque) are written as: EI L EI L EI L EI L K 2L K 2L K 2L K 2L

S

r f

r

Re

(69)

S

r g

r

Re

(70)

M

r g

r

Re

(71)

M

r f

r

Re

(72)

38   

T

GJ L

r

K 2L

r f

g

Re

(73)

Substituting the boundary conditions into the governing equations one can find (74) where U V  R R R f g   1 f e g e  e  e e where  , and  . f g   1 f e g e  e  e e f g   1 f e g e  e  e e f g   1 f e g e  e  e e  R f g   1 f e g e  e  e e  R U R V R f g   1 f e g e  e  e e  R R f g   1 f e g e  e  e e  R f g   1 f e g e  e  e e f g   1 f e g e  e  e e  (75) (76)

f g   1 f e g e  e  e e

(77)

Substituting similarly for the force equation (78) where S S M M T S S M M T (79)

39   

a a a a a a a a a a Where

, , , , , , , , , ,

a a a a a a a a a a

, , , , , , , , , ,

a a a a a a a a a a

, , , , , , , , , ,

a a a a a a a a a a

, , , , , , , , , ,

a a a a a a a a a a

, , , , , , , , , ,

a a a a a a a a a a

, , , , , , , , , ,

a a a a a a a a a a

, , , , , , , , , ,

a a a a a a a a a a

, , , , , , , , , ,

a a a a a a a a a a

, , , , , , , , , ,

a a a a a a a a a a

, , , , , , , , , ,

(80)

a a a a a

,

EI rf L EI rg L
,

K r L K r L K r L K r L g r

(81) (82) (83) (84)

,

EI rg L EI rf L GJ L K r f L

,

,

(85)

a a a

,

EI rf L EI rg L

K r e L K r e L K re L K re L g re

(86) (87) (88) (89)

,

,

EI rg L
,

a a

EI rf L GJ L K r f L

,

(90) , can be

The frequency-dependent dynamic stiffness matrix (DSM) of the spinning beam, derived by eliminating
 

in expressions (74) and (78), leading to:
40 

(91) relating the force amplitude to the displacement vector, where (92)

3.3 DynamicStiffnessMatrixValidation
The above formulation was obtained by following a procedure similar to those presented in references [84] and [10]. The DSM formulation and the relevant Matlab® code developed in this research were first validated for a simple, non-spinning, metallic (homogeneous, i.e. K 0),

cantilevered, uniform beam (clamped at one end and free at the other end), of a circular crosssectional area. Non-dimensional formulation is found in the literature for such cases [66]. The natural frequency is defined as:  2L EI m (93)

f

i

1, 2, 3, ...

where  is the non-dimensional bending natural frequency of the system. Also, it is defined that the torsional natural frequency of a system clamped at one end and free at the other end is [66] f  CG 2L I i 1, 2, 3, ... (94)

where C is the torsional constant of the cross section and G is torsional rigidity.  2i 2 1  i 1, 2, 3, ... (95)

See appendix code 1 for parameters used in Matlab® code.

41   

Table 1: Comparing non-dimensional natural frequencies obtained from theoretical formulation [66] and by using the DSM matlab® code. Natural Frequency 17170 17190 35751 107653 107673 107674 109308 109328 178752 250253 301485 301487 321754 393255 464755 536256 590790 590792 607757 679258 750759 822259 893760 965261 976618 976619 976620 976621 Type Bending Bending Torsional Bending Bending Torsional Bending Bending Torsional Torsional Bending Bending Torsional Torsional Torsional Torsional Bending Bending Torsional Torsional Torsional Torsional Torsional Torsional Bending Bending Bending Bending 2 From DSM Code 3.514012 3.518105 1.570823 22.032263 22.036356 4.730968 22.370975 22.375068 7.853985 10.995588 61.701920 61.702329 14.137191 17.278794 20.420353 23.561956 120.911081 120.911491 26.703559 29.845162 32.986765 36.128324 39.269927 42.411529 199.874640 199.874845 199.875049 199.875254 2 Theoretical 3.515625 3.515625 1.570796 22.033636 22.033636 4.712389 22.033636 22.033636 7.853982 10.995574 61.697883 61.697883 14.137167 17.278760 20.420352 23.561945 120.912016 120.912016 26.703538 29.845130 32.986723 36.128316 39.269908 42.411501 199.854769 199.854769 199.854769 199.854769

As can be seen from Table 1, the bending frequencies appear in equal pairs, explained by fact that the shaft's material, geometric and mechanical properties are all the same in any directions within the plane containing the cross section, i.e., perpendicular to Z-axis. Therefore, when the system exhibits the bending vibrations along about X and Y axes, the corresponding
42   

natural frequencies should appear in identical pairs. However, as can be seen from Table 1, there are minor differences between the flexural (bending) natural frequencies. These unimportant differences can be explained as follows. The DSM results, in this case (Table 1), are for a stationary metallic (homogeneous), uniform, circular beam, obtained by setting the spinning speed, , and material bending-torsion coupling stiffness, K, to very small number approaching zero ( 10RPM andK

0.00001Nm ). In fact, these values cannot be set directly and exactly equal to zero, as this would cause the single 10th-order equation, derived based on the coupling terms in the three governing differential equations, (44) through (46), and consequently the resulting DSM to collapse. That is the reason why there are infinitesimally small differences between flexural natural frequencies along X and Y directions. The DSM results were also validated against conventional FEM models developed by [63], [65], and [67]. ABAQUS® commercial software modelling results were also generated [67], and Nicholas Erdelyi (Internal report, Summer 2010). Once the correctness and precision of the DSM code have been established, then it can be used for the vibration modeling and analysis of real machine tool spindle system configurations (see, e.g., Figure 8) and to verify its suitability for practical applications. In the modeling and analyses presented in the subsequent sections, it is assumed that the spindle's entire system is made from the same material, with the properties of tooling steel E= 210 GPa and mass density of =7850 Kg/m3 used for all the sections. At first, it is also assumed that the system is simply supported at the locations of the bearings. The simply-supported boundary conditions will then be modified and replaced by spring elements to account for the bearings' flexibility. The spring stiffness values will then be varied in an attempt to achieve a fundamental frequency equivalent

43   

to the sp pindle syste em's nominal natural frequency, f e either report ted by the manufactur rer or experime entally evalu uated by tap testing. t

Figure 8: Simp plified spind dle sections.

3.4 Nu umericalResults R 
In this t section the numerical results fo or a high-spe eed, low-torq que spindle and a low-speed, high-torq que spindle are a presented d. The beari ings were fir rst modeled and introduc ced in the sp pindle model as simply su upported bo oundary con nditions. Th he bearings were assum med to be point contacts. The effect ts associated d with the bearings' b fle exibility we ere then inc corporated in n the models by b introduci ing simple linear sprin ng elements. . This is a good assum mption since the maximum m displacem ment of the to ool tip allow wed by the s spindle man nufacturer is less than 0. .0254 mm. A sp pindle with a tool tip di isplacement larger than 0.0254 mm is classified d as damaged d and will be re eplaced. Th he overall sti iffness of the e bearings w was then vari ied and the n natural frequ uency of the sys stem, resulti ing from the calibrated models, m was examined.

44   

3.4.1 HighSpeedMachiningSpindle;theCalibratedDSMResults
Once the correctness and accuracy of the DSM code was established (refer to Section 3.3), a real machine spindle (Figure 8) was then modeled, where the non-uniform spindle was idealized as a piecewise uniform (stepped) beam. The connection between the tool and heat shrink tool-holder is assumed to be rigid. In the case of system studied here, the grip force is 61.7-122.2 MPa, depending on the extent of the interference fit, i.e., 0.0254-0.0508 mm [86]. The rigid connection assumption is justified, as the cutting forces required for aluminum are normally much less than the nominal grip forces, i.e. 2000 N is maximum force as reported in [17]. Also the tool holder is made of hardened steel and therefore the deflection of this

connection is minimal. The bearings were modeled and introduced in the spindle model as simply supported boundary conditions. Each step was modeled as a single continuous element and the elements' Dynamic Stiffness Matrices (DSM) were then assembled and the boundary conditions were applied to develop the overall DSM of the spindle system. The spindle system under investigation was simplified to contain 12 elements (13 nodes), as shown in Figure 8. This system was modeled using the DSM method described above, as well as Finite Element Analysis (FEA) to evaluate the first six natural frequencies of the spindle system without torsion. Several different element types and mesh sizes were examined to ensure the convergence (Table 2); Beam element B33 used a 2-node cubic beam (similar to the in-house FEM code), C3D20R was a general-purpose quadratic brick element, and C3D10M was a general-purpose tetrahedral element (see Table 2, from where the FEM modeling results were reported [67]). The DSM method results in a closed form solution, exact within the limits of the theory, for all natural frequencies of a spinning uniform beam [61],[62]. Therefore, as the spindle system in hand was made of 12 uniform sections, only a 12-element piecewise-uniform (stepped)

45   

DSM model was required. As can be seen from Table 2, and as expected, the results using beam element type B33 yielded the best agreement with the DSM results, as the 3D and shear effects are neglected in both. However, the resulting fundamental frequency values (first two rows in Table 2, ranging from 1300Hz to 1400Hz) were found to be generally different from the experimental and nominal values reported by the spindle manufacturer; i.e., 1000±50 Hz. This difference is associated with the fact that the bearings, which are inherently flexible components, were modeled and introduced in the spindle model as simply supported boundary conditions, i.e. with infinite stiffness. In order to take into account the effects associated with the bearings' flexibility, and to further improve and create a more realistic model of the system, the simplysupported boundary conditions in the models were then updated and replaced by simple, linear spring elements of stiffness Ks [8]. The updated spindle system originally presented in Figure 8, incorporating modified linear spring boundary conditions is presented in Figure 9. Table 2: Spindle natural frequencies; DSM vs. FEA [67] for a non-spinning simply supported system. DSM Mode 12 Sections 1392.92 1393.24 4071.02 4071.34 5668.14 5668.46 FEA B33 element (Hz) 600 Element 1393.00 1393.00 4071.00 4071.00 5669.00 5669.00 1200 Element 1393.00 1393.00 4071.00 4071.00 5669.00 5669.00 FEA C3D20R (Hz) 16965 Elements 1308.00 1308.00 3208.00 3210.00 4339.00 4341.00 20122 Elements 1308.00 1308.00 3212.00 3212.00 4311.00 4316.00 FEA C3D10M (Hz) 34465 Elements 1301.00 1301.00 3335.00 3335.00 4322.00 4323.00 45645 Elements 1301.00 1301.00 3322.00 3324.00 4291.00 4292.00

1 2 3 4 5 6

The new spring-supported model was then updated/calibrated to achieve the spindle's nominal fundamental natural frequency by varying spring stiffness values, KS, assumed all to be
46   

identical. The data resulting fro om this prac ctice are sho own in Figur re 10, where e the variation of system's fundamenta al bending fr requency vs. . bearing equ uivalent spri ing constant, KS, is presented s Thes se results were w also co onfirmed by implementi ing the sam me concept in the (in log scale). calibrated d FEM model of the spin ndle created in ANSYS® , as also rep ported in [67 7]. Ref ferring to Figure 10, on ne can observe that as the spring s stiffness val lue increases s, the natural fr requency of the system increases. The T natural f frequency th hen levels ou ut and reach hes an asymptot te as the sp prings start behaving more m like sim mple suppor rts at high values of s spring stiffness. It was als so found tha at at spring stiffness val lue of K 2.1 10 N/m the sy ystem

achieves the natural l frequency reported by y the spindl le manufact turer. This value of spring stiffness will be used d for any fur rther analysi is of the sys stem (Figure e 10). It is a also worth n noting that the X-axis X is in log l scale exp plaining the steep slope i in the releva ant natural fr requency are ea.

Figur re 9: Modifi ied boundar ry condition ns.

47   

Figure 10: System fundamental bending frequency f v vs. Bearing equivalent s spring constant for r a high spe eed spindle ( (log scale).

Using U the abo ove results the t natural frequency f of f the spindle e was also fo ound for mu ultiple rotationa al speeds for the simply supported s ca ase (Table 3 ) and flexibl le boundary condition (T Table en with the torsional ef 4). This s was done first with th he effect of torsion igno ored and the ffects included. It was obs served that, as expected d, as the spin ndle rotation n speed incre eases, the na atural frequency y of the sy ystem decrea ases. In fac ct, by increa asing the sp pinning spee ed, the repe eated, identical fundamenta al frequencie es start diver rging from o one another, with one de ecreasing an nd the creasing. Th he spinning speed was gradually i increased to o capture th he critical speed, other inc causing the t first fund damental be ending frequency deterio orate to zero o (Figure 11), i.e., the sh haft's whirling instability (s see, e.g., [84 4], [10]).
48   

Table 3: Spindle natural frequencies vs. Various spinning speeds, for simply supported boundary conditions with torsion. Highlighted natural frequencies are the torsional ones.   (RPM) 1392.92  1393.24  4071.02  4071.34  4528.12  5668.14  5668.46  6426.68  6548.59  6548.91  8822.44  8822.75  8932.09  8932.41  Mode 4784 (RPM) 1313.35  1472.82  3991.45  4150.92  4527.32  5588.57  5748.04  6426.20  6469.01  6628.49  8742.86  8852.52  8902.33  8932.41  9558 (RPM) 1233.77 1552.40 3911.87 4230.50 4525.25 5508.99 5827.62 6389.43 6389.43 6708.06 8663.28 8772.94 9091.57 8932.41 14334 (RPM) 1154.19 1631.97 3832.29 4310.08 4521.75 5429.41 5907.19 6309.86 6309.86 6787.64 8583.70 8693.36 9171.14 8932.41 19108 (RPM) 1074.61 1711.55 3752.71 4389.65 4516.82 5349.83 5986.77 6230.28 6230.28 6867.22 8504.13 8613.78 9250.72 8932.41 23883 (RPM) 995.04  1791.13 3673.14 4469.23 4510.45 5270.26 6066.35 6150.70 6150.70 6946.79 8424.55 8534.21 9330.30 8932.41 28657 (RPM) 915.46  1870.71  3593.56  4548.81  4548.81  5190.68  6071.12  6145.93  6145.93  7026.37  8344.97  8454.63  9409.88  8932.41  33432 (RPM) 835.88  1950.28 3513.98 4628.38 4628.38 5111.10 5991.55 6225.50 6225.50 7105.95 8265.39 8375.05 9489.45 8932.41

1  2  3  4  5  6  7  8  9  10  11  12  13  14 

Table 4: Spindle natural frequencies vs. Various spinning speeds, for flexible boundary conditions; Ks=2.1x108 N/m with torsion. Highlighted natural frequency is the torsional one.   (RPM) 1004.27  1004.59  1302.36  1302.68  1372.87  1373.19  1945.51  1945.83  3886.88  3887.20  4528.12  5876.96  5877.27  Mode 4784 (RPM) 924.69  1084.16  1222.79  1293.29  1382.26  1452.77  1865.93  2025.41  3807.30  3966.78  4527.32  5797.38  5956.85  9558 (RPM) 845.11  1143.21 1163.74 1213.72 1461.84 1532.34 1786.36 2104.98 3727.73 4046.36 4525.25 5717.80 6036.43 14334 (RPM) 765.54  1063.63 1134.14 1243.32 1541.42 1611.92 1706.78 2184.56 3648.15 4125.93 4521.75 5638.22 6116.01
49   

19108 (RPM) 685.96  984.06  1054.56 1322.90 1620.99 1627.20 1691.50 2264.14 3568.57 4205.51 4516.82 5558.65 6195.74

23883 (RPM) 606.86  904.64  975.14  1402.47 1547.78 1700.57 1771.24 2343.72 3488.99 4285.09 4510.45 5479.07 6275.16

28657 (RPM) 547.02  825.54  895.56  1468.05  1482.05  1780.15  1850.65  2423.45  3409.42  4364.98  4502.81  5399.49  6354.74 

33432 (RPM) 453.43  745.48  816.62  1388.47 1561.63 1859.73 1930.23 2503.03 3329.84 4444.24 4493.58 5319.91 6402.49

1  2  3  4  5  6  7  8  9  10  11  12  13 

Referring to Figure 11, one can observe that the spindle critical spindle speeds for the uncalibrated and calibrated models are 8.4 10 RPM, and 6.1 10 RPM, respectively, which is

where the graphs cross the X-axis. These spinning speeds are both well within the operating rotational speed of the spindle of 3. 5 10 RPM.

It was also observed that the results with torsion closely match the results without torsion. The first torsional natural frequency found was at the 11th mode when the flexible boundary condition was considered (see Table 4). The effect of torsion can safely be ignored, as the significant modes in the case of chatter are usually the first modes. It is also safe to ignore the simply-supported cases as they generate a system that is excessively rigid. The duplicated natural frequencies denote the natural frequency along the X- and Y-axis. See Appendix Code

2 for Matlab® code without torsion, Code 3 for Matlab® code with torsion and Code 4 for a simply supported Spindle.

50   

Figure F 11: Spindle S natu ural frequen ncy vs. Spin ndle RPM (h high speed s spindle).

3.4.2 Bearing B We earOrder
Thu us far it ha as been assu umed that all a the four r bearings in n the spind dle system u under investiga ation have be een wearing g evenly. However, this s is not alwa ays the case e and the we earing order is unclear u (i.e. which bearin ng wears first). In order r to determin ne which bea aring would d have more wear and to tak ke into accou unt the effec cts of uneven n wear into t the model, one would ne eed to e a spindle to t get access s to the syste em's internal l parts and c components. While in th heory dismantle this is po ossible, in pr ractice it is not n cost effec ctive to tear r down an ex xpensive (~$ $100,000) sp pindle for exam mination. Tea aring down spindles s was s outside the e scope of thi is research The e following sensitivity study was carried c out w where the st tiffness of e each bearing g was varied by y +/- 5% an nd +/- 10% to t determine e how it aff fects the sys stem natural frequency. The
51   

bearings were numbered as the 1st to the 4th from closest to the tool end to the furthest from the tool end, respectively (refer to Figure 8 and Figure 9). The results of the sensitivity analyses are presented in Table 5, where the fundamental bending (flexural) frequency of the spindle is presented while each bearing stiffness is varied at a time. Table 5: Natural frequency of the spindle while varying each bearing stiffness at a time. Ks +10% +5% 0% -5% -10% 2.310E+08 2.205E+08 2.100E+08 1.995E+08 1.890E+08 All Bearings 1051.70 1028.46 1004.58 980.08 954.77 1st Bearing 1031.96 1018.43 1004.58 990.58 976.26 2nd Bearing 1024.16 1014.29 1004.58 994.56 984.37 3rd Bearing 1005.22 1004.90 1004.58 1004.27 1003.95 4th Bearing 1004.75 1004.59 1004.58 1004.59 1004.43

As can be seen from Table 5, this investigation shows that when varying the stiffness at the bearings closest to the tool,, the natural frequency is affected significantly. Varying the stiffness for the bearings located further away from the tool end and closer to the told holder clamping mechanisms does not affect the system's natural frequency as much. This information is then used to create a three-dimensional (3D) graph to plot the change in the spindle's fundamental frequency while changing the stiffness of the first two bearings, keeping the stiffness of the last two bearings constant (Figure 12) as well as changing the stiffness of the last two bearings and keeping that of first two constant (Figure 13). Examining Figure 12 shows that there is a greater slope to the 3D plane than the one in Figure 13. This is a clear indication that the bearings closest to the tool (1st and 2nd) have the largest effect on the system over all natural frequency. Figure 13 demonstrates the variation in natural frequency while changing the stiffness of 3rd and 4th bearings. These bearings are furthest away from the tool. The plane has a minimal slope, which indicates that the wear of the last two bearings will have a minimal effect on the system over all natural frequency.
52   

Figure 12: Natural frequency sensi itivity to var rying bearin ngs 1 and 2 stiffness.

53   

Figure F 13: Natural N frequency sensi itivity to var rying bearin ngs 3 and 4 stiffness.

3.4.3 Low L Speed dMachini ingSpind dleCalibr ratedDSM M
Sim milar analys sis as prese ented in the e previous s section was s carried ou ut and the DSM formulati ion was use ed to mode el a high-tor rque, low-sp peed OKAD DA VM500 vertical m milling machine spindle ([85 5]; OKADA VM500 FAN NUC 6MB. Maintenanc ce Manual) ( (see Figure 1 14 for the schem matic structu ure of the sp pindle). The e spindle has s a total of 1 10 bearings, with four se ets of angular contact c beari ings and two o other ball bearings, b and d two belt assemblies, w which provid de the
54   

necessary driving force from the spindle motor. The spindle dimensions and geometric and sectional data, modeled using CATIA® V5, were taken from ([85]; OKADA VM500 FANUC 6MB. Maintenance Manual). For the sake of modeling convenience, the tapered and curved areas of the spindle and tool were modeled as uniform sections. The spindle along with the toolholder and tool were modeled as a single piecewise uniform, stepped system, as shown in Figure 15. The same assumptions made in section 3.4.1 are also applicable here. The spindle was modeled using the DSM method presented in the previous section, where only one element per uniform segment (i.e., a total of 26 elements) were used and simply supported boundary conditions were applied at the bearings locations. The material properties of tool steel, elastic modulus of E= 210 GPa and mass density of =7850 Kg/m3, were used. Similar to the spindle investigated in Section 3.4.1, the simply supported condition was first assumed. Once again, the fundamental frequency calculated from the un-calibrated DSM model was found to be much higher than the nominal one experimentally measured: 2303 Hz compared to 1722 Hz. As it will be explained later in this thesis, the tap testing results were used in this case because the manufacture did not report a natural frequency of the spindle. To validate the spindle DSM model, frequency data were compared with those obtained from a 154-element FEM model created in ANSYS® V13 software [87]. The BEAM188

element used is one-dimensional (1D) line element, and has 2 nodes and 6 degrees-of-freedom (3 translational and 3 rotational). Comparing the DSM and FEM frequency results shows minor differences, with less than 3% error..

55   

Figure 14: Schema atic diagram m of an OKA ADA VM50 00 spindle. [ [85]

Figure F 15: Spindle S mod del. [87]

The e spring bou undary condi itions were then t implem mented and v varied to dev velop a calib brated DSM mo odel of the sy ystem. Figu ure 16 shows s the low spe eed Okada s spindle syste em's fundam mental flexural frequency f vs s. bearing eq quivalent spr ring constant t (in log scal le). To achieve the syst tem's experime ental natural l frequency of 1722 Hz, H the requ uired bearing g stiffness w was found t to be k 1.28 10 N/ /m (see Figu ure 16). This s is observed d to be sign nificantly mo ore rigid tha an the

first spin ndle investiga ated in the previous p sect tion. This fi finding is als so consistent t with the pr resent spindle being b low spe eed and high h torque.

56   

Figure 16: 1 System natural n freq quency vs. Bearing B equi ivalent spri ing constant t for a low s speed spindle e (in log sca ale). Fur rthermore, an a instability y analysis was w carried, w where the sp pinning spee ed was grad dually increased d to capture the critical speed causin ng the first fundamental l bending fr requency to go to zero (Fig gure 17), i.e. the shaft's whirling ins stability (see e, e.g., [84], [10]). The spindle syst tem's critical sp peed was fou und to be 10 03,142 RPM for the calib brated system m (i.e. suppo orted by spri ings), compared d to 138,46 64 RPM for r un-calibrat ted model ( (i.e. the spi indle with s simply supp ported bearing boundary b co onditions). Both B values are well ab bove the ope erational RP PM of the sp pindle suggestin ng a stable operating o reg gime in both cases; the m manufacturer r's recomme ended operat tional speed is 6000 6 RPM.

57   

Figure F 17: Spindle S natu ural frequen ncy vs. Spin dle RPM (h high torque spindle). ntioning that it would be very useful to change th he tool and h holder to ver rify if It is worth men one wou uld get the same bearin ng stiffness values to m match the m measurement t. However, it is impossib ble to repeat the experim ment using a different to ol and holde er set, as the e Okada machine modeled and tested in i the presen nt study has s been recen ntly decomm missioned in the facility. This can be ta aken into con nsideration while w testing g other types of machines to confirm m bearing stif ffness in future papers. It is s worth notin ng that while e changing th the tool and holder could d alter the ov verall dynamic behaviour of o the spindl le system (i. .e. both mas ss and stiffne ess), one exp pects this ch hange in the sy ystem natura al frequency y to be mino or, as the si ize and mas ss of the too ol and holde er are insignific cant compar red with the e rest of the spindle. Ho owever, reg gardless of th he change i in the system's natural freq quency, the bearing b stiffn ness should r remain unalt tered.

58   

3.5 Discussion
In this chapter, a DSM-based analytical model, exact within the limits of the EulerBernoulli beam bending theory, of a multi-segment spinning spindle was developed. The beam exhibits coupled Bending-Bending (B-B) vibration and its natural frequencies are found to decrease with increasing spinning speed. The effects of bearings were included in the model using two different models; rigid simply supported pins and flexible spring elements. The spring element stiffness, KS, was then calibrated in such a way the fundamental frequency of the system matched the nominal data provided by the manufacturer or evaluated experimentally. This step is vital to the next phase of the proposed research, where the bearing wear will be modeled as the changes in their stiffness in terms of spindle's service time/age and its consequences on the stability lobes and Chatter. The bearing wear encompasses damage to the internals of the

bearing or the change to the spindle preload. The bearing was considered as a closed box and all changes that happened within the box that affect the natural frequency are combined into one general reason for the natural frequency change. It has also been established that that the torsional affect within the spindle can be ignored since the first torsional natural frequency was observed at very high modes (here, the 11th mode). This shows that the system is rigid and will not likely vibrate at that mode.

59   

Chap pter4:Experi imenta alAnaly ysis
4.0 Int troductio on
The e experiment tal modal an nalysis result ts, obtained u using tap tes sting, were u used to deter rmine the system m's nominal l fundamenta al frequency y.

4.1 Experiment talEquipm ment
Experime ental Appara atus (Figure 18) includes s the followi ing compone ents: 1- 352A21 (Ligh ht, 0.8g ) acc celerometer 2- 086C04 (5000 0 N hammer r) Hammer 3- SIM3 Module e Photon+ Data D Acquisit tion
® 4- MetalMax M Software S (TX XF) [88].

Figure 18: Experimen ntal equipme ent.
60   

4.2 ExperimentalProcedure
The experimentally evaluated Frequency Response Function (FRF) data were collected for several 5-axis machines that are utilized differently over their life cycle from the day they were installed to the day they were replaced. A 25.4 mm diameter blank tool with a 50.8 mm protrusion was used. A typical shrink fit tool holder was also used (See Figure 19). This type of holder was selected for its rigid contact surface with the tool. Therefore, any play in the whole system is attributed to the spindle. The tool and holder were inserted into the spindle. The spindle was set to in a horizontal or neutral position shown in Figure 20. The accelerometer was then attached to the edge of the tip of the tool using the wax supplied by the kit. The spindle was struck 10 times in the x direction and the average FRF graph was generated. The spindle was then rotated to the y direction and struck 10 times. The software monitored the strike force and did not count a strike if it was too hard or too soft. The spindle had to be re-struck. Tap testing at the high and low bands of the force was also investigated and showed no change in the natural frequency. Before each tap test the machines were set to be idle for at least 12 hours to ensure that the internal components were at the same temperature before each test. The machine was then put through the spindle warm up cycle and the machine was subsequently tap tested. It is worth noting that it was confirmed that the spindle warm up cycle did not affect the test results, as the natural frequency changed by less than 1% before and after spindle warm up.

61   

Figure 19: Blank t tool.

Figure F 20: Blank B tool in n spindle.

62   

Figure 21: Spindle e experimen ntal frequen ncy response e function (FRF) along g X-axis and d Yaxis (real part). .

e experimen ntal frequen ncy response e function (FRF) along g X-axis and d YFigure 22: Spindle axis (im maginary pa art).
63   

Sample FRF graphs, for a typical 5-axis spindle are presented in Figure 21 and Figure 22. The non-spinning spindle's first three natural frequencies extracted from the FRF graphs are presented in Table 6 alongside the Calibrated Dynamic Stiffness Matrix (CDSM) results. As can be seen from Table 6, the maximum difference between the first three CDSM flexural natural frequencies and the experimentally evaluated data are, respectively, 8%, 0.07%, and 14.3%, in X-direction, and 8.4%, 0.06%, and 13.3%, in Y-direction. The average difference is found to be around 7.4%. Table 6: Spindle natural frequencies; experimental vs. CDSM for a non-spinning spindle system, with flexible boundary conditions; Ks=2.1x108 N/m. Non-Spinning Bending Modes (Hz) 1 2 3  0 9.55 RPM 1004.27 / 1004.59 1302.37 / 1302.68 1372.87 / 1373.19 Experimental (X-axis / Y-axis) 929.81 / 926.51 1301.51 / 1310.67 1601.44 / 1583.86 Difference (%) (X-axis / Y-axis) 8.0% / 8.4% 0.07% / 0.06% 14.3% / 13.3%

Three types of machines were selected for testing. A production-type spindle which was not abused and ran the same types of parts for many years was chosen. This type of machine was a rare find in the facility as there are large variations in the type of parts produced and customers often change their part configuration. The second machine type chosen was a more typical machine, referred to as `First-off' machine. New parts are proven out on these machines and the feeds and speeds are adjusted until conforming parts are produced. These machines also occasionally experience collisions due to the unproven status of the programs used to run the parts. The third spindle type tested was a `First-off' spindle that has been abused and has gone through multiple collisions. In what follows the experimental results for the three types of spindles are presented to show the variation of the spindle's natural frequency over their lifetime.

64   

4.3 ExperimentalResults
A production spindle, running similar type jobs over its life span was the first to be investigated. The spindle has never been abused or run over the manufacturer's recommended parameters. It has never alarmed out due to vibrations, nor had any collisions since the program running the production machines has been thoroughly tested and fine-tuned. The change in the spindle natural frequency can be assumed to be due to bearing wear from typical use. The natural frequency changed from 930 Hz to just below 800 Hz in less than 14000 hours of use (Figure 23). It is also evident that the natural frequency change was gradual and predictable. It was determined that the spindle life can be broken down into three major phases/sections, namely spindle settling, normal operation and spindle failure. The "spindle settling" zone happens when the spindle is newly installed and has been turned on for the first time. At this stage all the components are settling and wearing together. It is observed that at this stage the natural frequency changes very rapidly with time. Roughly after 2000 hours, the "normal operation" zone starts. If the spindle is used with care and is not subjected to high vibration levels or collisions, the change in natural frequency in the "normal operation" zone would then be gradual and predictable. Otherwise, the changes can be erratic and unpredictable due to the damage to the bearings. Finally the "spindle failure zone" is where the spindle behavior is no longer predictable and varies inconsistently. At this stage, the spindle is approaching the end of its life cycle and is no longer dependable. The curve fitted on the graph is a 6th order polynomial with an 0.974.

65   

Figure 23: Pro oduction spindle fundam mental natu ural frequen ncy vs. Machine hours. The e second typ pe of spindl les investiga ated was a F First-off spin ndle. A pro ove-out spind dle is one that is used to ru un new CNC C programs for f the first time, in ord der to validat te the param meters d by the programmer. These T particu ular spindles s have not g gone throug gh any collis sions; specified however, , they have alarmed ou ut due to vi ibration aler rts due to a aggressive m machining. T These paramete ers have bee en updated in i subsequen nt runs. Tw wo spindles of this type e were moni itored and, as can be seen in i Figure 24 and Figure 25, the fund damental fre equencies sta art at the nom minal e., 1000±50 Hz) and changes of fun ndamental fr frequency vs s. machine h hours (i.e. sp pindle value (i.e age) in both cases are e observed to o be gradual l, but not pre edictable.

66   

Figu ure 24: Prov ve-out spind dle 1 fundam mental natural frequen ncies vs. Mac chine hours s.

67   

Figu ure 25: Prov ve-out spind dle 2 fundam mental natural frequen ncies vs. Mac chine hours s.

The e final spind dle studied was w a First-of ff spindle sim milar to the s second type, , except it ha as faced mu ultiple collisi ions. This happens h when n the tool co ollides with t the material or the fixtur re holding the t material while movin ng around th he machine. These collis sions usually y cause significan nt damage to o the interna al component ts of the spin ndles. It is a also known t that these collisions s change the e vibrational characteristics of the sp pindle signifi icantly. It ca an be observ ved from Figure 26 that, in this case, the changes s are erratic a and unpredic ctable, espec cially around d the collision point.

68   

ure 26: Prov ve-out spind dle 3 fundam mental natural frequen ncies vs. Mac chine hours s. Figu

4.4 SpindleHea alth
Wh hen performing a tap tes st, the overall shape of t the real and imaginary F FRF graphs show the health h of the spin ndle. Gener rally speakin ng, the FRF graph shou uld contain s some noise a at the beginning of the gr raph then se everal crisp oscillations s in the rea al graph ind dicating a na atural frequency y. These os scillations ar re matched with w valleys s in the imag ginary graph h. Also the peak and valle ey oscillation ns in the rea al graph reac ch approxim mately the sa ame absolute e value in th he Yaxis. The e width of th he oscillation n in the X-ax xis is as sma all as possibl le. Figure 2 27 shows the e FRF graph of a perfectly healthy h spind dle that, past t its settling period and a at its ideal cu utting health h.

69   

Figure 27: : Ideal FRF graphs for a healthy sp pindle.

Wh hen the spind dle is in its settling s perio od the FRF graphs are n not as crisp a and the peak ks are not as distinct. Figu ure 28 shows s a spindle that t was new wly installed d. The over rall general s shape ber of peaks s can be seen n compared to t the ideal s scenario. and numb

70   

Figure 28: 2 FRF gra aph for a ne ewly installe ed spindle ( (Spindle EX X-A).

oves past the e settling per riod, the FRF F graph start ts to approac ch As the spindle ages and mo the ideal shape. This s only happe ens if the spin ndle is not d damaged whi ile in use. T The peaks sta art to m distinct and crisp (see Figure 29). 2 become more

71   

Figure 29: FRF graph h for a settle ed spindle a at 1286 hour rs (Spindle E EX-A).

4.5 SpindleDam mage
The ere are three e spindle collision types: : major colli sion, minor collision and cutting thr rough material using the wr rong cutting parameters. A major m collisi ion is one where w the spi indle is trav velling at ful ll speed from m one side o of the machine to another and a makes contact with the material l block or fix xture. A ma ajor collision n can also happ pen if a larg ge piece of material co omes loose a and falls int to the spind dle. This typ pe of collision will likely damage d the spindle bey yond repair. If the spind dle is still us sable this ty ype of ned the over rall life span n of the spin ndle. Spind dle EX-A (F Figure 30) in n this collision has shorten scenario was travelli ing from one side of the e machine to o another an nd the wron ng cap screw w was used to secure s the fixture, fi stick king out too far. The sp pindle tool ran into the e cap screw head
72   

causing the t machine e to alarm out. The spi indle was te ested and ru un for anothe er 15 hours after which it fully seized. Figure 30 shows the FRF F graphs o of a seized s spindle. Cle early these gr raphs n distinct o scillations. are nothing like the ideal graphs. There are no

: FRF graph h for a seize ed spindle a t 1500 hour rs (Spindle E EX-A). Figure 30:

A minor m collision is simila ar to a major r collision b but on a sma aller scale, w where a spind dle is travelling g at small sp peeds for sho ort distances s and makes contact wit th a material l block or fix xture. A minor collision can n also occur r if a small te est block fal lls from the fixture onto the spindle. . This type of collision c usu ually will no ot damage th he spindle b beyond repai ir. It will al lso have a m minor effect on n the FRF graphs. g Figu ure 31 show ws the spind dle's FRF pr rior to a min nor collision n and Figure 32 2 shows its FRF post co ollision on Spindle S 3-I. The FRF g graphs clearl ly did not ch hange

73   

much me eaning that the t spindle damage was s minor in t this case. T These types of collisions s will also chan nge the traje ectory of the e life of the spindle and d make it sh horter. Mino or damage t to the bearings will get mag gnified over the life of th he spindle.

Figure 31 1: FRF grap ph for a sett tled spindle at 1044 hou urs (Spindle e 3-I).

74   

Figure F 32: FRF F graph for f a post in ncident spin ndle at 1134 hours (Spin ndle 3-I).

e final type of collision ns is a colli ision while the spindle is in cut. If a spindle e was The programm med using aluminum a cu utting param meters and t the tooling i installed is to cut alum minum then it sh hould only cut aluminu um. The collision here is if the fix xture was m misplaced an nd the tooling ends e up cutting through a hardened steel s fixture or bolt. Th his causes un ndue stress o on the spindle and a damagin ng the bearin ngs. By com mparing the FRF graphs s presented in Figure 33 3 and Figure 34 4 for Spindle 1-C, it is clear c that the ere is a chan nge in the vi ibration char racteristics o of the spindle.

75   

Fig gure 33: FR RF graph for r a healthy s spindle (Spi indle 1-C).

Figur re 34: FRF graph g for a post collisio on spindle ( (Spindle 1-C C).
76   

4.6 Discussion
The importance of the effects of spindle system's vibrational behavior on the stability lobes and as a result on the Chatter behavior of machine tools has been established. It has been observed that the service life changes the vibrational behavior of spindles. Spindle collisions were broken down into three categories. collisions and cutting through hardened material collisions. Major collisions, minor

Each type of collision causes

damage to the spindle and accelerates spindle failure. If the collision is severe enough, it renders the spindle damaged beyond repair. If not, then the spindle life will be shortened depending on the severity of the collisions. Further to the shortening of spindle's life, the system's vibrational characteristics change. Ultimately the natural frequency tends to drop prematurely causing the cutting parameters to be less than ideal and chatter may occur. Usually errors in the measurements can creep into the results when testing takes several years. Equipment imperfect calibration, damaged wires, or insufficient data points are usually to blame. In the testing of these spindles the software was calibrated before every test. The wires were also inspected and several extra wires were kept in stock to ensure perfectly functioning wires are used. Each spindle was tap tested 10 times and an average value was calculated to avoid measurement anomalies. Also, the natural frequencies were monitored after each

measurement and if the results were out of the ordinary, tap testing would be redone to confirm its correctness. In the next Chapter the generation and validation and utilization of the stability lobes will be presented. The migration of the stability lobes will also be shown as the spindle ages. This is done to show that ideal cutting parameters will not always be the same as the spindle ages.

77   

Chapter5:StabilityLobesGenerationand Validation
5.0Introduction
In the previous Chapter it was established that the natural frequency of a spindle changes as the spindle ages (refer to Figure 23 - Figure 26). With the change of the vibrational

characteristics of a spindle it is anticipated that the cutting parameters will need to be adjusted/updated to avoid chatter. In this chapter, the development of the stability lobes using the calculated spindle bearing stiffnesses in Section 3.4.1 is presented. Initially, the Dynamic

Stiffness Matrix (DSM) in Section 3.1 is converted into a Static Stiffness Matrix, Using the method described in [17]. All the bearing stiffnesses were then combined and replaced with an equivalent spring at the tip of the spindle (tool tip). The stability lobes are then calculated using said spring stiffness. The stability lobes were calculated for a production spindle for two different frequencies (930 and 800 Hz). The 930 Hz frequency is the frequency measured at the beginning of the life cycle of the spindle and the 800 Hz frequency represents the frequency of the spindle at the last test before the spindle was no longer operational. These stability lobes are validated using test cuts on a sample machine.

5.1

ConvertingDynamicStiffnessMatrixtoaStaticStiffnessMatrix
The stability lobes are generated based on a spindle system modeled as a 1-DOF, subjected

to end force [17]. However, as discussed earlier in the thesis, the spindle models investigated here consist of continuous DSM elements, or large number of beam/3D FEM elements, and the supporting bearings represented by multiple linear spring elements. Therefore, one needs to first convert the rotating system to a spring-damper-system, in order to evaluate the equivalent
78   

stiffness of the entire system, presented.

. In what follows, the process of evaluating

is briefly

The dynamic stiffness matrix of the system is first converted to a static stiffness matrix by linearizing the nonlinear eigenvalue problem of the system, as described by Hashemi (1998) [64]. Based on this method, the static stiffness of the system can be evaluated at zero frequency (i.e., no vibration, =0), or in the neighborhood of any given frequency [68]. Consider a very small natural frequency in the vicinity of zero ( 0), referred to as A very small frequency increment,  , is then added to  and an average frequency value, , is then defined as: /2 The eigenvalue problem can then be linearized, in the vicinity of , written as: (98) where is the system Dynamic Stiffness Matrix (DSM), and and are the static (97) , to find (96) .

stiffness and mass matrices, respectively, evaluated in the vicinity of matrix of the system can then be written as:

frequency. The mass

(99) Finally, substituting (99) back into (98), the system static stiffness matrix is obtained as: (100) Once the static stiffness matrix of the system, [K], has been evaluated, one can then apply any force to the node representing the tool tip in the spindle model and calculate the deflection, U, in the same direction as the applied force, F, using the following expression:

79   

(101) This deflection, U, is then used to calculate the theoretical equivalent tool stiffness, as follows: (102) In what follows, comparison is made between these results and experimental results obtained from interrogating the FRF charts and using the peak fitting method. formulation was obtained from [64]. Consider Figure 35, which shows sample FRF data. In the imaginary graph, the The above

frequencies labeled at C, correspond to the minimum peaks of the FRF. The corresponding frequency at this peak represents the dominant natural frequency of the system, . The

equivalent damping ratio at each mode can be calculated by using the two frequencies in the real part ( and ).  2 (103)

The peak value of FRF in the imaginary part is used to calculate the equivalent stiffness values at each mode: 1 2 (104)

With the stiffness, damping ratio values and the natural frequencies, the mass can be calculated from: (105) See (Code 5) for Matlab® code

80   

Figu ure 35: Sam mple FRF gr raph (top re eal, bottom i imaginary). .   System natura al frequencie es,  Equivalent E sy ystem dampi ing,  930Hz and  0.0 032 and  800H Hz, 0.036; Bo oth the natur ral frequency y and

damping valu ues were ob btained from m the FRF charts usin ng the peak picking me ethod [ described in [17],  Calculated C eq quivalent sys stem cutting g stiffness, K 3.0309   10  , 8.00 10 , [17] and d 3.1 1359 10  , and K

Tangential T Cu utting Const tant for Alum minum K Force angle  68 degre ees [17].

llowing the above-pres sented meth hod, Figure 23, repres senting the production 3-A Fol spindle's s fundament tal bending frequency vs. v machine e hours (see e Section 4 4.3), can now be converted d into a grap ph (Figure 36) 3 displayin ng the chan nge in spring g constant v value vs. machine
81   

hours, calculated both theoretically and numerically. Figure 36 shows that as the spindle ages the bearing stiffness predictability is not as accurate. When the spindle is in the failure period the largest difference between the experimental and theoretical stiffness is observed. The

theoretical calculation assumes a tight contact between the bearing and spindle shaft while varying the stiffnesses at the bearing locations. In reality, however, this might not be the case depending on the type of damage to the bearing. Also at the failure zone the bearing stiffness may not be behaving in a linear fashion due to the small displacement assumption not being valid. The average error in the spindle settling period is 6.6%, which shows tight bearing/shaft contacts. The average error in the normal operation is slightly larger at 8.4%. As the spindle enters the failure zone the error increases to 30.2%, indicating that the contact is fairly loose and the spindle behavior is no longer predictable.

82   

Fig gure 36: Con nverted tool l stiffness th heoretical an nd experim mental decay y vs. Hours.

5.2

Tool T Vibra ationandRegenerativeCha atter
In n what follows, a simple e model for the tool vib bration and r regenerative chatter is br riefly

examined d. Assuming g the cutting tool is flexib ble, it can th hen be ideali ized as, and represented by, a mass-spr ring-damper single-DOF F combinatio on [17], as sh hown in Figu ure 37. As th he tool vibra ates it leaves an n imprint on n the surface e it is cutting g. In this ca ase only the vibration in n one directi ion is considere ed.

83   

Fig gure 37: Cut tting tool re epresentatio on using a m mass-spring-damper combination. Initially the t instantan neous chip th hickness is determined. d It is found t to be [17] h t h x t  x t (106)

where h is the aver rage depth of f cut, and  is i the time fo for one pass over the mat terial. The p phase on on the s differenc ce between passes p deter rmines the force f variatio system. Thi is force vari iation determin nes whether the t system is s stable or unstable. u If t the phase difference is f favourable, i it will result in a minimal variation in th he chip thick kness. Conv versely, an u unfavourable e phase differ rence arge chip thi ickness varia ation. (180 degrees) would result in a la The T instantan neous normal cutting forc ce (as a func ction of time e) is then wri itten as: F Kbh K t Kb b h x t  x t (107)

where `b' is the chip width and `K' is the sys stem stiffnes ss. The vari iation in the force equati ion is what inf fluences the system's stability. K in this scen nario is the equivalent tool tip stif ffness discussed d in the prev vious section n.

84   

5.3 StabilityLobesGenerationUsingFourierSeries
The application of Fourier Series Approach in developing stability lobes has been established and presented by Altintas and Budak [22] and was further clarified by Schmitz [17]. This method approximates the cutting forces by using an average value, and ass it will be briefly discussed below, is done by expanding the time-varying coefficient of the dynamic milling equations into a Fourier series. The derivation starts by writing down the projection of the x and y vibration on the surface normal n xsin  ycos  (108)

and in turn the instantaneous chip thickness equation for tooth j becomes h  f sin  n n .g  tool is in cut and is equal to zero

(109)

where g  is a function that is equal to 1 when the j otherwise. 1, 0,

g 

when   when   ,

 

(110)

where  stands for cut start angle and  is the cut exit angle. n is substituted into h  and the chip thickness can written as follows: h  x . sin  y . cos  .g 

(111)

The cutting forces per tooth were also derived by [17].

85   

F

,

1 K bg  2

x sin 2

K

1

cos 2

y 1 1 K bg  2

cos 2

K sin 2

(112)

F

,

x 1

cos 2

K sin 2

y sin 2c

K

1

cos 2

(113)

where K and K are the tangential and normal cutting force coefficients. These forces are then summed to represent multiple teeth.

F

F

,

(114)

F The cutting forces can now be written as F F a 1 Kb a 2 a a

F

,

(115)

x y

1 KbA 2

x y

(116)

where the A matrix coefficients are

a

g 

sin 2

K 1

cos 2

(117)

a

g 

1

cos 2

K sin 2

(118)

86   

a

g 

1

cos 2

K sin 2

(119)

a

g 

sin 2

K 1

cos 2

(120)

Although the A matrix is written in terms of , it is still as a function of time.  60  2

t

(121)

The A matrix is now rewritten as a function of time

A t

A e

(122)

where the A matrix is the time varying directional dynamic force coefficients. And A is the Fourier coefficient is defined as follows 1 N

A Using r

A t e

dt

(123)

0 term only will eliminate the time dependency of the equation. It is argued that for must be used.

higher accuracy and better representation of A t multiple harmonics of 

It is found that the accuracy only degrades as the radial immersion is reduced (a few percent of the radial impression). This will make the cutting forces "impulse-like". This fact was then disputed by Altintas [83], where he stated that using an iterative process with low immersion cut an improvement in the stability results using higher harmonics was not noticed. In the case of the present study roughing cuts are being investigated, where maximum material removal must be achieved in minimal time. Therefore, using r in:
87   

0 approximation will suffice. This will result

A where

1 2

A  d

 

 

(124)

   

1 cos 2 2 1 2 1 2 1 2 sin 2 sin 2 cos 2

2K  2 2 2K 

K sin 2 K cos 2 K cos 2 K sin 2

(125) (126) (127) (128)

Now, one can equate the frequency-domain vibration in the x and y direction with the product of the frequency response function matrix and frequency domain representation of the cutting force. X Y FRF 0 0 FRF F F

e

(129)

where  is the chatter frequency. Now one can find the vibration one tooth back is represented by X Y and e X e Y FRF 0 0 FRF F F

e

.e

(130)

represents the delay of one tooth period. By subtracting both notations (129) and

(130) to find X Y This can be written as X Y X Y FRF 0 0 FRF F F

1

e

e

(131)

88   

F F

e

1 bK A 2

1

e

FRF 0

0 FRF

F F

e

(132)

This can be rearrange F F 1 bK 1 2 FRF 0 0 FRF

e

I

e

A

0

(133)

To find the non-trivial solution the determinant of the following must be calculated 1 bK 1 2 FRF 0 0 FRF

det

I

e

A

0

(134)

A new variable is introduced 1 bK 1 2

 and

e

(135)

FRF Hence det I

A

FRF

(136)

 FRF

0

(137)

Calculating the said determinant and knowing the axial depth of cut is a real number one can find: 2  NK

b where  See (Code 6) for Matlab® Code.  

1



(138)

sin   1 cos  

(139)

89   

5.4

StabilityLobesCodeDevelopmentandValidation
A Matlab® code was developed to generate the stability lobes as per the Fourier method

[17]. These results were then compared to those generated by MetalMax® [88]. MetalMax® is a software package that automatically generates stability lobes using the tap test results using the average angle method described by [17]. It is worth noting that both methods, if implemented correctly, generate lobes with same peak. The difference between the Fourier method,

implemented in this thesis, and the average angle method is that the average angle method is more conservative with larger lobe areas [17]. Figure 38 shows Stability Lobes Diagrams (SLD) for a sample 5-axis spindle at an arbitrary point of its life cycle created using MetalMax® compared with those generated using the Matlab® code developed based on Fourier Seriers method. As it is clear (see Figure 38), the developed Matlab®-based code generates stability lobes that are more conservative for the exact same cutting parameters entered into MetalMax®. It is also clear that the lobe peaks match as the spindle RPM is reduced. It is worth noting that the more conservative method is preferred and is more accurate in determining chatter areas. Consequently, in what follows the former method will be used for further studies.

90   

Figure 38: 3 MetalM Max® (averag ge angle) lob bes compar red to Matla ab® (Fourie er seriers) lo obes.

5.5 Nu umericalResults R 
Con nsider the high h speed, low l torque Production spindle 3-A A, presented and investigated earlier in n Section 4.3 3 of this rep port (see Fig gure 23). Th hrough testin ng and recor rds available e, the spindle's s natural freq quency was determined d to fall betw ween 700 H Hz and 1200 0 Hz. Figur re 39, presentin ng system's fundamenta al flexural fr requency vs. . bearing equ uivalent spr ring constant t, KS, for the ab bove spindle e (log scale) was therefor re truncated and inverse ed for these v values. A be est-fit curve, pr resented in Figure F 39, was w determin ned. This w was done to relate syste em's fundam mental natural fr requency to the equivale ent spring co onstant, requi ired to calcu ulate the FRF F graphs.

91   

Fig gure 39: Sys stem natura al frequency y (Hz) vs. E quivalent sp pring constant (N/m).

92   

Usi ing these res sults the stab bility lobes were w calcula ated (Figure e 40) using t the Fourier-b based method described d ab bove, for a tw wo tooth rou ughing tool ( (typically us sed to rough h) and param meters for mach hining alumin num with a full f slot axia al depth of cu ut were cons sidered.

Figu ure 40: Stabi ility chart for fo a varying g natural fr requency sp pindle (two t teeth cutter) ).


Fig gure 40 show ws that as th he system's natural n frequ uency deterio orate, the sta ability lobes s tend to shift to t the left and a downwa ards. Figure 23 (refer t to Section 4 4.3 of this th hesis) show ws the spindle's s fundamental natural fr requency vs. machine h hours (Produ uction Spind dle). Referrin ng to Figure 23 3, the two na atural freque ency values, , 800 Hz and d 930 Hz, w were taken at the beginni ing of

93   

the life cycle of the machine and right before the spindle broke down, respectively.

It is clear

that using the cutting parameters assumed at the beginning of the life cycle of the spindle will not generate chatter-free cuts, unless the shift in the lobes caused by the system's aging is taken into consideration and cutting parameters are updated with the spindle age (machine hours). Referring to Figure 40, the optimal spindle speed for a 25 mm depth of cut is observed to be roughly 27000 RPM for the 930 Hz spindle. However, a 27000 RPM spindle speed will very likely generate chatter as the spindle ages to 800 Hz. The optimal value for the 800Hz spindle is observed to be roughly 23500 RPM. It can be concluded that if an initial value of 24500 RPM is selected; chatter will be controlled, leading to a chatter-free regime throughout the life of the spindle.

94   

Figur re 41: Stabil lity chart fo or a varying g natural fre equency spindle (three teeth cutter r).

w initially y thought th hat changing g the cutter to a 3-toot th cutter mi ight help co ontrol It was chatter. In order to o investigate e the effects s of the num mber of too ol teeth on t the stability lobe s, SLD were also deve eloped for a 3-tooth ro oughing tool l, where the e parameter rs for diagrams machinin ng aluminum m (see Figu ure 41) with h a full slo ot axial dep pth of cut w were consid dered. Comparin ng Figure 41 to Figure 40 reveals that t the chan anging from a 2-tooth to o a 3-tooth c cutter will not change c the overlapping o stability s area as. In fact, it worsens th he required s stable RPM o of the spindle. The RPM is significant tly reduced. Reducing t the RPMs w would result i in a reduced d feed rate and hence h a slow wer cycle tim me.
95   

5.6 ExperimentalValidationofStabilityLobesCode
To verify the correctness and accuracy of the Matlab® program designed to generate stability lobes, and to confirm its practical applicability, a machine spindle was tap tested and the stability lobes were generated. Several test cuts were then taken at the same machine and were compared to the stability lobes generated by code. See Figure 42 for Block and tool orientation. The test cuts were taken at 2 different RPM, one of which was in the stable region and the other which was in an unstable region. The cutting parameter points are shown in Figure 43 to Figure 45 for 3 different tool manufacturers (IMCO, Helical and Merlin), superimposed over a zoomed out and then a zoomed in section of the stability lobe for the said machine. All of the tools were 2-flute roughing tools with the same diameter and stick-out. The same tool holder was also used. The feed rate was also kept constant but the depth of cut was varied (see Table 7).

96   

Figure 42: Test blo ock mounted d on a tomb b stone prior r to test cutt ting.

97   

Figur re 43: Stabil lity chart wi ith test cuts (IMCO too ol) zoomed i in.

Figure e 44: Stabili ity chart wi ith test cuts (Helical too ol) zoomed i in.
98   

Figure 45: Stability chart wi ith test cuts (Merlin too ol) zoomed i in.

99   

Table 7: Test cuts and resulting machine vibrational results. Tool Supplier DOC (mm) 7.112 7.620 8.890 9.525 7.620 8.890 9.525 7.112 7.620 8.255 8.890 7.620 8.890 9.525 7.112 8.890 9.525 MELIN 10.160 8.890 9.525 10.160 11.430 RPM 33000 33000 33000 33000 26500 26500 26500 33000 33000 33000 33000 26500 26500 26500 33000 33000 33000 33000 26100 26100 26100 26100 Tool Vibration (mm/s) 2.9 3.1 3.8 4.1 1.9 1.9 2.1 4.1 4.4 5.0 5.5 1.5 2.3 2.1 2.4 3.1 5.6 5.6 3.0 2.9 3.2 3.4

IMCO

Helical

It can clearly be seen from Table 7 that when the cutting parameters are outside the stability lobe region the machine registers higher vibrations than when inside the stability lobe area. The higher the vibration value the worse the chatter. The difference in the vibration value between the different tools can be attributed to the design of the flutes for chip evacuation. It was determined that any vibration value over 4 mm/s would generate an unacceptable surface finish. The stability lobe line indicated the theoretical boundary at which the cut is no longer

100   

stable. Manufacturing facilities can decide how far away from the line they choose to stay in order to achieve their surface finish requirement.

5.7 Discussion
It was initially proposed that the natural frequency of the spindle changes as the spindle ages. If ignored, the change in the system's natural frequency would change the cutting

parameters and would result in chatter later on in the life of the spindle. This hypothesis was validated by monitoring several types of machines throughout the life cycle of the spindle. It was observed that, for different spindle styles, the system's fundamental frequency changes throughout the spindle working life. Therefore, if chatter-free machining is to be achieved, then the decay characteristics of a spindle (i.e. shifts in the spindle system's fundamental frequency over its lifespan) must be determined at first, and the frequency ranges (i.e. highest and lowest values) must be found. Subsequently, the Stability Lobes Diagrams (SLD) for each of the highest and lowest spindle's frequency values, and the resulting corresponding shifts, should be established. According to these shifts, the cutting parameters can then be adjusted so that chatter is avoided over the life span of the spindle.

101   

Chapter6:ConclusionsandFutureWork
6.1 ConcludingRemarks
Gone are the days where the adage of "set it and forget it" was applicable in the machining industry. There is a significant focus on the machine overall efficiency. As companies try to

walk a metaphorical tight rope by pushing their machines to their absolute limits without producing non-conforming products, a new factor comes into play. The extensive literature surveys presented in Chapter 2 of this thesis revealed that spindle age, never before considered while evaluating the machining parameters, must also be taken into consideration. This thesis has shown that as the spindle ages or is damaged, the system's overall rigidity declines, leading to reduced natural frequencies. The decline in the spindle's fundamental frequency, known to play a major role in the occurrence of chatter, in turn significantly affects the ideal cutting parameters. Therefore, the cutting parameters cannot be set and left unchanged. Cutting parameters that do not generate chatter are a moving target that require updating as the spindle ages or is affected by damage. This conclusion was reached by tracking three different types of CNC machine tools: a production machine, a first off machine with no damage, and a first off machine with damage. In all three machines the natural frequency showed decay, with more decline in some cases than others. It was also clear from tracking these spindles that they went through three distinct phases in their life cycles: spindle settling, normal operation and spindle failure. Each phase has its own natural frequency decline slope. Those slopes are unpredictable, hence tap testing and parameter updates are crucial throughout the life of a spindle. This unpredictability is due to the starting

102   

condition of each spindle from the manufacturer and spindling building tolerances. The first phase was found to usually last for under 2000 hours and generally show the largest variation in natural frequency. The FRF graphs from the first 2000 hours are less than ideal. It is therefore recommended that the natural frequency be tested when the spindle is installed and cutting parameters are set at this stage. Tap testing should be done again at the 1000 hour mark to see how quickly the natural frequency is declining. The second stage, i.e. normal operation, usually happens after 2000 hours. Tap testing can be further spaced out at this point as the frequency decline is reduced. The cutting parameters in this case will not need to be updated as much, as long as the cutting parameters are selected as far to the left of the stability lobes as possible. Tap testing is recommended to be done approximately every 2000 hours at this phase. The change in natural frequency between tap tests is minimal as shown in Figure 36, reproduced below. The largest drops are in the settling period and failure period. After 12,000 hours of machine hours, the spindle will be approaching the failure phase at which the frequency of the tap testing should be increased to every 1000 hours again. Also, part inspection results should be monitored to ensure quality parts are produced and the spindle does not have any loose components. As mentioned before, the up-to-date spindle system's vibration response can be evaluated experimentally using frequent tap tests, where the resulting Frequency Response Functions (FRF) data can then be used to develop the Stability Lobes Diagrams (SLD), subsequently used to calculate the updated machining parameters, to avoid chatter. This method, however, causes long machine downtime leading, in turn, to financial loss. In addition, the use of FRF data is theoretically extensive and not well suited for an average technician or machine programmer/operator.

103   

There have also been some attempts to develop numerical models and to use different simulations to evaluate changes in the system's fundamental frequency. This is only possible if actual, updated information on the characteristics of all internal components of the spindle system are fully available. However, this is not possible, as certain information on the spindle cannot be obtained unless the system is dismantled, an impractical, if not impossible, task. Therefore, in this thesis an analytical vibration modeling method, exact within the limits of the theory, based on the Dynamic Stiffness Matrix (DSM) formulation was presented. The

presented DSM was then calibrated experimentally to reflect the changes in the supporting bearings' stiffness caused by aging/damage. The Matlab®-based code developed in this thesis, and experimentally calibrated using experimental tap tests, provides the 1-DOF equivalent stiffness of the spindle system, which can then be directly used to graph the updated SLD, and then evaluate the chatter-free machining parameters. The FRF graphs should be scrutinized to ensure the overall state of health of the spindle. As per data collected and presented in Figure 27 through Figure 34, the FRF graphs reveal three different types of collisions, having different effects on the spindle. So-called major collisions will likely scrap the spindle, while minor collisions will have minimum impact in the short term. Cutting through hardened steel fixtures and bolts also will damage the spindle when it is set to cut aluminum.

6.2 FutureWork
Initially the intent of this research was to develop a general numerical model of spindles of the same type that would eliminate the need for tap testing completely. This has proven to be difficult due to the fact that each machine/spindle is utilized differently.
104   

After the

implementation of this research spindles deterioration will become predictable.

Proposed

calibrated models can then predict how frequency would behave throughout the life of the spindle. Tap testing would only be required when the spindle is installed. Models with

nonlinear springs and possibly a Timoshenko-based beam model would improve results. Tap testing multiple spindles to further confirm the three zones postulated in this thesis would be beneficial. In the present study the simple, linear spring model has been used to incorporate the supporting bearings' flexibility in the spindle model. The use of more sophisticated bearing models to create more realistic spindle models is advisable. Applying distributed boundary conditions rather than point contact ones would also help improve the results. Experimentally testing spindle bearings and evaluating their stiffness values under different loading and damage conditions is key. Obtaining a spindle and disassembling it

without violating the manufacturer confidentially requirement would significantly improve our insight, leading to better numerical models. Finally, it is worth noting that performing research in a manufacturing-type environment has proved to be difficult. Securing a machine that is more heavily monitored than possible in a real-world environment and running experimental tests in a controlled lab environment, where the type of cut is observed would also be beneficial. Investigation of the effect of different types of cut on the natural frequency and spindle decay would also be a key to prolonging spindle life.

105   

References
[1] Tlusty, J. "Dynamics of High speed Milling." Journal of Engineering for Industry 108 (1986): 59-67. [2] Arnold, R. N. "Discussion on the Mechanism of Tool Vibration in the Cutting of Steel." Proceedings of the Institution of Mechanical Engineers 154 (1946): 429-432. [3] Gurney, J. P., Tobias, S. A. "A Graphical Method for the Determination of the Dynamic Stability of Machine Tools." International Journal of Machine Tool Design Research (1961): 148-156. [4] Eisele, F. "Machine Tool Research at the Technological University of Munich." International Journal of Machine Tool Design Research (1961): 249-274. [5] Tobias, S. A. "Machine Tool Vibration Research." International Journal of Machine Tool Design Research (1961): 1-14. [6] Tobias, S. A., Andrew, C. "Vibration in Horizontal Milling." International Journal of Machine Tool Design Research (1962): 369-378. [7] Tlusty, J., Ismail, F. "Basic Non-Linearity in Machining Chatter." Annals of the CIRP 30 (1981): 299-304. [8] Ertürk, A., Özgüven, H.N., Budak, E. "Effect Analysis of Bearing and Interface Dynamics on Tool Point FRF for Chatter Stability in Machine Tools by Using a New Analytical Model for Spindle-Tool Assembly". (2007), International Journal of Machine Tools & Manufacturing, pp. 23-32. [9] Özahin, O., Budak, E., Özgüven, H.N. "Identification of Bearing Dynamics Under Operational Conditions for Chatter Stability Prediction in High Speed Machining Operations". (2015), Precision Engineering, pp. 53-65. [10] Banerjee, J. R, Su, H. "Development of a Dynamic Stiffness Matrix for Free Vibration Analysis of Spinning Beams". 2004, Computers and Structures 82, pp. 2189-2197. [11] Shabana, A., Thomas, B. "Chatter Vibration of Flexible Multibody Machine Tool Mechanisms." Mechanical Machine Theory 22.4 (1987): 359-369.
106   

[12] Insperger, T., Stepan, G., Bayly, T.V., Mann, B.P. "Multiple Chatter Frequencies in Milling Processes." Journal of Sound and Vibration 262 (2003): 333-345. [13] Peng, Z.K., Jackson, M.R., Parkin, R.M., Meng, G. "Effects of Bearing Clearance on the Chatter Stability of Milling Process." Non-Linear Analysis: Real World Application (2010). [14] Butlin, T., Woodhouse, J. "Friction-Induced Vibration: should Low-Order Models be Believed." Journal of Sound and Vibration 328 (2009): 92-108. [15] Kondo, Y., Kawano, O., Sato, H. "Behaviour of Self Excited Chatter Due to Multiple Regenerative Effect." Journal of Engineering for Industry 103 (1981): 324-329. [16] Heisel, Ing. U. "Vibrations and Surface Generation in Slab Milling." Annals of the CIRP 43 (1994): 337-340. [17] Schmitz, T. Smith K.S., "Machining Dynamics". 2009, Springer [18] Tlusty, J. and Ismail, F. "Special Aspects if Chatter in Milling." Journal of Vibration, Acoustics, Stress, and Reliability in Design 105 (1983): 24-32. [19] Tlusty, J., Zaton, W., Ismail, F. "Stability Lobes in Milling." Annals of the CIRP 32 (1983): 309-313. [20] Mann, B.P., Edes, B.T., Easley, S.J., Young, K.A., Ma, K. "Chatter Vibration and Surface Location Error Prediction for Helical End Mills." International Journal of Machine Tools and Manufacture 48 (2008): 350-361. [21] Zaghbani, I., Songmene, V. "Estimation of Machine-Tool Dynamic Parameters During Machining Operation Through Operational Modal Analysis." International Journal of Machine Tools and Manufacture 49 (2009): 947-957. [22] Altintas, Y. and Budak, E. "Analytical Prediction of Stability Lobes in Milling " Annals of the CIRP 44 (1995): 357-362.

107   

[23] Bobrenkov, O.A., Khasawneh, F.A., Butcher, E.A., Mann, B.P. "Analysis of Milling Dynamics for Simultaneously Engaged Cutting Teeth." Journal of Sound and Vibration 329 (2010): 585-606. [24] El-Wardani, T., Sadek, M.M., Younis, M.A. "Theoretical Analysis of Grinding Chatter." Journal of Engineering for Industry 109 (1987): 314-320. [25] Erturk, A., Ozguven, H.N., Budak, E. "Effect Analysis of Bearing and Interface Dynamics on Tool Point FRF for Chatter Stability in Machine Tools by using a New Analytical Model for Spindle-Tool Assemblies." International Journal of Machine Tools and Manufacture 47 (2007): 23-32. [26] Lee, A., Liu, C., Chiang, S. "Analysis pf Chatter Vibration in a Cutter-Work piece System." International Journal of Machine Tools Manufacture 31.2 (1989): 221-234. [27] Minis, I.E., Magrab, E.B. and Pandelidis, I.O. "Improved Methods for the Prediction of Chatter in Turning, Part 3: A Generalized Linear Theory." Journal of Engineering for Industry 112 (1990): 28-35. [28] Minis, I., Yanushevsky, R. "A New Theoretical Approach for the Prediction of Machine Tool Chatter in Milling." Journal of Engineering for Industry 115 (1993): 1-8. [29] Budak, E., Altintas, Y. "Analytical Prediction of Chatter Stability in Milling - Part I: General Formulation." Journal of Dynamic Systems, Measurement, and Control 120 (1998): 22-30. [30] Demir, A., Hasanov, A., Sri Namachchivaya, N. "Delay Equations with Fluctuating Delay Related to the Regenerative Chatter." International Journal of Non-Linear Mechanics 41 (2006): 464-474. [31] Wan, M., Zhang, W., Dang, J. "A Unified Stability Prediction Method for Milling Process with Multiple Delays." International Journal of Machine Tools and Manufacture 50 (2009): 29-41. [32] Ding, Y., Zhu, L., Zhang, X., Ding, H. "A Full Discretization Method for Prediction of Milling Stability." International Journal of Machine Tools and Manufacture (2010).
108   

[33] Zhang, W., Yu, L. "Stability Analysis for Discrete-Time Switched Time-Delay Systems." Automatica 45 (2009): 2265-2271. [34] Hino, J., Yoshimura, T. "Prediction of Chatter in High-Speed Milling by Means of Fuzzy Neural Networks." International Journal of Systems Science 31 (2000): 13231330. [35] Fansen, K., Junyi, Y., Xiaoqin, Z. "Analysis of Fuzzy Dynamic Characteristics of Machine Cutting Process: Fuzzy Stability Analysis in Regenerative-Type-Chatter." International Journal of Machine Tools and Manufacture 39 (1999): 1299-1309. [36] Tansel, I.N., Wagiman, A., Tziranis, A. "Recognition of Chatter with Neural Networks." International Journal of Machine Tools and Manufacture 31.4 (1991): 539-552. [37] Sims, N., Manson, G., Mann, B. "Fuzzy Stability Analysis of Regenerative Chatter in Milling." Journal of Sound and Vibration 329 (2010): 1025-1041. [38] Soliman, E., Ismail, F. "Chatter Suppression by Adaptive Speed Modulation." International Journal of Machine Tools and Manufacture 37.3 (1997): 355-369. [39] Li, H., Li, X. "Modelling and Simulation of Chatter in Milling Using a Predictive Force Model." International Journal of Machine Tools and Manufacture 40 (2000): 2047-2071. [40] Bravo, U., Altuzarra, O., Lopez de Lacalle, L.N., Sanchez, J.A., Campa, F.J. "Stability Limits of Milling Considering the Flexibility of the Work piece and the Machine." International Journal of Machine Tools and Manufacture 45 (2005): 1669-1680. [41] Ahmadi, K., Ismail, F. "Machining Chatter in Flank Milling." International Journal of Machine Tools and Manufacture 50 (2010): 75-85. [42] Qiong, W., Yidu, Z., Hongwei, Z. "Corner-Milling of Thin Walled Cavities on Aeronautical Components." Chinese Journal of Aeronautics 22 (2009): 677-684. [43] Wang, L., Liang, M. "Chatter Detection Based on Probability Distribution of Wavelet Modulus Maxima." Robotics and Computer-Integrated Manufacturing 25 (2009): 989998.
109   

[44] Clancy, B.E., Shin, Y.C. "A Comprehensive Chatter Prediction Model for Face Turning Operation Including Tool Wear Effect." International Journal of Machine Tools and Manufacture 42 (2002): 1035-1044. [45] Li, X.Q., Wong, Y.S., Nee, A.Y.C. "Tool Wear and Chatter Detection using the Coherence Function of Two Crossed Accelerations." International Journal of Machine Tools and Manufacture 37.4 (1996): 425-435. [46] Rahman, M., Ito, Y. "Detection of the Onset of Chatter Vibration." Journal of Sound and Vibration 109.2 (1986): 193-205. [47] Solis, E., Peres, C.R., Jimenex, J.E., Alique, J.R., Monje, J.C."A New AnalyticalExperimental Method for the Identification of Stability Lobes in High-Speed Milling." International Journal of Machine Tools and Manufacture 44 (2004): 1591-1597. [48] Adetoro, O.B., Wen, P.H., Sim, W.M., Vepa, R. "Stability Lobes Prediction in Thin Wall Machining." World Congress on Engineering. London, U.K.: WCE, 2009. [49] MacManus, B.R. "A Closed Loop Stabilization Technique Eliminating Machine Tool Chatter." International Journal of Machine Tool Design Research (1969): 197-214. [50] Olgac, N., Hosek, M. "A New Perspective and Analysis for Regenerative Machine Tool Chatter." International Journal of Machine Tools and Manufacture 38 (1997): 783-798. [51] Tarng, Y.S., Kao, J.Y., Lee, E.C. "Chatter Suppression in Turning Operations with a Tuned Vibration Absorber." Journal of Materials Processing Technology 105 (2000): 5560. [52] Chiou, C.H., Hong, M.S., Ehmann, K.F. "The Feasibility of Eigenstructure Assignment for Machining Chatter Control." International Journal of Machine Tools and Manufacture 43 (2003): 1603-1620. [53] Gradisek, J., Baus, A., Govekar, E., Klocke, F., Grabee, I. "Automatic Chatter Detection in Grinding." International Journal of Machine Tools and Manufacture 43 (2003): 13971403.

110   

[54] Tsai, N.C., Shih, L.W., Lee, R.M. "Counterbalance of Cutting Force for Advanced Milling Operations." Mechanical Systems and Signal Processing (2009): 1-18. [55] Yang, Y., Xu, D., Liu, Q. "Vibration Suppression of Thin-Walled Workpiece Machining Based on Electromagnetic Induction" (2015), Material and Manufacturing Process, pp 829-835. [56] Budak, E., Comak, A., Ozturk, E. "Stability and High Performance Machining Conditions in Simultaneous Milling" (2013), CIRP Annals ­ Manufacturing Technologies, pp 403-406. [57] Timoshenko, S. "Vibration Problems in Engineering". New York : Wiley, 1974. [58] Timoshenko, S. "History of Strength of Materials" New York: McGraw-Hill, 1953 [59] Cao, Y., Altintas, Y. "Modeling of spindle-bearing and machine tool systems for virtual simulation of milling operations," International Journal of Machine Tools & Manufacture 47 (2007) 1342­1350. [60] Banerjee J.R., Williams F.W. "Exact Bernoulli­Euler dynamic stiffness matrix for a range of tapered beams". International Journal for Numerical Methods in Engineering 21.12 (1985): 2289-2302. [61] Banerjee, J.R., Su, H. "Dnamic stiffness formulation and free vibration analysis of spinning beams". Proceeding of ICCST '02 Proceedings of the sixth conference on Computational structures technology, Civil-Comp press Edinburgh, UK (2002): 77-78. [62] Banerjee, J.R, Su, H. "Development of a Dynamic Stiffness Matrix for Free Vibration Analysis of Spinning Beams". Computers and Structures 82 (2004): 2189-2197. [63] Marciniak, M."Modal analysis of a tool holder system for a five axis milling machine," BEng Thesis, Department of Aerospace Eng., Ryerson University, Toronto, ON, Canada, April 2012. [64] Hashemi, S. M. "Free vibrational analysis of rotating beam-like structures: a dynamic finite element approach," Ph.D. Thesis, Department of Mechanical Engineering, Laval University, Québec (QC), Canada, September 1998. [65] Samiezadeh, S. "Free Vibrational Analysis of Spinning Composite Beams, using Dynamic Finite Element (DFE) Method," Internal Report, Department of Aerospace Eng., Ryerson University, Toronto, ON, Canada, April 2012.
111   

[66] Blevins, R.D., "Formulas for Natural Frequency and Mode Shapes", 2001, Krieger Pub Co. [67] Sada, Y. "Modal Analysis of a Non-spinning Machine Tool Spindle". 2012, Internal Report, Department of Aerospace Eng., Ryerson University, Toronto, Canada. [68] Richards T.H., Leung, Y.T. "An accurate method in structural vibration analysis, Journal of Sound & Vibration" 55(3) (1977) 363-376 [69] Park, S.S., Altintas, A., Movahhedy, M. "Receptance Coupling for End Mills". 2003, International Journal of Machine Tools & Manufacturing, pp. 889-896. [70] Hibbeler, R.C. "Mechanics of Materials", 8th edition., Prentice Hall, 2010 . [71] Badiani, M., Kleinhenz, W., Hsiao, C. C. "Vibration of Rotating Shaft". 1978, Mechanism and Machine Theory, pp. 555-584. [72] Argento, A. "A Spinning Beam Subjected to a Moving Deflection Dependent Load. Part I: Response and Resonance". 1995, Journal of Sound and Vibration, pp. 595-615. [73] Lee, A.C., Liu, C.S., Chiang, S.T. "Analysis of Chatter Vibration in a Cutter-Work piece System." International Journal of Machine Tools Manufacture 31.2 (1989): 221234. [74] Graham, E., Mehrpouya, M., Park, S.S. " Robust Prediction of Chatter Stability in Milling Based on The Analytical Chatter Stability" 2013, Journal of Manufacturing Processes, pp 508-517. [75] Patwari, A.U., Faris, W. F. , Nurul Amin, A. K. M. , and S. K. Loh "Dynamic Modal Analysis of Vertical Machining Centre Components," Advances in Acoustics and Vibration, Volume 2009 (2009), Article ID 508076, 10 pages, doi.10.1155/2009/508076 [76] Abuthakeer, S.S., Mohanram, P.V., Mohan, K.G. "Dynamic Characteristics Analysis of High Speed Motorized Spindle," Annals of Faculty Engineering Hunedorar ­ International Journal of Engineering, Tome IX, Fascicule 2, 2011. [77] Delgado, A.S., Ozturk, E., Sims, N. "Analysis of Non-Linear Machine Tool Dynamic Behaviour," Proceedings of the 5th Manufacturing Engineering Society International Conference ­ Zaragoza ­ June (2013).

112   

[78] Motthershead, J.E., Friswell, M.I. "Model updating in structural dynamics: A survey," JSV (1993), 167(2), 347-375. [23] [79] Mares, C., Friswell, M.I., Mothershead, J. E. "Model Updating Using Robust Estimation," Mechanical Systems and Signal Processing 16.1 (2002): 169-183. [80] Mottershead, J.E., Link, M., Friswell, M.I. "The sensitivity method in finite element model updating: A tutorial," Mechanical Systems and Signal Processing 25 (2011) : 2275-2296. [81] Banerjee, J.R. " Dynamic stiffness formulation for structural elements: a general approach". Computers & structures 63 .1 (1997): 101-103. [82] Klaus-Jürgen, B. "Finite element procedures," Englewood Cliffs, N.J.: Prentice Hall, c1996. [83] Altintas, Y. "Manufacturing Automation. Metal Cutting Mechanics, Machine Tool Vibration, and CNC Design". 2000, Cambridge University Press [84] Banerjee, J. R, Su, H. "Dynamic stiffness formulation and free vibration analysis of a spinning composite beam". July 2006, Computers and Structures 84 (19-20): 1208-1214. [85] OKADA VM500 FANUC 6MB. Maintenance Manual. [86] Slocum, A.H. "Precision machine Design." Society of Manufacturing Engineers, Dearborn, MI. (first published by Prentice Hall in 1992). [87] Sambandamurthy, H. "Numerical and Experimental Modal Analysis of Machine Tool Spindle Systems." MASc Thesis, Department of Aerospace Eng., Ryerson University, Toronto, Ontario, Canada, 2014 [88] Metal Max (TXF) Software, Version 15.5.28, Blue Swarf. [89] Zhongqun, L., Qiang, L. "Solution and Analysis of Chatter Stability for End Milling in the Time-Domain." Chinese Journal of Aeronautics 21 (2008): 169-178. [90] Altintas, Y., Budak, E. "Analytical Prediction of Chatter Stability in Milling - Part II: Application of the General Formulation to Common Milling Systems." Journal of Dynamic Systems, Measurement, and Control 120 (1998): 31-36. [91] Altintas, Y., Stepan, G., Merdol, D., Dombovari, Z. "Chatter Stability of Milling in Frequency and Discrete Time Domain." Journal of Manufacturing Science and Technology 1 (2008): 35-44.
113   

[92] Faassen, R.P.H.,

de Wouw, N.V., Oosterling, J.A.J., Nijmeijer, H. "Prediction of

Regenerative Chatter by Modelling and Analysis of High-Speed Milling." International Journal of Machine Tools and Manufacture 43 (2003): 1437-1446. [93] Fofana, M. S. "Delay Dynamical Systems and Applications to Nonlinear Machine-Tool Chatter." Chaos, Solutions and Fractals 17 (2003): 731-747. [94] Salahshoor, M., Ahmadian, H. "Continuous Model for Analytical Prediction of Chatter in Milling." International Journal of Machine Tools and Manufacture 49 (2009): 11361143. [95] Shiraishi, M., Kume E., Hoshi, T. "Suppression of Machine-Tool Chatter by State Feedback Control." Annals of the CIRP 37.1 (1988): 369-372. [96] Smith, S. and Tlusty, J. "Efficient Simulation Programs for Chatter in Milling." Annals of the CIRP 42.1 (1993): 463-466. [97] Taylor, F.W. "On the Art of Cutting Metal." Trans. ASME 28 (1907): 31-350. [98] Wittrick, W. H., Williams, F. W. "A General Algorithm for Computing Natural Frequencies of Elastic Structures". 1971, Quarterly Journal of Mechanics and Applied Math, pp. 263-284. [99] Banerjee, J.R., Su, H., Scotland, S. "Dynamic Stiffness Formulation and Free Vibration Analysis of Spinning Beams". Civil-Comp Ltd, 2002. Proceedings of the Sixth International Conference on Computational Structures Technology. 32 [100] Tobias, S.A. "Machine Tool Vibration." Blackie and Sons Ltd. (1965)



114   

Appendix
CODE 1 (calculating the natural frequency)
clear; clc; L=.13965; dia=.0737;%.0462 E=210e9; I=3.141*(dia^4)/64; EI=E*I; %Nm^2 J=3.141*(dia^4)/32; G=79.3e9; GJ=G*J; %Nm^2 AREA=pi()*(dia^2)/4; K=.00001;%20.35; %Nm^2 m=7850*(AREA); %Kg/m Ialpha=(m/2)*((dia/2)^2); %kgm %OMEGA=145; %spinning speed omegastar=sqrt((sqrt(EI*EI))/m*L^4); domega=1;% l=1; for OMEGA=1 w=1; OMEGA for omega=17000:1:18000 for k=1:1:10 t=OMEGA/omega; Nue=Ialpha*(L^2)*(omega^2)/GJ; n=1+(t^2); nbar=1-(t^2); lamda=m*(omega^2)*(L^4)/EI; phi=(1-((2*K^2)/(EI*GJ)))^(-1); C=[1, 0, (n*Nue*phi), 0, (-lamda*n*(1+phi)), 0, (2*Nue*lamda*phi*n^2), 0, ((lamda^2)*phi*nbar^2), 0, Nue*(lamda^2)*n*(nbar^2)*phi]; r=roots(C); f(k)=(-K*L*((r(k))^3)/(EI))*((((r(k))^4)(lamda*n)+(2*i*lamda*t))/(((((r(k))^4)-(lamda*n))^2)-(4*(lamda^2)*(t^2)))); g(k)=(-K*L*((r(k))^3)/(EI))*((((r(k))^4)-(lamda*n)(2*i*lamda*t))/(((((r(k))^4)-(lamda*n))^2)-(4*(lamda^2)*(t^2)))); alpha(k)=r(k)*f(k)/L; beta(k)=-r(k)*g(k)/L; B(1,k)=f(k); B(2,k)=g(k); B(3,k)=beta(k); B(4,k)=alpha(k); B(5,k)=1; B(6,k)=f(k)*exp(r(k)); B(7,k)=g(k)*exp(r(k)); B(8,k)=beta(k)*exp(r(k)); B(9,k)=alpha(k)*exp(r(k)); B(10,k)=exp(r(k));

115   

A(1,k)=((EI*r(k)*f(k)/(L^3))+(K/(L^2)))*(r(k))^2; A(2,k)=((EI*r(k)*g(k)/(L^3))+(K/(L^2)))*(r(k))^2; A(3,k)=((EI*r(k)*g(k)/(L^2))+(K/(L)))*r(k); A(4,k)=-((EI*r(k)*f(k)/(L^2))+(K/(L)))*r(k); A(5,k)=-((GJ/L)+(K*r(k)*(f(k)+g(k))/(L^2)))*r(k); A(6,k)=-((EI*r(k)*f(k)/(L^3))+(K/(L^2)))*(exp(r(k)))*(r(k))^2; A(7,k)=-((EI*r(k)*g(k)/(L^3))+(K/(L^2)))*(exp(r(k)))*(r(k))^2; A(8,k)=-((EI*r(k)*g(k)/(L^2))+(K/(L)))*(exp(r(k)))*r(k); A(9,k)=((EI*r(k)*f(k)/(L^2))+(K/(L)))*(exp(r(k)))*r(k); A(10,k)=((GJ/L)+(K*r(k)*(f(k)+g(k))/(L^2)))*(exp(r(k)))*r(k); end KK=A*inv(B); %Applying boundary conditions z=1; y=1; for z=1:1:5 for y=1:1:5 BK(z,y)=KK(z+5,y+5); end end s=0; p=5; z=0; j=0; for j=1:p-1 if BK(j,j)==0 k=j; for z=z+1:p if BK(z,j)==0 continue end break end B=BK(j,:); BK(j,:)=KK(z,:); BK(z,:)=B; end for o=1+s:p-1 LL=BK(o+1,j)/BK(j,j); BK(o+1,:)=BK(o+1,:)-LL*BK(j,:); end s=s+1; end j=1; y=0; for j=1:1:5 if real(BK(j,j))<5 y=y+1; end end for v=1:1:5 if BK(v,v)<0 naturalfrequency(w)=omega; w=w+1;

116   

omega; end end end natural(l)=naturalfrequency(1); OMEG(l)=OMEGA; l=l+1; end plot(OMEG,natural)

117   

CODE 2 (calibrating the spring constant of the bearings)
clear clc DOF=4; Numofele=12;

%Sections properties E=[210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9]; G=[79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3 e9,79.3e9]; K=[.000001,.000001,.000001,.000001,.000001,.000001,.000001,.000001,.000001,.0 00001,.000001,.000001];%20.35; %Nm^2 REMOVED DIMENSIONS OF SPINDLE DUE TO CONFIDENTIALITY REQUIREMENTS Area=pi()*(dia.^2)/4; I=pi()*(dia.^4)/64; EI=E.*I; %Nm^2 J=pi()*(dia.^4)/32; GJ=G.*J; %Nm^2 m=7850*Area; %Kg/m Ialpha=.5*m.*[(dia.^2)/4];%J1/L1^2; %kg.m springK=230000000; domega=1;% l=1; OMEGA=1 for springK=1000000000:1000000000:10000000000%:500:5001 w=1; OMEGA for omega=1:domega:10000 size=(Numofele+1)*DOF; KK = zeros([size size]); for element=1:1:Numofele lamdaxa=(m(element)*(omega^2)*(L(element)^4)/EI(element)); lamdaya=(m(element)*(omega^2)*(L(element)^4)/EI(element)); na=OMEGA^2/omega^2; C=[1, 0, 0, 0, -(lamdaxa+lamdaya)*(1+na), 0, 0, 0, (lamdaxa*lamdaya*(1-na)^2)]; Nu=roots(C); alphaa=.5*((lamdaxa+lamdaya)*(1+na)+((lamdaxalamdaya)^2*(1+na)^2+(16*lamdaxa*lamdaya*na))^.5); betaa=.5*((lamdaxa+lamdaya)*(1+na)-((lamdaxalamdaya)^2*(1+na)^2+(16*lamdaxa*lamdaya*na))^.5); alpha=alphaa^.5; beta=betaa^.5; n=na^.5; kalpha=2*lamdaya*n/(alphaa-lamdaya*(1+na)); kbeta=2*lamdaya*n/(betaa-lamdaya*(1+na)); talpha=(alpha^.5)/L(element); tbeta=(beta^.5)/L(element); Xalpha=kalpha*talpha; Xbeta=kbeta*tbeta;

118   

Salpha=sin((alpha)^.5); Calpha=cos((alpha)^.5); Shalpha=sinh((alpha)^.5); Chalpha=cosh((alpha)^.5); Sbeta=sin((beta)^.5); Cbeta=cos((beta)^.5); Shbeta=sinh((beta)^.5); Chbeta=cosh((beta)^.5); Zalpha=kalpha*alpha*(alpha^.5)*EI(element)/((L(element))^3); Ealpha=alpha*(alpha^.5)*(EI(element))/(L(element)^3); gamaalpha=alpha*(EI(element))/(L(element)^2); lamdaalpha=kalpha*alpha*(EI(element))/(L(element)^2); Zbeta=kbeta*beta*(beta^.5)*EI(element)/(L(element)^3); Ebeta=beta*(beta^.5)*EI(element)/(L(element)^3); gamabeta=beta*EI(element)/(L(element)^2); lamdabeta=kbeta*beta*EI(element)/(L(element)^2); H=[0 , kalpha, 0, kalpha, 0, kbeta, 0, kbeta; 0 1; -talpha, 0; Xalpha, 0; kalpha*Salpha, kalpha*Calpha, kalpha*Shalpha, kalpha*Chalpha, kbeta*Sbeta, kbeta*Cbeta, kbeta*Shbeta, kbeta*Chbeta; Salpha, Calpha, Shalpha, Chalpha, Sbeta, Cbeta, Shbeta, Chbeta; -talpha*Calpha, talpha*Salpha, -talpha*Chalpha, talpha*Shalpha, -tbeta*Cbeta, tbeta*Sbeta, -tbeta*Chbeta, -tbeta*Shbeta; Xalpha*Calpha, -Xalpha*Salpha, Xalpha*Chalpha, Xalpha*Shalpha, Xbeta*Cbeta, -Xbeta*Sbeta, Xbeta*Chbeta, Xbeta*Shbeta]; Q=[-Zalpha, 0, Zalpha, 0, -Zbeta, 0, Zbeta, 0; -Ealpha, 0, Ealpha, 0, -Ebeta, 0, Ebeta, 0; 0, -gamaalpha, 0, gamaalpha, 0, -gamabeta, 0, gamabeta; 0, lamdaalpha, 0, -lamdaalpha, 0, lamdabeta, 0, -lamdabeta; Zalpha*Calpha, -Zalpha*Salpha, -Zalpha*Chalpha, Zalpha*Shalpha, Zbeta*Cbeta, -Zbeta*Sbeta, -Zbeta*Chbeta, -Zbeta*Shbeta; Ealpha*Calpha, -Ealpha*Salpha, -Ealpha*Chalpha, Ealpha*Shalpha, Ebeta*Cbeta, -Ebeta*Sbeta, -Ebeta*Chbeta, -Ebeta*Shbeta; gamaalpha*Salpha, gamaalpha*Calpha, -gamaalpha*Shalpha, gamaalpha*Chalpha, gamabeta*Sbeta, gamabeta*Cbeta, -gamabeta*Shbeta, gamabeta*Chbeta; -lamdaalpha*Salpha, -lamdaalpha*Calpha, lamdaalpha*Shalpha, lamdaalpha*Chalpha, -lamdabeta*Sbeta, -lamdabeta*Cbeta, lamdabeta*Shbeta, lamdabeta*Chbeta]; KKsec=Q*inv(H); start1=4*element-3; start2=4*element-3; finish1=start1+(DOF*2-1); finish2=start2+(DOF*2-1); count3=1; count4=1; for count1=start1:1:finish1; for count2=start2:1:finish2; KK(count1,count2)=KK(count1,count2)+KKsec(count3,count4); count4=count4+1; 0, Xalpha, 0, Xbeta, 0, Xbeta, 0, -talpha, 0, -tbeta, 0, -tbeta, , 1, 0, 1, 0, 1, 0,

119   

if count4>DOF*2 count4=1; end end count3=count3+1; if count3>DOF*2 count3=1; end end end %Applying boundary conditions BK=KK; BK(34, 34) = BK(34, 34)+springK; BK(33, 33) = BK(33, 33)+springK; BK(30, 30) = BK(30, 30)+springK; BK(29, 29) = BK(29, 29)+springK;; BK(22, 22) = BK(22, 22)+springK;; BK(21, 21) = BK(21, 21)+springK;; BK(18, 18) = BK(18, 18)+springK;; BK(17, 17) = BK(17, 17)+springK;; %BK(:, 34) = []; %BK(:, 33) = []; %BK(:, 30) = []; %BK(:, 29) = []; %BK(:, 22) = []; %BK(:, 21) = []; %BK(:, 18) = []; %BK(:, 17) = []; s=0; p=(size); z=0; j=0; for j=1:p-1 if BK(j,j)==0 k=j; for z=z+1:p if BK(z,j)==0 continue end break end B=BK(j,:); BK(j,:)=KK(z,:); BK(z,:)=B; end for o=1+s:p-1 LL=BK(o+1,j)/BK(j,j); BK(o+1,:)=BK(o+1,:)-LL*BK(j,:); end s=s+1; end j=1; y=0; for j=1:1:(size)

120   

if real(BK(j,j))<(5) y=y+1; end end for v=1:1:(size) if BK(v,v)<0 naturalfrequency(w)=omega; w=w+1; omega; end end end natural(l)=naturalfrequency(1); spring(l)=springK; l=l+1 end natural/(2*pi()) plot(spring, natural)

121   

CODE 3 (varying rotational speed of the shaft)
clear clc DOF=5; Numofele=12;

%Sections properties E=[210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9]; G=[79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3 e9,79.3e9]; K=[.000001,.000001,.000001,.000001,.000001,.000001,.000001,.000001,.000001,.0 00001,.000001,.000001];%20.35; %Nm^2 REMOVED DIMENSIONS OF SPINDLE DUE TO CONFIDENTIALITY REQUIREMENTS Area=pi()*(dia.^2)/4; I=pi()*(dia.^4)/64; EI=E.*I; %Nm^2 J=pi()*(dia.^4)/32; GJ=G.*J; %Nm^2 m=7850*Area; %Kg/m Ialpha=.5*m.*[(dia.^2)/4];%J1/L1^2; %kg.m %springK=210000000; expnatural=930 springK= 2.45992E2*expnatural^2-5.93179E4*expnatural+2.14075E7 domega=1;% l=1;

for OMEGA=1%:500:3501 w=1; OMEGA for omega=1:domega:100000 omega; size=(Numofele+1)*DOF; KK = zeros([size size]); for element=1:1:Numofele GJ(element); t=OMEGA/omega; Nue=(Ialpha(element))*((L(element))^2)*(omega^2)/(GJ(element)); n=1+(t^2); nbar=1-(t^2); lamda=(m(element))*(omega^2)*((L(element))^4)/(EI(element)); phi=(1-((2*(K(element))^2)/((EI(element))*(GJ(element)))))^(-1); C=[1, 0, (n*Nue*phi), 0, (-lamda*n*(1+phi)), 0, (2*Nue*lamda*phi*n^2), 0, ((lamda^2)*phi*nbar^2), 0, Nue*(lamda^2)*n*(nbar^2)*phi]; r=roots(C); for k=1:1:10

122   

f(k)=((K(element))*(L(element))*((r(k))^3)/((EI(element))))*((((r(k))^4)(lamda*n)+(2*i*lamda*t))/(((((r(k))^4)-(lamda*n))^2)-(4*(lamda^2)*(t^2)))); g(k)=((K(element))*(L(element))*((r(k))^3)/((EI(element))))*((((r(k))^4)-(lamda*n)(2*i*lamda*t))/(((((r(k))^4)-(lamda*n))^2)-(4*(lamda^2)*(t^2)))); alpha(k)=r(k)*f(k)/(L(element)); beta(k)=-r(k)*g(k)/(L(element)); B(1,k)=f(k); B(2,k)=g(k); B(3,k)=beta(k); B(4,k)=alpha(k); B(5,k)=1; B(6,k)=f(k)*exp(r(k)); B(7,k)=g(k)*exp(r(k)); B(8,k)=beta(k)*exp(r(k)); B(9,k)=alpha(k)*exp(r(k)); B(10,k)=exp(r(k));

A(1,k)=(((EI(element))*r(k)*f(k)/((L(element))^3))+((K(element))/((L(element) )^2)))*(r(k))^2; A(2,k)=(((EI(element))*r(k)*g(k)/((L(element))^3))+((K(element))/((L(element) )^2)))*(r(k))^2; A(3,k)=(((EI(element))*r(k)*g(k)/((L(element))^2))+((K(element))/((L(element) ))))*r(k); A(4,k)=(((EI(element))*r(k)*f(k)/((L(element))^2))+((K(element))/((L(element)))))*r( k); A(5,k)=(((GJ(element))/(L(element)))+((K(element))*r(k)*(f(k)+g(k))/((L(element))^2) ))*r(k); A(6,k)=(((EI(element))*r(k)*f(k)/((L(element))^3))+((K(element))/((L(element))^2)))* (exp(r(k)))*(r(k))^2; A(7,k)=(((EI(element))*r(k)*g(k)/((L(element))^3))+((K(element))/((L(element))^2)))* (exp(r(k)))*(r(k))^2; A(8,k)=(((EI(element))*r(k)*g(k)/((L(element))^2))+((K(element))/((L(element)))))*(e xp(r(k)))*r(k); A(9,k)=(((EI(element))*r(k)*f(k)/((L(element))^2))+((K(element))/((L(element) ))))*(exp(r(k)))*r(k); A(10,k)=(((GJ(element))/(L(element)))+((K(element))*r(k)*(f(k)+g(k))/((L(elem ent))^2)))*(exp(r(k)))*r(k); end KKsec=A*inv(B); start1=5*element-4; start2=5*element-4; finish1=start1+(DOF*2-1); finish2=start2+(DOF*2-1);

123   

count3=1; count4=1; for count1=start1:1:finish1; for count2=start2:1:finish2; KK(count1,count2)=KK(count1,count2)+KKsec(count3,count4); count4=count4+1; if count4>DOF*2 count4=1; end end count3=count3+1; if count3>DOF*2 count3=1; end end end %Applying boundary conditions BK=KK; BK(42, BK(41, BK(37, BK(36, BK(27, BK(26, BK(22, BK(21,

42) 41) 37) 36) 27) 26) 22) 21)

= = = = = = = =

BK(42, BK(41, BK(37, BK(36, BK(27, BK(26, BK(22, BK(21,

42)+springK; 41)+springK; 37)+springK; 36)+springK;; 27)+springK;; 26)+springK;; 22)+springK;; 21)+springK;;

s=0; p=(size); z=0; j=0; for j=1:p-1 if BK(j,j)==0 k=j; for z=z+1:p if BK(z,j)==0 continue end break end B=BK(j,:); BK(j,:)=KK(z,:); BK(z,:)=B; end for o=1+s:p-1 LL=BK(o+1,j)/BK(j,j); BK(o+1,:)=BK(o+1,:)-LL*BK(j,:); end s=s+1; end j=1; y=0; for j=1:1:(size) if real(BK(j,j))<(5)

124   

y=y+1; end end matrix=diag(BK); counter=length(matrix(matrix<=0)); if counter>=11 naturalfrequency(w)=omega; w=w+1; omega; break end end natural(l)=naturalfrequency(1)/(2*pi()); %Hz OMEG(l)=OMEGA*60/(2*pi()); %RPM l=l+1; end plot(OMEG,natural) natural%/(2*pi())

125   

CODE 4
clear clc DOF=4; Numofele=12;

%Sections properties E=[210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9]; G=[79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3 e9,79.3e9]; K=[.000001,.000001,.000001,.000001,.000001,.000001,.000001,.000001,.000001,.0 00001,.000001,.000001];%20.35; %Nm^2 REMOVED DIMENSIONS OF SPINDLE DUE TO CONFIDENTIALITY REQUIREMENTS Area=pi()*(dia.^2)/4; I=pi()*(dia.^4)/64; EI=E.*I; %Nm^2 J=pi()*(dia.^4)/32; GJ=G.*J; %Nm^2 m=7850*Area; %Kg/m Ialpha=.5*m.*[(dia.^2)/4];%J1/L1^2; %kg.m domega=1;% l=1;

for OMEGA=1:500:3501 w=1; OMEGA for omega=1:domega:100000 size=(Numofele+1)*DOF; KK = zeros([size size]); for element=1:1:Numofele lamdaxa=(m(element)*(omega^2)*(L(element)^4)/EI(element)); lamdaya=(m(element)*(omega^2)*(L(element)^4)/EI(element)); na=OMEGA^2/omega^2; C=[1, 0, 0, 0, -(lamdaxa+lamdaya)*(1+na), 0, 0, 0, (lamdaxa*lamdaya*(1-na)^2)]; Nu=roots(C); alphaa=.5*((lamdaxa+lamdaya)*(1+na)+((lamdaxalamdaya)^2*(1+na)^2+(16*lamdaxa*lamdaya*na))^.5); betaa=.5*((lamdaxa+lamdaya)*(1+na)-((lamdaxalamdaya)^2*(1+na)^2+(16*lamdaxa*lamdaya*na))^.5); alpha=alphaa^.5; beta=betaa^.5; n=na^.5; kalpha=2*lamdaya*n/(alphaa-lamdaya*(1+na)); kbeta=2*lamdaya*n/(betaa-lamdaya*(1+na)); talpha=(alpha^.5)/L(element); tbeta=(beta^.5)/L(element); Xalpha=kalpha*talpha;

126   

Xbeta=kbeta*tbeta; Salpha=sin((alpha)^.5); Calpha=cos((alpha)^.5); Shalpha=sinh((alpha)^.5); Chalpha=cosh((alpha)^.5); Sbeta=sin((beta)^.5); Cbeta=cos((beta)^.5); Shbeta=sinh((beta)^.5); Chbeta=cosh((beta)^.5); Zalpha=kalpha*alpha*(alpha^.5)*EI(element)/((L(element))^3); Ealpha=alpha*(alpha^.5)*(EI(element))/(L(element)^3); gamaalpha=alpha*(EI(element))/(L(element)^2); lamdaalpha=kalpha*alpha*(EI(element))/(L(element)^2); Zbeta=kbeta*beta*(beta^.5)*EI(element)/(L(element)^3); Ebeta=beta*(beta^.5)*EI(element)/(L(element)^3); gamabeta=beta*EI(element)/(L(element)^2); lamdabeta=kbeta*beta*EI(element)/(L(element)^2); H=[0 , kalpha, 0, kalpha, 0, kbeta, 0, kbeta; 0 1; -talpha, 0; Xalpha, 0; kalpha*Salpha, kalpha*Calpha, kalpha*Shalpha, kalpha*Chalpha, kbeta*Sbeta, kbeta*Cbeta, kbeta*Shbeta, kbeta*Chbeta; Salpha, Calpha, Shalpha, Chalpha, Sbeta, Cbeta, Shbeta, Chbeta; -talpha*Calpha, talpha*Salpha, -talpha*Chalpha, talpha*Shalpha, -tbeta*Cbeta, tbeta*Sbeta, -tbeta*Chbeta, -tbeta*Shbeta; Xalpha*Calpha, -Xalpha*Salpha, Xalpha*Chalpha, Xalpha*Shalpha, Xbeta*Cbeta, -Xbeta*Sbeta, Xbeta*Chbeta, Xbeta*Shbeta]; Q=[-Zalpha, 0, Zalpha, 0, -Zbeta, 0, Zbeta, 0; -Ealpha, 0, Ealpha, 0, -Ebeta, 0, Ebeta, 0; 0, -gamaalpha, 0, gamaalpha, 0, -gamabeta, 0, gamabeta; 0, lamdaalpha, 0, -lamdaalpha, 0, lamdabeta, 0, -lamdabeta; Zalpha*Calpha, -Zalpha*Salpha, -Zalpha*Chalpha, Zalpha*Shalpha, Zbeta*Cbeta, -Zbeta*Sbeta, -Zbeta*Chbeta, -Zbeta*Shbeta; Ealpha*Calpha, -Ealpha*Salpha, -Ealpha*Chalpha, Ealpha*Shalpha, Ebeta*Cbeta, -Ebeta*Sbeta, -Ebeta*Chbeta, -Ebeta*Shbeta; gamaalpha*Salpha, gamaalpha*Calpha, -gamaalpha*Shalpha, gamaalpha*Chalpha, gamabeta*Sbeta, gamabeta*Cbeta, -gamabeta*Shbeta, gamabeta*Chbeta; -lamdaalpha*Salpha, -lamdaalpha*Calpha, lamdaalpha*Shalpha, lamdaalpha*Chalpha, -lamdabeta*Sbeta, -lamdabeta*Cbeta, lamdabeta*Shbeta, lamdabeta*Chbeta]; KKsec=Q*inv(H); start1=4*element-3; start2=4*element-3; finish1=start1+(DOF*2-1); finish2=start2+(DOF*2-1); count3=1; count4=1; for count1=start1:1:finish1; for count2=start2:1:finish2; KK(count1,count2)=KK(count1,count2)+KKsec(count3,count4); 0, Xalpha, 0, Xbeta, 0, Xbeta, 0, -talpha, 0, -tbeta, 0, -tbeta, , 1, 0, 1, 0, 1, 0,

127   

count4=count4+1; if count4>DOF*2 count4=1; end end count3=count3+1; if count3>DOF*2 count3=1; end end end %Applying BK=KK; BK(34, :) BK(33, :) BK(30, :) BK(29, :) BK(22, :) BK(21, :) BK(18, :) BK(17, :) BK(:, 34) BK(:, 33) BK(:, 30) BK(:, 29) BK(:, 22) BK(:, 21) BK(:, 18) BK(:, 17)

boundary conditions = = = = = = = = = = = = = = = = []; []; []; []; []; []; []; []; []; []; []; []; []; []; []; [];

s=0; p=(size-8); z=0; j=0; testmatrix=BK; for j=1:p-1 if BK(j,j)==0 k=j; for z=z+1:p if BK(z,j)==0 continue end break end B=BK(j,:); BK(j,:)=KK(z,:); BK(z,:)=B; end for o=1+s:p-1 LL=BK(o+1,j)/BK(j,j); BK(o+1,:)=BK(o+1,:)-LL*BK(j,:); end s=s+1; end j=1;

128   

y=0; for j=1:1:(size-8) if real(BK(j,j))<(5) y=y+1; end end matrix=diag(BK); counter=length(matrix(matrix<=0)); if counter>=9 naturalfrequency(w)=omega; w=w+1; omega; break end end natural(l)=naturalfrequency(1)/(2*pi()); %Hz OMEG(l)=OMEGA*60/(2*pi()); %RPM l=l+1; end plot(OMEG, natural)

129   

CODE 5 (Converting Dynamic Stiffness Matrix to Static Stiffness Matrix and finding equivalent tool tip stiffness)
clear clc DOF=4; Numofele=12;

%Sections properties E=[210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9,210e9]; G=[79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3e9,79.3 e9,79.3e9]; K=[.000001,.000001,.000001,.000001,.000001,.000001,.000001,.000001,.000001,.0 00001,.000001,.000001];%20.35; %Nm^2 REMOVED DIMENSIONS OF SPINDLE DUE TO CONFIDENTIALITY REQUIREMENTS Area=pi()*(dia.^2)/4; I=pi()*(dia.^4)/64; EI=E.*I; %Nm^2 J=pi()*(dia.^4)/32; GJ=G.*J; %Nm^2 m=7850*Area; %Kg/m Ialpha=.5*m.*[(dia.^2)/4];%J1/L1^2; %kg.m Kexp=976 springK=245.992*Kexp^2+59317.9*Kexp+21407500; domega=1;% l=1;

for OMEGA=1%:500:5001 w=1; OMEGA for omega=2:.5:3 size=(Numofele+1)*DOF; KK = zeros([size size]); for element=1:1:Numofele lamdaxa=(m(element)*(omega^2)*(L(element)^4)/EI(element)); lamdaya=(m(element)*(omega^2)*(L(element)^4)/EI(element)); na=OMEGA^2/omega^2; C=[1, 0, 0, 0, -(lamdaxa+lamdaya)*(1+na), 0, 0, 0, (lamdaxa*lamdaya*(1-na)^2)]; Nu=roots(C); alphaa=.5*((lamdaxa+lamdaya)*(1+na)+((lamdaxalamdaya)^2*(1+na)^2+(16*lamdaxa*lamdaya*na))^.5); betaa=.5*((lamdaxa+lamdaya)*(1+na)-((lamdaxalamdaya)^2*(1+na)^2+(16*lamdaxa*lamdaya*na))^.5); alpha=alphaa^.5; beta=betaa^.5; n=na^.5; kalpha=2*lamdaya*n/(alphaa-lamdaya*(1+na)); kbeta=2*lamdaya*n/(betaa-lamdaya*(1+na));

130   

talpha=(alpha^.5)/L(element); tbeta=(beta^.5)/L(element); Xalpha=kalpha*talpha; Xbeta=kbeta*tbeta; Salpha=sin((alpha)^.5); Calpha=cos((alpha)^.5); Shalpha=sinh((alpha)^.5); Chalpha=cosh((alpha)^.5); Sbeta=sin((beta)^.5); Cbeta=cos((beta)^.5); Shbeta=sinh((beta)^.5); Chbeta=cosh((beta)^.5); Zalpha=kalpha*alpha*(alpha^.5)*EI(element)/((L(element))^3); Ealpha=alpha*(alpha^.5)*(EI(element))/(L(element)^3); gamaalpha=alpha*(EI(element))/(L(element)^2); lamdaalpha=kalpha*alpha*(EI(element))/(L(element)^2); Zbeta=kbeta*beta*(beta^.5)*EI(element)/(L(element)^3); Ebeta=beta*(beta^.5)*EI(element)/(L(element)^3); gamabeta=beta*EI(element)/(L(element)^2); lamdabeta=kbeta*beta*EI(element)/(L(element)^2); H=[0 , kalpha, 0, kalpha, 0, kbeta, 0, kbeta; 0 1; -talpha, 0; Xalpha, 0; kalpha*Salpha, kalpha*Calpha, kalpha*Shalpha, kalpha*Chalpha, kbeta*Sbeta, kbeta*Cbeta, kbeta*Shbeta, kbeta*Chbeta; Salpha, Calpha, Shalpha, Chalpha, Sbeta, Cbeta, Shbeta, Chbeta; -talpha*Calpha, talpha*Salpha, -talpha*Chalpha, talpha*Shalpha, -tbeta*Cbeta, tbeta*Sbeta, -tbeta*Chbeta, -tbeta*Shbeta; Xalpha*Calpha, -Xalpha*Salpha, Xalpha*Chalpha, Xalpha*Shalpha, Xbeta*Cbeta, -Xbeta*Sbeta, Xbeta*Chbeta, Xbeta*Shbeta]; Q=[-Zalpha, 0, Zalpha, 0, -Zbeta, 0, Zbeta, 0; -Ealpha, 0, Ealpha, 0, -Ebeta, 0, Ebeta, 0; 0, -gamaalpha, 0, gamaalpha, 0, -gamabeta, 0, gamabeta; 0, lamdaalpha, 0, -lamdaalpha, 0, lamdabeta, 0, -lamdabeta; Zalpha*Calpha, -Zalpha*Salpha, -Zalpha*Chalpha, Zalpha*Shalpha, Zbeta*Cbeta, -Zbeta*Sbeta, -Zbeta*Chbeta, -Zbeta*Shbeta; Ealpha*Calpha, -Ealpha*Salpha, -Ealpha*Chalpha, Ealpha*Shalpha, Ebeta*Cbeta, -Ebeta*Sbeta, -Ebeta*Chbeta, -Ebeta*Shbeta; gamaalpha*Salpha, gamaalpha*Calpha, -gamaalpha*Shalpha, gamaalpha*Chalpha, gamabeta*Sbeta, gamabeta*Cbeta, -gamabeta*Shbeta, gamabeta*Chbeta; -lamdaalpha*Salpha, -lamdaalpha*Calpha, lamdaalpha*Shalpha, lamdaalpha*Chalpha, -lamdabeta*Sbeta, -lamdabeta*Cbeta, lamdabeta*Shbeta, lamdabeta*Chbeta]; KKsec=Q*inv(H); start1=4*element-3; start2=4*element-3; finish1=start1+(DOF*2-1); finish2=start2+(DOF*2-1); count3=1; count4=1; 0, Xalpha, 0, Xbeta, 0, Xbeta, 0, -talpha, 0, -tbeta, 0, -tbeta, , 1, 0, 1, 0, 1, 0,

131   

for count1=start1:1:finish1; for count2=start2:1:finish2; KK(count1,count2)=KK(count1,count2)+KKsec(count3,count4); count4=count4+1; if count4>DOF*2 count4=1; end end count3=count3+1; if count3>DOF*2 count3=1; end end end %Applying boundary conditions BK=KK; BK(34, 34) = BK(34, 34)+springK; BK(33, 33) = BK(33, 33)+springK; BK(30, 30) = BK(30, 30)+springK; BK(29, 29) = BK(29, 29)+springK;; BK(22, 22) = BK(22, 22)+springK;; BK(21, 21) = BK(21, 21)+springK;; BK(18, 18) = BK(18, 18)+springK;; BK(17, 17) = BK(17, 17)+springK;; %BK(:, 34) = []; %BK(:, 33) = []; %BK(:, 30) = []; %BK(:, 29) = []; %BK(:, 22) = []; %BK(:, 21) = []; %BK(:, 18) = []; %BK(:, 17) = []; if omega==2 BK1=BK; end if omega==3 BK2=BK; end if omega==2.5 BK_bar=BK; end end end omega_bar=(2+3)/2; M=-(BK2-BK1)/(((3^2)-(2^2))) K=(BK_bar)+(omega_bar^2)*M

F=[0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0; 0;0;0;0;0;0;0;0;0;0;0;0;1000;0;0] U=(K^-1)*F answer=F(50,1)/U(50,1)

132   

Code 6 (Stability Lobe Calculations [17])
clear all close all clc clear all wnxhz=800 % Fourier series approach % Define parameters for x direction kx = 9e6; % N/m wnx = wnxhz*2*pi; % rad/s zetax = 0.02; % Define parameters for y direction ky = 1e7; % N/m wny = wnxhz*2*pi; % rad/s zetay = 0.01; phis = 126.9*pi/180; phie = 180*pi/180; % rad % rad

% Cutting force coefficients Ks = 2250e6; % N/m^2 beta = 75; % deg Kn = 1/tan(beta*pi/180); Kt = Ks/sqrt(1 + Kn^2); % N/m^2 Nt = 3; alphaxx = 0.5*((cos(2*phie)-2*Kn*phie+Kn*sin(2*phie))-(cos(2*phis)2*Kn*phis+Kn*sin(2*phis))); alphaxy = 0.5*((-sin(2*phie)-2*phie+Kn*cos(2*phie))-(-sin(2*phis)2*phis+Kn*cos(2*phis))); alphayx = 0.5*((-sin(2*phie)+2*phie+Kn*cos(2*phie))-(sin(2*phis)+2*phis+Kn*cos(2*phis))); alphayy = 0.5*((-cos(2*phie)-2*Kn*phie-Kn*sin(2*phie))-(-cos(2*phis)2*Kn*phis-Kn*sin(2*phis))); wnmax = max([wnx wny]); w = (0:0.1:2*wnmax/2/pi)'*2*pi; % frequency, rad/s FRFxx = (wnx^2/kx)./(wnx^2 - w.^2 + i*2*zetax*wnx.*w); FRFyy = (wny^2/ky)./(wny^2 - w.^2 + i*2*zetay*wny.*w); for cnt = 1:length(w) % Oriented FRF FRF_or = [alphaxx*FRFxx(cnt) alphaxy*FRFyy(cnt); alphayx*FRFxx(cnt) alphayy*FRFyy(cnt)]; % m/N % Calculate two eigenvalues E = eig(FRF_or); temp = E(1); lambda1(cnt) = temp;

133   

temp = E(2); lambda2(cnt) = temp; if (cnt > 1) dot_prod1 = real(lambda2(cnt))*real(lambda2(cnt-1)) + imag(lambda2(cnt))*imag(lambda2(cnt-1)); dot_prod2 = real(lambda2(cnt))*real(lambda1(cnt-1)) + imag(lambda2(cnt))*imag(lambda1(cnt-1)); if (dot_prod2 > dot_prod1) temp = lambda2(cnt); lambda2(cnt) = lambda1(cnt); lambda1(cnt) = temp; end end end lambda1 = lambda1'; lambda2 = lambda2'; blim1 = (2*pi/Nt/Kt)./((real(lambda1)).^2 + (imag(lambda1)).^2) .* (real(lambda1) .* (1 + (imag(lambda1)./real(lambda1)).^2)); % m blim2 = (2*pi/Nt/Kt)./((real(lambda2)).^2 + (imag(lambda2)).^2) .* (real(lambda2) .* (1 + (imag(lambda2)./real(lambda2)).^2)); [index1] = find(blim1 > 0); blim1 = blim1(index1); blim1 = blim1*1e3; % mm w1 = w(index1); psi1 = atan2(imag(lambda1), real(lambda1)); psi1 = psi1(index1); epsilon1 = pi - 2*psi1; omega11 = (60/Nt)*w1./(epsilon1 + 2*0*pi); omega12 = (60/Nt)*w1./(epsilon1 + 2*1*pi); omega13 = (60/Nt)*w1./(epsilon1 + 2*2*pi); omega14 = (60/Nt)*w1./(epsilon1 + 2*3*pi); omega15 = (60/Nt)*w1./(epsilon1 + 2*4*pi); omega16 = (60/Nt)*w1./(epsilon1 + 2*5*pi); [index2] = find(blim2 > 0); blim2 = blim2(index2); blim2 = blim2*1e3; w2 = w(index2); psi2 = atan2(imag(lambda2), real(lambda2)); psi2 = psi2(index2); epsilon2 = pi - 2*psi2; omega21 = (60/Nt)*w2./(epsilon2 + 2*0*pi); omega22 = (60/Nt)*w2./(epsilon2 + 2*1*pi); omega23 = (60/Nt)*w2./(epsilon2 + 2*2*pi); omega24 = (60/Nt)*w2./(epsilon2 + 2*3*pi); omega25 = (60/Nt)*w2./(epsilon2 + 2*4*pi); omega26 = (60/Nt)*w2./(epsilon2 + 2*5*pi); %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% wnxhz2=930

% rpm

134   

% Fourier series approach % Define parameters for x direction kx2 = 9e6; % N/m wnx2 = wnxhz2*2*pi; % rad/s zetax2 = 0.02; % Define parameters for y direction ky2 = 1e7; % N/m wny2 = wnxhz2*2*pi; % rad/s zetay2 = 0.01; phis2 = 126.9*pi/180; phie2 = 180*pi/180; % rad % rad

% Cutting force coefficients Ks2 = 2250e6; % N/m^2 beta2 = 75; % deg Kn2 = 1/tan(beta2*pi/180); Kt2 = Ks2/sqrt(1 + Kn2^2); % N/m^2 Nt2 = 3; alphaxx2 = 0.5*((cos(2*phie2)-2*Kn2*phie2+Kn2*sin(2*phie2))-(cos(2*phis2)2*Kn2*phis2+Kn2*sin(2*phis2))); alphaxy2 = 0.5*((-sin(2*phie2)-2*phie2+Kn2*cos(2*phie2))-(-sin(2*phis2)2*phis2+Kn2*cos(2*phis2))); alphayx2 = 0.5*((-sin(2*phie2)+2*phie2+Kn2*cos(2*phie2))-(sin(2*phis2)+2*phis2+Kn2*cos(2*phis2))); alphayy2 = 0.5*((-cos(2*phie2)-2*Kn2*phie2-Kn2*sin(2*phie2))-(-cos(2*phis2)2*Kn2*phis2-Kn2*sin(2*phis2))); wnmax2 = max([wnx2 wny2]); w2 = (0:0.1:2*wnmax2/2/pi)'*2*pi; % frequency, rad/s FRFxx2 = (wnx2^2/kx2)./(wnx2^2 - w2.^2 + i*2*zetax2*wnx2.*w2); FRFyy2 = (wny2^2/ky2)./(wny2^2 - w2.^2 + i*2*zetay2*wny2.*w2); for cnt2 = 1:length(w2) % Oriented FRF FRF_or2 = [alphaxx2*FRFxx2(cnt2) alphaxy2*FRFyy2(cnt2); alphayx2*FRFxx2(cnt2) alphayy2*FRFyy2(cnt2)]; % m/N % Calculate two eigenvalues E2 = eig(FRF_or2); temp2 = E2(1); lambda12(cnt2) = temp2; temp2 = E2(2); lambda22(cnt2) = temp2; if (cnt2 > 1) dot_prod12 = real(lambda22(cnt2))*real(lambda22(cnt2-1)) + imag(lambda22(cnt2))*imag(lambda22(cnt2-1)); dot_prod22 = real(lambda22(cnt2))*real(lambda12(cnt2-1)) + imag(lambda22(cnt2))*imag(lambda12(cnt2-1)); if (dot_prod22 > dot_prod12) temp2 = lambda22(cnt2); lambda22(cnt2) = lambda12(cnt2); lambda12(cnt2) = temp2; end end

135   

end lambda12 = lambda12'; lambda22 = lambda22'; blim12 = (2*pi/Nt2/Kt2)./((real(lambda12)).^2 + (imag(lambda12)).^2) .* (real(lambda12) .* (1 + (imag(lambda12)./real(lambda12)).^2)); % m blim22 = (2*pi/Nt2/Kt2)./((real(lambda22)).^2 + (imag(lambda22)).^2) .* (real(lambda22) .* (1 + (imag(lambda22)./real(lambda22)).^2)); [index12] = find(blim12 > 0); blim12 = blim12(index12); blim12 = blim12*1e3; % mm w12 = w2(index12); psi12 = atan2(imag(lambda12), real(lambda12)); psi12 = psi12(index12); epsilon12 = pi - 2*psi12; omega112 = (60/Nt2)*w12./(epsilon12 + 2*0*pi); omega122 = (60/Nt2)*w12./(epsilon12 + 2*1*pi); omega132 = (60/Nt2)*w12./(epsilon12 + 2*2*pi); omega142 = (60/Nt2)*w12./(epsilon12 + 2*3*pi); omega152 = (60/Nt2)*w12./(epsilon12 + 2*4*pi); [index22] = find(blim22 > 0); blim22 = blim22(index22); blim22 = blim22*1e3; w22 = w2(index22); psi22 = atan2(imag(lambda22), real(lambda22)); psi22 = psi22(index22); epsilon22 = pi - 2*psi22; omega212 = (60/Nt2)*w22./(epsilon22 + 2*0*pi); omega222 = (60/Nt2)*w22./(epsilon22 + 2*1*pi); omega232 = (60/Nt2)*w22./(epsilon22 + 2*2*pi); omega242 = (60/Nt2)*w22./(epsilon22 + 2*3*pi); omega252 = (60/Nt2)*w22./(epsilon22 + 2*4*pi); figure(2) % First eigenvalue plot(omega11, blim1, 'b:', omega12, blim1, 'b:', omega13, blim1, 'b:', omega14, blim1, 'b:', omega15, blim1, 'b:') hold on % Second eigenvalue plot(omega21, blim2, 'b', omega22, blim2, 'b', omega23, blim2, 'b', omega24, blim2, 'b', omega25, blim2, 'b') plot(omega112, blim12, 'b:', omega122, blim12, 'b:', omega132, blim12, 'b:', omega142, blim12, 'b:', omega152, blim12, 'b:', 'color', 'red') hold on % Second eigenvalue plot(omega212, blim22, 'b', omega222, blim22, 'b', omega232, blim22, 'b', omega242, blim22, 'b', omega252, blim22, 'b', 'color', 'red') axis([0 30000 0 10]) set(gca,'FontSize', 14) xlabel('\Omega (rpm)')

% rpm

136   

ylabel('b_{lim} (mm)') xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', xlswrite('test.xls', blim1, 'test', 'A2') omega11, 'test', 'B2') omega12, 'test', 'C2') omega13, 'test', 'D2') omega14, 'test', 'E2') blim2, 'test', 'G2') omega21, 'test', 'H2') omega22, 'test', 'I2') omega23, 'test', 'J2') omega24, 'test', 'K2') blim12, 'test2', 'A2') omega112, 'test2', 'B2') omega122, 'test2', 'C2') omega132, 'test2', 'D2') omega142, 'test2', 'E2') blim22, 'test2', 'G2') omega212, 'test2', 'H2') omega222, 'test2', 'I2') omega232, 'test2', 'J2') omega242, 'test2', 'K2')

137   


