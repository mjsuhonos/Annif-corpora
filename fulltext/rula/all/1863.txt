Ryerson University

Digital Commons @ Ryerson
Theses and dissertations

1-1-2010

Effect of Time Delays in Characterizing Continuous Mixing of Aqueous Xanthan Gum Solutions
Vishal Kumar Patel
Ryerson University

Follow this and additional works at: http://digitalcommons.ryerson.ca/dissertations Part of the Chemical Engineering Commons Recommended Citation
Patel, Vishal Kumar, "Effect of Time Delays in Characterizing Continuous Mixing of Aqueous Xanthan Gum Solutions" (2010). Theses and dissertations. Paper 1477.

This Thesis is brought to you for free and open access by Digital Commons @ Ryerson. It has been accepted for inclusion in Theses and dissertations by an authorized administrator of Digital Commons @ Ryerson. For more information, please contact bcameron@ryerson.ca.

EFFECT OF TIME DELAYS IN CHARACTERIZING CONTINUOUS MIXING OF AQUEOUS XANTHAN GUM SOLUTIONS

By

Vishal Kumar R. Patel Bachelor of Engineering in Chemical Engineering Gujarat University, June 2000

A THESIS PRESENTED TO RYERSON UNIVERSITY IN PARTIAL FULFILMENT OF THE REQUIREMENTS FOR THE DEGREE OF MASTER OF APPLIED SCIENCE IN THE PROGRAM OF CHEMICAL ENGINEERING TORONTO, ONTARIO, CANADA, 2010

© Vishal Kumar R. Patel, 2010

ii

AUTHOR'S DECLARATION

I hereby declare that I am the sole author of this Thesis or major Research Paper. I authorize Ryerson University to lend this thesis or Major Research Paper to other institutions or individuals for the purpose of scholarly research.

------------------------------------

I further authorize Ryerson University to reproduce this thesis or dissertation by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research.

------------------------------------

iii

iv

EFFECT OF TIME DELAYS IN CHARACTERIZING CONTINUOUS MIXING OF AQUEOUS XANTHAN GUM SOLUTIONS

Master of Applied Science In the Program of Chemical Engineering 2010 Vishal Kumar R. Patel School of Graduate Studies Ryerson University

ABSTRACT

Aqueous xanthan gum solutions are non-Newtonian fluids, pseudoplastic fluids possessing yield stress. Their continuous mixing is an extremely complicated phenomenon exhibiting non idealities such as channeling, recirculation and stagnation. To characterize the continuous mixing of xanthan gum solutions, three dynamic models were utilized: (1) a dynamic model with 2 time delays in discrete time domain, (2) a dynamic model with 2 time delays in continuous time domain, and (3) a simplified dynamic model with 1 time delay in discrete time domain. A hybrid genetic algorithm was employed to estimate the model parameters through the experimental input-output dynamic data. The extents of channeling and fully-mixed volume were used to compare the performances of these three models. The dynamic model parameters exerting strong influence on the model response were identified. It was observed that the models with 2 time delays gave a better match with the experimental results. Keywords: Continuous mixing, Dynamic model, Non-Newtonian fluid, Parameter identification, Hybrid genetic algorithm.

v

vi

ACKNOWLEDGEMENTS

I heartily thank my supervisors, Dr. Farhad Ein-Mozaffari and Dr. Simant R. Upreti, whose encouragement, supervision and support from the preliminary to the concluding level enabled me to develop an understanding of the subject.

Also it is a pleasure to thank those who made this thesis possible such as my father Ramsingbhai G. Patel and my uncle Ratanjibhai B. Patel, who gave me moral support and inspire me to complete the challenging research that lies behind it.

The financial support provided by Natural Science and Engineering Research Council of Canada (NSERC) for funding this research is greatly acknowledged.

Vishal Kumar R. Patel

vii

viii

CONTENTS AUTHOR'S DECLARATION........................................................... ABSTRACT................................................................................... iii v

ACKNOWLEDGEMENTS................................................................ vii LIST OF FIGURES......................................................................... xii LIST OF TABLES.......................................................................... xiii NOMENCLATURE........................................................................ xiv 1 INTRODUCTION......................................................................... 1 1.1 Background........................................................................... 1 1.2 Thesis objective and contributions................................................ 2 1.2.1 1.2.2 1.2.3 Problem statement.......................................................... 2 Dynamic models............................................................ Hybrid genetic algorithm.................................................. 2 2 3

1.3 Thesis layout...........................................................................

2 MIXING..................................................................................... 5 2.1 Introduction........................................................................... 5 2.1.1 Batch mixing................................................................. 5 2.1.2 Continuous mixing.......................................................... 6 2.2 Continuous mixing of non-Newtonian fluids.................................... 8 2.2.1 Introduction.................................................................. 8 2.2.2 Rheology of non-Newtonian fluid........................................ 8 2.2.3 Literature review on continuous mixing of pseudoplastic with yield stress fluids................................... 12 3 MATHEMATICAL MODEL........................................................... 15 3.1 Introduction.......................................................................... 15 3.2 Dynamic models for continuous mixing of non-Newtonian fluids........... 16 3.2.1 Ein-Mozaffaris dynamic model.......................................... 16 3.2.2 Patels dynamic model..................................................... 18 3.2.3 Soltanzadehs dynamic model............................................ 19
ix

4 SYSTEM IDENTIFICATION............................................................ 21 4.1 Introduction............................................................................ 21 4.2 Estimation of parameters via hybrid genetic algorithm............................ 23 4.2.1 Discrete time domain approach............................................. 25 4.2.2 Continuous time domain approach.......................................... 29 4.3 Sensitivity analysis................................................................... 31 5 GENETIC ALGORITHM............................................................... 33 5.1 Genetic algorithm...................................................................... 33 5.1.1 Introduction.....................................................................33 5.2 Hybrid genetic algorithm............................................................ 37 5.2.1 Introduction................................................................... 37 5.2.2 Steps of algorithm............................................................. 42 5.3 Experimental overview............................................................... 45 5.4 Rheology of xanthan gum................................................................ 47 6 RESULTS AND DISCUSSION.......................................................... 49 6.1 Model validation...................................................................... 49 6.2 Model predicted output............................................................... 53 6.3 Effect of impeller speeds on extent of channeling and fully mixed volume.. 55 6.4 Effect of mass concentrations on extent of channeling and Fully mixed volume................................................................. 59

6.5 Effect of fluid flow rates on extent of channeling and fully mixed volume . 64 6.6 Effect of output locations on extent of channeling and fully mixed volume 66 6.7 Sensitivity analysis................................................................... 69 7 CONCLUSION AND RECOMMENDATION FOR FUTURE WORK ........73 7.1 Conclusion............................................................................ 73 7.2 Recommendation for future work.................................................. 74

x

REFERENCES............................................................................... 75 APPENDIX.................................................................................... 79

xi

LIST OF FIGURES: Figure 1 Categories of non-Newtonian fluids.................................................. 9 Figure 2 Block diagram of Ein-Mozaffaris dynamic model................................. 16 Figure 3 Block diagram of Patels dynamic model........................................... 17 Figure 4 Block diagram of Soltanzadehs dynamic model.................................. 19 Figure 5 Flow diagram of system identification............................................... 20 Figure 6 Standard genetic algorithm............................................................ 33 Figure 7 Hybrid genetic algorithm............................................................... 38 Figure 8 Schematic of experimental setup..................................................... 44 Figure 9 Predicted outputs using 3-dynamic models in model validation: Experiment input signal (Dark gray line), experiment output (Gray line) and dynamic model predicted output (Black line)..................................................................... 51 a. First dataset, output of dynamic model with 2 time delays in discrete time domain. b. Second dataset, output of dynamic model with 2 time delays in discrete time domain. c. First dataset, output of dynamic model with 2 time delays in continuous time domain. d. Second dataset, output of dynamic model with 2 time delays in continuous time domain. e. First dataset, output of dynamic model with 1 time delay in discrete time domain. f. Second dataset, output of dynamic model with 1 time delay in discrete time domain. Figure 10 Predicted outputs using 3-dynamic models: Experiment input signal (Dark gray line), experiment output (Gray line) and dynamic model predicted output (Black line)................................................................................................ 53 a. b. c. Output of dynamic model with 2 time delays in discrete time domain. Output of dynamic model with 2 time delays in continuous time domain. Output of dynamic model with 1 time delay in discrete time domain.

Figure 11 Predicted results using 3-dynamic models at different impeller speeds...... 55 a. f (channeling) versus impeller speed (rpm).

xii

b.

versus impeller speed (rpm).

Figure 12 Predicted results using 3-dynamic models at different mass concentrations. 61 a. f (channeling) versus impeller speed (rpm) for 0.5% mass concentration. b. c. d. versus impeller speed (rpm) for 0.5% mass concentration. f (channeling) versus impeller speed (rpm) for 1.0% mass concentration. versus impeller speed (rpm) for 1.0% mass concentration.

e. f (channeling) versus impeller speed (rpm) for 1.5% mass concentrations. f. versus impeller speed (rpm) for 1.5% mass concentration.

Figure 13 Predicted results using 3-dynamic models at 896 L/h flow rates............... 64 a. b. f (channeling) versus impeller speed (rpm) for fluid flow rate 896 L/h. versus impeller speed (rpm) for fluid flow rate 896 L/h.

Figure 14 Predicted results using 3-dynamic models for different output locations...... 67 a. f (channeling) versus impeller speed (rpm) for Configuration-1. b. c. d. versus impeller speed (rpm) for Configuration-1. f (channeling) versus impeller speed (rpm) for Configuration-2. versus impeller speed (rpm) for Configuration-2.

Figure 15 sensitivity analysis plots.............................................................. 70 a. Root mean square (rms) error versus b. Root mean square (rms) error versus c. Root mean square (rms) error versus d. Root mean square (rms) error versus . . . .

LIST OF TABLE: Table 1 Variables used in experimental work................................................ 46 Table 2 Predicted parameters by dynamic models for first set of data.................... 49 Table 3 Comparison of time taken for simulation by computer........................... 56 Table 4 Root mean square errors obtained from the dynamic model with 1 time delay........................................................................ 57

xiii

NOMENCLATURE

The i-th discrete-time model parameter Positive size-variation factor for Positive fraction to reduce in equations (56, 57, 58)

The i-th discrete-time model parameter Domain of the -th parameter Minimum value of any Fraction of short-circuiting, % -th string evaluation Average evaluation of all strings in population Volumetric flow rates, L/h Transfer function of short-circuiting zone Transfer function of mixing zone Transfer function of mixing vessel Objective function given by equation (51) Optimal of Augmented objective function given by equation (56, 57, 58) Vector of partial derivatives of Impeller speed, rpm Number of bits for -th parameter Number of crossover sites for each optimization parameter Number of genetic generations Size of population of Number of experiment sample Number of optimization parameter Probability of crossover Probability of mutation Fluid flow rate, L/h Backward shift operator with respect to

xiv

Penalty term in equation (56, 57, 58) Fraction of recirculation, % Pseudo-random number Laplace transform variable Time, s Sample time, s The i-th time delay, s Input signal, mS (MicroSiemens) at i-th sampling instant, mS Volume in short-circuiting zone, m3 Volume in mixing zone, m3 Fully mixed volume in mixing vessel, m3 Total volume fluid in mixing vessel, m3 Output signal, mS at i-th sampling instant, mS Experimental output signal, mS at i-th sampling instant, mS Vector of optimization parameters Optimal of Vector of mean value of Vector of deviation of in binary coding from

GREEK LETTERS

The i-th time constant, s The i-th discrete-time model parameter A small positive number

xv

xvi

CHAPTER 1

INTRODUCTION

1.1 Background Continuous-flow mixing is a vital component to many processes including polymerization, fermentation, wastewater treatment, and pulp and paper

manufacturing. its demonstrated ability to improve product uniformity and minimize shutdown, loading, and unloading times. Continuous mixing is considered as an efficient alternative to a batch mixing operation.

Understanding continuous mixing mechanisms is crucial especially when the fluids are non-Newtonian. A wide range of working fluids in industrial mixers are non-Newtonian mostly pseudoplastic or shear thinning fluids with yield stress. Important non-Newtonian fluids such as pulp suspensions, food substances like margarine and ketchup, paints, cement, and certain polymer and biopolymer solutions are pseudoplastic with yield stress. These non-Newtonian fluids create considerable deviations from ideal mixing because continuous mixing of non-Newtonian fluids exhibit non idealities such as channeling, recirculation, and stagnant zones.

It is very important to characterize non idealities present during the continuous mixing of non-Newtonian fluids. Different dynamic models were developed in order to represent the dynamics of continuous mixing for non-Newtonian fluids. In this study, three dynamic models were utilizes to characterize the continuous mixing of non-Newtonian fluids: (1) a dynamic model with 2 time delays in discrete time domain, (2) a dynamic model with 2 time delays in continuous time domain, and (3) a simplified dynamic model with 1 time delay in discrete time domain. Hybrid genetic algorithm was used in order to identify dynamic model parameters.

1

1.2 Thesis objective and contribution 1.2.1 Problem statement

The continuous mixing of non-Newtonian fluids exhibits non idealities such as channeling, recirculation, and stagnant zones. Presence of non idealities is one of the main reasons for poor mixing performance of continuous mixer. It is important to identify the non idealities present during the continuous mixing of non-Newtonian fluids. The dynamic models which represent the dynamics of continuous mixing have two different concepts: (1) the dynamic models which have 2 time delay terms and (2) the dynamic model which has 1 time delay term. It is important to observe the effect of time delays in characterization of continuous mixing of non-Newtonian fluids.

1.2.2

Dynamic models

In this study, three dynamic models were utilized for characterization of continuous mixing of non-Newtonian fluids: 1. Ein-Mozaffaris dynamic model (Ein-Mozaffari et al., 2004) 2. Patels dynamic model (Patel et al., 2007) 3. Soltanzadehs dynamic model (Soltanzadeh et al., 2008) Ein-Mozaffaris dynamic model and Patels dynamic model both have 2 time delays term while Soltanzadehs dynamic model has 1 time delay term.

1.2.3 Hybrid genetic algorithm Genetic algorithms (GAs) are global optimization techniques that are particularly wellsuited for highly nonlinear functions. GAs can handle noisy, discontinuous functions. GAs can rapidly locate the region in which the global optimum exists but they take relatively long time to locate the exact global optimum in the region of convergence. A combination of GA and a local search method can speed up the search to locate the exact global optimum. In such a hybrid, applying a local search to the solutions that are guided by a GA to the most promising region can accelerate convergence to the global optimum. The time needed to reach the global optimum can be further reduced if local
2

search methods and local knowledge are used to accelerate to locating the most promising search region in addition to locating the global optimum starting within its basin of attraction. Hybrid genetic algorithm can overcome genetic drift that arises as a result of finite population size. In this study "hybrid genetic algorithm" was utilized for identification of the dynamic models parameters, which uniquely integrating genetic algorithms with gradient search (a local search method).

1.3 Thesis layout This thesis is organized in the following fashion: Chapter 2 includes an introduction of mixing, rheology of non-Newtonian fluids, and literature review on the continuous mixing of pseudoplastic fluid with yield stress. Chapter 3 introduces different dynamic models which used in characterization of the continuous mixing of non-Newtonian fluids. Chapter 4 details the system model that is the main focus of the identification procedure. Once the system has been modeled, the identification technique is introduced. Based on this objective function, the procedures to identify dynamic model parameters using hybrid genetic algorithm is formulated. A sensitivity analysis method is introduced. Chapter 5 includes genetic algorithms strength, weakness, and importance to hybridize the genetic algorithms. Chapter 6 includes overview of experimental work and rheology of xanthan gum. Chapter 7 includes simulation results and discussions. Chapter 8 details the conclusion, overall result of this research and possible future research in this topic.

3

4

CHAPTER 2

MIXING

2.1 Introduction Mixing plays an important role in different industries such as food, pharmaceutical, paper, plastic, ceramics, and polymers. Mixing is a unit operation that involves manipulating a heterogeneous physical system with the intent to make it more homogeneous. There are two modes of mixing at the industrial level: 1. Batch Mixing Operation 2. Continuous Mixing Operation.

2.1.1 Batch Mixing Operation A batch mixing process typically consists of three sequential steps: loading mix components, mixing, and discharge of the mixed product. In a batch mixing process all ingredients are loaded into a mixer and mixed for duration until they are homogenously mixed. The retention time in a batch mixer is normally arrived at based on trials wherein the time required for achieving the desired level of product homogeneity is established. Mixing cycle times can range from a few seconds with high intensity units to many hours where an additional processing like heating or cooling may be involved. The resulting mix is then discharged out of the mixing vessel. (Tekchandaney, 2009) The total batch time is the time required for charging the material into the mixer, the mixing cycle time and the discharge time. For applications where product contamination between successive batches is not permitted, the time required for cleaning the mixer should also be added to the total batch time. 2.1.1.1 Applications of Batch Mixing Batch mixing is preferred for applications where:
 

Many formulations are produced on the same production line. Ingredient properties change over time.

5

 

Production quantities are small. Strict control of mix composition is required.

2.1.1.2 Advantages of Batch Mixing The advantages of the batch mixing operation are as follows:
  

Precise control of mix quality. Batch traceability Lower installed and operating costs for small to medium capacities compared to continuous mixing

 

Flexibility of production. Easy cleaning, lower cleaning costs when product changes are frequent.

2.1.1.3 Disadvantages and Limitations of Batch Mixing The disadvantages of batch mixing are as follows:
 

Batch mixing is uneconomical when large quantities of material are to be mixed. Batch mixing is requiring more labor compared to continuous mixing.

2.1.2 Continuous Mixing Operation Continuous mixing is used to mix ingredients continuously in a mixer in a single pass. In a continuous mixing process, the loading, mixing, and discharge steps occur continuously and simultaneously. The materials to be mixed are continuously charged into the mixer as per the formulation. The process of charging the materials in a continuous mixer is extremely critical and can significantly affect the quality of the final mix. The time taken by the material to travel from the feeding point to the discharge point is known as the retention time of the material in the mixer. Material retention time is not uniform in continuous mixing and can be directly affected by mixer speed, feed rate, mixer geometry, inlet/outlet location, and the design of mixer internals. Material is continuously

6

discharged at a constant rate which is generally termed as the capacity of the continuous mixer. (Tekchandaney, 2009) 2.1.2.1 Applications of Continuous Mixing Continuous mixing is preferred for applications where:
   

Large quantities of a single product are to be mixed. Requiring high production rate. Strict batch integrity is not critical. Smoothing out batch product variations is required.

2.1.2.2 Advantages of Continuous Mixing The advantages of the continuous mixing operation are as follows:


High Capacity - Compared to batch type mixers, continuous mixers of smaller volumes and power can be used to produce large quantities of uniform mix. Hence for a given capacity they are more compact than batch mixers.



Lower Mixing Time - The mixing time in continuous mixers is lower than in batch mixers. Consistent Mixing Performance ­ With proper feeding arrangements, online instrumentation and operation controls, a consistent mixing performance and uniform product quality can be achieved.





Suitability for Automatic Control - Operation of continuous mixers can be automated using online monitoring and measuring instruments.



Lower Cost of Mixers - Continuous mixers tend to be cheaper than the equivalent batch mixers because they are compact and require less space. However the cost of feeders for metering the product into the mixer, instrumentation and control may result in a higher overall cost of the system.



Minimum Labor ­ Since material feeding and discharging processes are automated, minimal labor is required for continuous mixing.

7

2.1.2.3 Disadvantages and Limitations of Continuous Mixing


Lack of Flexibility ­ Continuous mixing systems are designed for a particular application and cannot be easily tailored to mix different formulations. Even if a new ingredient is to be introduced, it calls for a change in the protocol, and the system has to be recalibrated.



Component Limitations ­ When a large number of ingredients are to be added, continuous mixers have limitations with respect to mixing uniformity when compared to batch mixers.



Higher Overall Maintenance Cost ­ Continuous mixers heavily depend on feeders, instrumentation and online control systems. Failure, malfunction in any one component can lead to complete stoppage. Hence, overall maintenance costs for continuous mixers are higher compared to batch mixers.



Calibration and Checking ­ The feeding devices in a continuous mixing require careful calibration and frequent checking for accuracy. Critical Applications ­ Continuous mixers are not suited for critical applications where product formulations need to be exact. Batch mixers are better suited to processes that require a very tight product formulation and uniform composition.



2.2 Continuous mixing of non-Newtonian fluids 2.2.1 Introduction Continuous-flow mixing is widely used in many processes such as polymerization, fermentation, wastewater treatment, and pulp and paper manufacturing because of its demonstrated ability to improve product uniformity and minimize shutdown, loading, and unloading times. Continuous mixing of non-Newtonian fluids is difficult to characterize due to the complex rheology of non-Newtonian fluids. Understanding continuous mixing mechanisms is crucial especially when the fluids are non-Newtonian. A wide range of working fluids in industrial mixers are non-

Newtonian mostly pseudoplastic or shear thinning fluids with yield stress. Important nonNewtonian fluids such as pulp suspensions, food substances like margarine and ketchup,

8

paints, cement, and certain polymer and biopolymer solutions are pseudoplastic with yield stress. The mixing of non-Newtonian fluids is often described as an "art" rather than a "science", depending upon empirical correlations, working experience, and intuitive knowledge (Sue and Holland, 1968).

2.2.2 Rheology of non-Newtonian Fluids Rheology studies the relation between force and deformation in materials. The relationship between stresses acting at a point in a fluid and deformations occurring as a result of their action is called rheological equation of state or constitutive equation (Malkin, 1994). Viscosity is usually defined as the ratio of shear stress () to shear rate (  ). Fluids having a constant viscosity for any shear rate are called Newtonian and their viscosity is called Newtonian viscosity. If the ratio of shear stress to shear rate is not constant, the fluid is called non-Newtonian, and their viscosity is called apparent or non-Newtonian viscosity (Morrison, 2001).

Non-Newtonian fluids can be grouped into three different classes (Chhabra and Richardson, 1999) as indicated in Figure 1.

2.2.2.1 Time-Independent Fluids Time-independent fluids are the most common type of non-Newtonian fluids. At any time, shear rate at any point in these fluids is determined only by the value of shear stress (Tanner, 2000). Under this category, two types of non-Newtonian fluids can be distinguished: fluids with yield stress and fluids without yield stress.

9

Figure 1: Categories of non-Newtonian fluids

Some non-Newtonian fluids show little or no deformation up to a certain level of stress. Such fluids behave like a solid below the level of stress and like a fluid above it. The stress at which such fluids start to flow is called yield stress, resulting in fluids often referred to as yield stress fluids (Barnes, 2000). The internal structure of yield stress fluids is capable of preventing movement below yield stress. However, the internal structure reforms to allow the fluid to move when shear stress exceeds yield stress (Macosko, 1994). Examples of fluids possessing yield stress can be found in plastic melts, coal, cement, margarine and shortenings, greases, chocolate mixtures, toothpaste, soap and detergent slurries, and paper and pulp suspension. Non-Newtonian fluids without yield stress, conversely, can flow at any stress. Examples of non-Newtonian fluids without yield stress include starch suspensions, fruit juice concentrates and printer's ink.

Non-Newtonian fluids with and without yield stress can be further divided into pseudoplastic and dilatants fluids. While pseudoplastic fluids thin at high shear rates, dilatants fluids thicken at high shear rates. Most of the non-Newtonian fluids encountered

10

in industries are pseudoplastic or shear thinning. These fluids characterized by apparent viscosity which decreases with increasing shear rate. Examples of pseudoplastic fluids are rubber solutions, adhesives, soap, detergents, paints, and paper and pulp suspension. Dilatants fluids characterized by apparent viscosity increases with increasing shear rate; thus these fluids are also called shear-thickening. Examples of dilatants fluids are corn flour/sugar solutions, and many pigment dispersions containing high concentration of suspended solids such as mica and powdered quartz.

2.2.2.2 Time-Dependent Fluids Shear rate in time-dependent fluids is a function of both magnitude and the duration of shear stress application to the fluid. Thixotropic and rheopectic or anti-thixoptropic fluids are the most common kinds of time dependent non-Newtonian fluids.

In thixotropy, the longer the fluid is subjected to shear stress, the lower its viscosity. However, in rheopecty, the longer the fluid is subjected to shear stress, the higher its viscosity. Many gels, paints, and printing inks are thixotropic, exhibiting a stable form at rest but becoming fluid when agitated (subjected to shear stress). Some lubricants and gypsum suspension thicken or solidify when shaken and hence are considered rheopectic fluids (Barnes, 2000). 2.2.2.3 Viscoelastic Fluids Viscoelastic fluids exhibit the characteristic of both fluids and elastic solids, showing partial elastic recovery after deformation (after applying shear stress).

In a purely elastic solid the shear stress corresponding to a given shear rate is independent of time, whereas for viscoelastic substances the shear stress will gradually dissipate with time. In contrast to purely viscous liquids, viscoelastic fluids flow when subjected to shear stress but part of their deformation is gradually recovered upon removal of shear stress (Macosko, 1994). Examples of viscoelastic fluids include

bituminous, flour dough, and some polymer and polymer melts such as nylon.

11

2.2.3 Literature review on continuous mixing of pseudoplastic with yield stress fluids Little information is available on continuous mixing of non-Newtonian fluids. It is important to investigate the dynamic behavior of continuous mixing. Traditionally continuous mixers have been designed assuming they are ideally mixed, with the dynamics represented by a first order transfer function. In order to understand continuous mixing mechanisms of non-Newtonian fluids, Ein-Mozaffari et al. (2002, 2005) studied the dynamics of a rectangular agitated pulp stock chest under controlled conditions of impeller speed, pulp suspension concentration, input pulp suspension flow-rate and vessel input and output locations. They attributed the deviations from ideal mixing to a number of factors including short-circuiting, recirculation and the presence of dead zones in the chest. Such zones can arise from the interaction between the circulation patterns

generated by the impellers, the suspension flow through the vessel and chest geometry (Ein-Mozaffari et al., 2004).

Dynamic tests conducted on a rectangular pilot stock chest by Ein-Mozaffari et al. (2003) showed that the extent of non-ideal flow can be significant. The percentage of channeling was as high as 90% of pulp feed at high input flow-rates and low impeller speed. Ein-Mozaffari et al. (2004) developed a dynamic model based on physical interpretation of the flow field and used it to characterize the non-idealities present in the continuous mixing. This dynamic model (Ein-Mozaffari et al., 2004) comprised two separate time delays one for a short-circuiting zone (channeling) and one for a mixing zone.

Ford et al. (2006) used a computational-fluid-dynamics (CFD) model of a rectangular pulp-stock mixing chest and reported that dynamic performance of pulp chest was far from ideal, with a significant extent of non-idealities. They showed that the dynamic model proposed by Ein-Mozaffari et al. (2004) capture the mixing dynamic of the scaled model chest fairly well. Soltanzadeh et al. (2008) used a simplified version of the model developed by Ein-Mozaffari et al. (2004) and tried to describe the mixer dynamic and flow non-idealities for a rectangular pulp chest. They used standard PEM (prediction-

12

error minimization) function in MATLAB identification toolbox to predict the extent of non-ideal flows. They considered that the time delays for both mixing and shortcircuiting zones were equal.

Saeed et al. (2008) analyzed the performance of the continuous flow mixing in a cylindrical vessel. The fluid used in the experiment was xanthan gum solution which is a pseudoplastic fluid with yield stress. They showed that the performance of a continuousflow mixer can be improved by increasing the impeller speed, decreasing the flow rate, and decreasing the yield stress (by reducing the solution mass concentration), relocating the input/output location and proper type of impeller. CFD simulation was done in order to match the parameters of the dynamic model proposed by Ein-Mozaffari et al. (2004) with the experimental ones.

It is known that accurate modeling, precise parameterization and identification are very important to represent the dynamic of continuous mixing. Identification of dynamic model parameters has long been the topic of research interest in the past (Johansson, 1994; Johansson et al., 1999; Soderstrom et al., 1997; Whitfield and Messali., 1987), The identification of systems with time delays have been reported (Sung and Lee, 2001; Wang et al., 2001) but these schemes are not generic enough to handle Ein-Mozaffari et al. (2004) dynamic model. Kammer et al. (2005) developed a numerical method for estimating model parameters in the model developed by Ein-Mozaffari et al. (2004). In this method, the estimation of the time delays was performed independently from the estimation of the remaining parameters of the model. The authors proposed two distinct stages for the identification: an efficient but less accurate search (Least Squares Minimization) for the optimal delays, followed by an accurate search (Sequential Quadratic Programming) for the whole set of parameters. Although this mechanism is not guaranteed to converge to the global minimum, a Monte Carlo simulation showed very encouraging results.

Upreti and Ein-Mozaffari (2006) presented a technique for the identification of nonideal flows. This technique provides a robust, good quality solution independent of

13

starting points, and auxiliary conditions. The technique is based on genetic algorithm (Holland, 1975) and they obtained better results in comparison to iterative dynamic programming as well as Sequential Quadratic Programming. Upreti and Ein-Mozaffari (2006) determined the optimal parameters of the pulp chest model using this technique. The technique "hybrid genetic algorithm" was developed by uniquely integrating genetic algorithms with gradient search. The hybrid algorithm identified the optimum parameters with high accuracy.

Patel et al. (2007) carried out simulation and identified mixing parameters of agitated pulp stock chests in a continuous time domain. The differential algebraic model was developed in order to represent the continuous mixing dynamic in continuous time domain. The differential algebraic model obviates the restrictions (zero order hold) imposed by the discrete time approaches. Hybrid genetic algorithm was utilized along with the differential algebraic model. They characterized the dynamic of agitated pulp stock chest at a higher sampling time. The differential algebraic model considered two separate time delays one for a short-circuiting zone (channeling) and one for a mixing zone. Patel et al. (2010) characterized the agitated pulp chest and obtained superior characterizations compared to those yielded by the discrete time domain approach.

14

CHAPTER 3 MATHEMATICAL MODEL

3.1 Introduction Eykhoff (1974) defined a mathematical model as ,,a representation of the essential aspects of an existing system (or a system to be constructed) which presents knowledge of that system in usable form.

A mathematical model usually describes a system by a set of variables and a set of equations that establish relationships between the variables. The value of the variables can be practically anything such as real or integer numbers, Boolean values or strings. The variables represent some properties of the system, for example, measured system outputs often in term of signals, timing data, counters, and event occurrence (yes/no). The actual model is the set of functions that describe the relations between the different variables.

Classification of mathematical models Most mathematical models can be classified in the following ways (Kapur, 1998):

(1) Linear vs. nonlinear: mathematical models are usually composed by variables, which are abstractions of quantities of interest in the described systems, and operators that act on these variables, which can be algebraic operators, function, differential operators, etc. if all the operators in a mathematical model present linearity, the resulting mathematical model is defined as linear. A model is considered to be nonlinear otherwise.

(2) Deterministic vs. probabilistic (stochastic): A deterministic model is one in which every set of variable states is uniquely determined by parameters in the model and by sets of previous states of these variables. Therefore, deterministic models perform the same way for a given set of initial conditions. Conversely, in a stochastic model,

15

randomness is present, and variable states are not described by unique values but rather by probability distributions. (3) Static vs. dynamic: A static model does not account for the element of time, while a dynamic model does. Dynamic models typically are represented with difference equations or differential equations.

(4) Discrete vs. continuous: A discrete model in which system jumps from one state to the next at fixed interval or time steps. A continuous model in which system changes continuously over time. The continuous model is more amenable to algebraic manipulation.

(5) Non-parametric vs. parametric: Non-parametric model in which the model structure is not specified a prior but is instead determined from data. The term Non-parametric is not meant to imply that such models completely lack parameters but that the number and nature of the parameters are flexible and not fixed in advance. The parametric model has specified structure.

3.2 Dynamic models for continuous mixing of non-Newtonian fluids 3.2.1 Ein-Mozaffari's dynamic model As mentioned earlier, different models have been developed to describe the dynamics of continuous fluid mixing. Figure 2 shows block diagram of the dynamic model proposed by Ein-Mozaffari et al. (2004) for continuous mixing, which has two distinct zones

1. A mixing zone consisting of a first order transfer function with time delay and feedback for recirculation. 2. A short-circuiting zone consisting of a first order transfer function plus time delay.

16

f

u

y

1- f

1- R

R Figure 2: Block diagram of Ein-Mozaffaris dynamic model

On the basis of this dynamic model a fraction of the incoming feed-stream, f, by-passes the mixing zone and moves directly to the exit of the mixing vessel while the remaining fraction (1 ­ f ) enters the mixing zone around the impeller. The primary mixing occurs in the mixing zone and poor mixing could also occur in the short-circuiting zone. Mixing in both zones was represented by a first order transfer function ( and ). and are

the time delays for short-circuiting and mixing zone respectively. Time delay is the time interval between the changes in input variable and time the output variable start to respond. and are the time constants for short-circuiting and mixing zone

respectively. Time constant is the time required for the output variable to reach 63.2% of the total change when the input variable change in a step fashion. u and y are input and output signals, respectively, they are either the pulp fiber mass concentration, in industrial settings, or suspension conductivity, in the scale model. The combine transfer function of mixing vessel for the dynamic model proposed by Ein-Mozaffari et al. (2004) in continuous time domain is given by:

17

The model reduces to a first-order transfer function, representing an ideally mixed chest, when f = 0 and R = 0, with the time constant of a mixing zone approaches the dominant time constant. 3.2.2 Patel's dynamic model

Figure 3 shows the dynamic model proposed by Patel et al. (2007) for the continuous mixing process with the same fundamental used by Ein-Mozaffari et al. (2004). This model also includes two separate time delays T1 and T2 for short-circuiting and mixing zones, respectively. The zero order hold which was used for discrete time domain approach is not considered in continuous time domain for identification of dynamic model parameter.

fF, u

Short-circuiting zone Of volume

fF, y1

Input F, u (1 - f )F, u F2, yj Short-circuiting zone Of volume F2, y2 (1 - R )F2, y2

Output F, y

R F2, y2 Figure 3: Block diagram of Patels dynamic model

The output signal at a time

[y (t)] is dependent on the intermediate output of short-

circuiting zone ( ) and mixing zone ( ). F is the volumetric flow rate, V1 and V2 are the volumes of the short-circuiting and mixing zone, u and y are the input and output signals of the mixing vessel. With time ( t ) as the independent variable, the mass balances for two zones are given by following differential equations:

18

With R as the fraction of pulp re-circulated within the mixing zone,

The system output is as follow:

where

and

are both zero for negative times.

The initial condition for equation (2) and (3) are

where

is the experimental output specified at the initial steady state.

3.2.3 Soltanzadeh's dynamic model

Figure 4 shows Soltanzadeh et al. (2008) model a simplified version of Ein-Mozaffari et al. (2004) dynamic model, which has two distinct zones 1. Mixing zone 2. Short-circuiting zone. The model interpreted that the fluid stream flows in a plug flow from inlet to the mixing zone where fraction f of fluid separates and proceeds to the outlet through the shortcircuiting zone. The fraction 1 ­ f passes through the mixing zone and proceeds to the outlet of the mixing vessel.
19

f u y

1- f Figure 4: Block diagram of Soltanzadehs dynamic model

The time delays for two zones are equal and merged so that only one time delay term is considered (T1 = T2 = T). Thus fluid takes equal time to pass from inlet to outlet of the mixing vessel for both zones. Insignificant mixing happens in the short-circuiting zone which is modeled as a first-order transfer function with time constant
.

Significant

mixing is expected to take place in the mixing zone and is modeled as the transfer function with a time constant,
.

The transfer function for both short-circuiting and

mixing zone G1 and G2 are first order with the same time delay. The combined transfer function of mixing vessel (system) for dynamic model proposed by Soltanzadeh et al. (2008) in continuous time domain is given by:

20

CHAPTER 4

SYSTEM IDENTIFICATION

4.1 Introduction Generally speaking, the system identification method is a "black box" process for estimating the dynamic system under study using simultaneously measured input and output data. The procedure is typically iterative and consists of three basic steps: (a) data generation/collection, (b) model determination and (c) model validation (see Figure 5)

Prior knowledge

Data generation / Collection Model determination Candidate models Criteria of fit

Model estimation

Not ok Model validation Revise

Figure 5: Flow diagram of system identification (Xiao, 2009)

21

For the data generation/collection step, does not only involve choosing the signals to be measured and by what means but also designing the experiments so that the measured signals are sufficiently informative for the subsequent procedures. More significantly, for nonparametric models, which do not assume any particular structure, the signals should contain all the frequencies of the system under study. On the other hand, for parametric models, which assume a particular structure, the input signals should contain at least as many frequency components as the number of parameters characterizing the system. Model determination is the step to choose a model that "best" couples the input-output data from a pool of candidates. Although nonparametric models are attractive in the sense that they do not assume any particular mathematical structure and are relatively easy to estimate, they are only applicable to systems operating in open-loop conditions, which are, unfortunately, not the case in continuous mixing mechanisms. Therefore, parametric models are more often used for analyzing continuous mixing mechanisms. Another key question that must be addressed in establishing a set of candidate models is: can the system under study be represented with linear and time-invariant (LTI) model? The complex mixing system is generally nonlinear and time varying, however, LTI models may be nearly valid when the data are collected during short time periods of stable, unchanging experimental conditions.

After an optimal model is chosen, its parameters are usually determined by minimizing the variance of the unobserved stochastic disturbance. The hybrid genetic algorithm approach is appropriate when the unobserved disturbance is normally distributed.

Once the model is determined, a final step remains as to demonstrate the validity of the model for its intended purpose. The most obvious approach for model validation would be to obtain an independent measure of the system dynamics (without the use of system identification) against which the estimated model may be compared. Thus model validation is based on the way in which the model is used, prior information on the system, the fitness of model to real data, etc. For example, if we identify the transfer

22

function of a system, the quality of an identified model is evaluated based on the step response and/or the pole-zero configurations. Further more if the ultimate goal is to design a control system, then we must evaluate control performance of a system designed by the identified model. If the performance is not satisfactory, we must go back to some earlier stage of system identification as shown in the Figure 5.

Model identification comprised two experiments. In the first experiment, the input signal was a rectangular pulse which allowed the estimation of an approximate model to design the excitation for the second experiment (Kammer et al., 2005). The excitation energy for the second experiment was concentrated at frequencies where the Bode plot is sensitive to parameter variations (Ljung, 1999). Therefore, the frequency-modulated random binary input signal was designed for this purpose.

In this study three different dynamic model were utilized in order to describe the dynamics of continuous mixing. To represent dynamics of continuous mixing, the dynamic model proposed by Ein-Mozaffari et al. (2004) has total six parameters, the dynamic model proposed by Patel et al. (2008) has six parameters, and the dynamic model proposed by soltanzadeh et al. (2009) has five parameters. The recirculation was not observed in lab scale continuous mixer so it was neglected in all three dynamic model parameter estimation.

4.2 Estimation of parameters via hybrid genetic algorithm Extensive and profound studies have been performed in the area of parameter estimation. Generally, conventional techniques, such as Least Square Estimator (LSE), Maximum Likelihood Estimator (MLE), Bayes Estimator (BE), instrumental Variable Methods (IVM), and so on, can deliver adequate identification results. However, the conventional approaches often depend on the calculation of gradients (the first or higher order derivatives of the cost function with respect to the unknown parameters) greatly. For the non-differentiable cost functions, those methods will not be able to locate the optimal estimates of the unknown parameters. Even for the differentiable cost functions, if they

23

have multiple local minima, the gradient-based methods suffer from being trapped at one of the local minima. That makes them very sensitive to the initial guesses of the estimated parameters. Furthermore, although the conventional techniques very often provide good results with respect to convergence and error minimization, they also are limited in their ability to handle the presence of noise (Sheta and De Jong, 1996).

The difficulties in the field of parameter estimation naturally lead to the exploration of other search techniques for parameter estimation of nonlinear systems. In particular, global optimization techniques have been introduced into the field of parameter estimation. Genetic Algorithms (GAs) are population-based global optimization techniques that emulate natural genetic operators. Because they simultaneously evaluate many points in the parameter space, they are very likely to converge toward the global solution. They require no gradient information or continuity of the searching space. Therefore, application of GAs in the field of parameter estimation and system identification has received a lot of attention over the last two decades.

Although GAs have appealing properties and have been applied successfully in the field of parameter estimation, they could be very computationally inefficient, especially for complex nonlinear dynamic systems with multiple unknown model parameters. As mentioned in previous discussion, GAs for solving optimization problem consist of a sequence of computational steps, which asymptotically converge at an optimal solution. Differing from the most classical point-to-point optimization techniques, such as the Newton-Raphson method, GAs performs a multiple directional search by maintaining a population of potential solutions. Each iteration has a large number of points in the parameter space are evaluated. While the population to population approach makes the search escape from local optima, the price is paid by increasing computation time dramatically.

In this study, a hybrid genetic algorithm-based parameter estimation strategy is proposed to improve the computational efficiency of GAs yet without losing their advantages. It starts with a GA to search for ,,good starting points globally through the

24

possible solution areas, and then applies a gradient-based optimization approach to find the solution in the likelihood sense. Instead of selecting starting points arbitrarily, the hybrid genetic algorithm provides a systematic search procedure, such that MLE is more likely to achieve the global minimum. In addition, the hybrid genetic algorithm is more efficient than pure GAs because the gradient-based techniques converge along the deepest descending direction. Further description of the GAs and hybrid genetic algorithm is given in Chapter 5.

There were two different approaches used for parameter estimation of dynamic model which represent dynamic of the continuous mixing system, along with the hybrid genetic algorithm.
1. Discrete time domain approach 2. Continuous time domain approach

4.2.1 Discrete Time Domain Approach Since the data are measured at fixed time intervals, the continuous model is initially transferred in to a simple discrete-time model (Kammer et al. 2005). By applying zeroorder hold to the transfer function (Equation 1), the equivalent discrete time transfer function is given by Equation 9.

25

The Z-transformation contains the value at the sampling instants. These values depend on the sampling time also the transform does not contain information on the function

for the negative time. In this approach, it was assumed that the time delays were multiple of the sampling time. Equation 1 can also discretized by modified Z- transform but this would add more terms to the Equation 9. Since the sampling time is small enough to

describe time delays with significant accuracy, the consideration of fractional time delays is not necessary. The zero-order hold (Seborg et al. 1989) in above equations is equivalent to each of the transfer functions

A zero-order hold simply holds the value of the input between samples without accumulation and it describe the effect of converting a continuous-time-signal to a discrete-time signal by holding each sample value for one sample interval.

The dynamic model with 2 time delays (Ein-Mozaffari et al. 2004) in discrete time domain was given by Equations from (9) to (14). It was further augmented, for constraints (from Equation 16 to Equation 18) and penalty function (Equation 56). The output from the dynamic model with 2 time delays in discrete time domain (EinMozaffaris model) was given by Equation 19. Related derivatives (from Equation 20 to Equation 26) were derived and solved using hybrid genetic algorithm.

The output signal

26

Derivatives for gradient search method

The dynamic model with 1 time delay (Soltanzadeh et al. 2008) in discrete time domain was given by Equations from (27) to (32). This model was further augmented, for constraints (from Equation 33 to Equation. 35) and penalty function (Equation 57). The output from the dynamic model with 1 time delay in discrete time domain

27

(Solatanzadehs model) was given by Equation 36. Related derivatives (from Equation 37 to Equation 43) were derived and solved using hybrid genetic algorithm.

Transfer function

The output signal

Derivatives for gradient search method

28

4.2.2 Continuous Time Domain Approach In recent years, with the advent of inexpensive computing power, much work has been done for study of discrete time domain approaches. Today, system parameters are routinely estimated through many methods (standard least-square, extended least-squares, generalized least-squares, and maximum likelihood methods). However, many applications, especially those in the process industries, are inherently continuous time systems. In many of these cases, continuous-time parameter estimates are more meaningful when characterizing system dynamics. These parameters can be indirectly

29

estimated by transforming the discrete-time transfer function into the continuous-time domain.

The dynamic model with 2 time delay (Patel et al. 2008) in continuous time domain was given by equations from (2) to (6). This model was further augmented, for constraints (from Equation 44 to Equation 46) and penalty function (Equation 58). The system output in continuous time domain, for patels model is given by Equation 6. Related partial derivatives (from Equation 47 to Equation 50) were derived and solved using hybrid genetic algorithm. For continuous time domain approach, fifth-order RungeKutta Fehlberg method with Cash-Karp parameters, and adaptive step-size control (Press et al., 2002) in conjunction with the genetic operations, were used.

Partial derivatives of

for continuous time domain approach

30

4.3 Sensitivity analysis Engineering and scientific phenomena are often studied with the aid of mathematical models designed to simulate complex physical processes. In the process industry, modeling the continuous mixing of non-Newtonian fluid is important to know mixing dynamics in the mixers. One of the steps in the model development is the determination of the parameters, which are the most influential on model results. A "sensitivity analysis" of these parameters is not only critical to model validation but also serves to guide future research. Sensitivity analysis is used to determine how "sensitive" a model is to changes in the value of the model parameters. Parameter sensitivity is usually

performed as a series of tests in which the modeler sets different parameter values to see how a change in the parameter causes a change in the dynamic model response. By showing how the model behavior responds to changes in parameter values, sensitivity analysis is a useful tool in model building as well as in model evaluation.

Sensitivity analysis helps to build confidence in the model by studying the uncertainties that are often associated with parameters in models. Many parameters in system dynamics models represent quantities that are very difficult, or even impossible to measure to a great deal of accuracy in the real world. Also, some parameter values change in the real world. Therefore, when building a system dynamics model, the modeler is usually at least somewhat uncertain about the parameter values he/she

chooses. Sensitivity analysis allows him/her to determine what level of accuracy is necessary for a parameter to make the model sufficiently useful and valid. If the tests reveal that the model is insensitive, then it may be possible to use an estimate rather than a value with greater precision. Sensitivity analysis can also indicate which parameter values are reasonable to use in the model. If the model behaves as expected from real world observations, it gives some indication that the parameter values reflect, at least in part, the "real world." Sensitivity tests help the modeler to understand dynamics of a system. Experimenting with a wide range of values can offer insights into behavior of a system in extreme situations. Discovering that the system behavior greatly changes for a change in a parameter value can identify a leverage point in the model a parameter whose specific value can significantly influence the behavior mode of the system.

31

Sensitivity analysis (Hamby, 1994) method used in this study was one-at-a-time analysis. Sensitivity measure was done by increasing and decreasing the parameter value by 20% from its base class value. Base class value of parameters is identified value of the parameter by simulation for a specified dataset.

32

CHAPTER 5

GENETIC ALGORITHM

5.1 Introduction Genetic algorithms (GAs) are adaptive methods which may be used to solve search and optimization problems. They are based on the genetic processes of biological organisms. Over many generations, natural populations evolve according to the principles of natural selection and "survival of the fittest". By mimicking this process, genetic algorithms are able to "evolve" solutions to real world problems, if they have been suitably encoded. The basic principles of GAs were first laid down rigorously by Holland [1975].

GAs work with a population of "individuals", each representing a possible solution to a given problem. Each individual is assigned a "fitness score" according to how good a solution to the problem it is. The highly-fit individuals are given opportunities to "reproduce", by "cross breeding" with other individuals in the population. This produces new individuals as "offspring", which share some features taken from each "parent". The least fit members of the population are less likely to get selected for reproduction, and so "die out".

A whole new population of possible solutions is thus produced by selecting the best individuals from the current "generation", and mating them to produce a new set of individuals. This new generation contains a higher proportion of the characteristics possessed by the good members of the previous generation. In this way, over many generations, good characteristics are spread throughout the population. By favoring the mating of the more fit individuals, the most promising areas of the search space are explored. If the GA has been designed well, the population will converge to an optimal solution to the problem.

33

5.1 The method The evaluation function, or objective function, provides a measure of performance with respect to a particular set of parameters. The fitness function transforms that measure of performance into an allocation of reproductive opportunities. The evaluation of a string representing a set of parameters is independent of the evaluation of any other string. The fitness of that string, however, is always defined with respect to other members of the current population. In the genetic algorithm, fitness is defined by: evaluation associated with string the population. and where is the

is the average evaluation of all the strings in

Fitness can also be assigned based on a string's rank in the population or by sampling methods, such as tournament selection. The execution of the genetic algorithm is a twostage process. It starts with the current population. Selection is applied to the current population to create an intermediate population. Then recombination and mutation are applied to the intermediate population to create the next population. The process of going from the current population to the next population constitutes one generation in the execution of a genetic algorithm. The standard GA is represented in figure 6.

Selection (Duplication) String 1 String 2 String 3 String 4 String 1 String 3 String 3 String 4

Recombination (Crossover) Offspring-A(13) Offspring-B(13) Offspring-A(34) Offspring-B(34)

Current Generation n

Intermediate Generation n Figure 6: Standard genetic algorithm

Next Generation n+1

34

In the first generation, the current population is also the initial population. After calculating for all the strings in the current population, selection is carried out. The

probability that strings in the current population are copied (i.e. duplicated) and placed in the intermediate generation is in proportion to their fitness.

Individuals are chosen using "stochastic sampling with replacement" to fill the intermediate population. A selection process that will more closely match the expected fitness values is "remainder stochastic sampling." For each string where is greater

than 1.0, the integer portion of this number indicates how many copies of that string are directly placed in the intermediate population. All strings (including those with less

than 1.0) then place additional copies in the intermediate population with a probability corresponding to the fractional portion of . For example, a string with = 1.27

places 1 copy in the intermediate population, and then receives a 0.27 chance of placing a second copy. A string with a fitness of = 0.57 have a 0.57 chance of placing one

string in the intermediate population. Remainder stochastic sampling is most efficiently implemented using a method known as stochastic universal sampling (It is a technique used for selecting potentially useful solution for recombination). Assume that the population is laid out in random order as in a pie graph, where each individual is assigned space on the pie graph in proportion to fitness. An outer roulette wheel is placed around the pie with N equally-spaced pointers. A single spin of the roulette wheel will now simultaneously pick all N members of the intermediate population.

After the selection has been carried out the construction of the intermediate population is complete and recombination can occur. This can be viewed as creating the next population from the intermediate population. A crossover is applied to randomly paired strings with a probability denoted . The population should already be sufficiently

shuffled by the random selection process. Pick a pair of strings. With probability "recombine" these strings to form two new strings that are inserted into the next population.

35

Consider the following binary string: 1101001100101101. The string would represent a possible solution to some parameter optimization problem. New sample points in the space are generated by recombining two parent strings. Consider this string 1101001100101101 and another binary string, yxyyxyxxyyyxyxxy, in which the values 0 and 1 are denoted by x and y. Using a single randomly-chosen recombination point, 1point crossover occurs as follows:

11010 \/ 01100101101 yxyyx /\ yxxyyyxyxxy

Swapping the fragments between the two parents produces the following offspring: 11010yxxyyyxyxxy and yxyyx01100101101. After recombination, we can apply a mutation operator. For each bit in the population, mutate with some low probability .

Typically the mutation rate is applied with 0.1% - 1% probability. After the process of selection, recombination and mutation is complete, the next population can be evaluated. The process of valuation, selection, recombination and mutation forms one generation in the execution of a genetic algorithm.

5.1.2 Strengths The power of GAs comes from the fact that the technique is robust and can deal successfully with a wide range of difficult problems. GAs is not guaranteed to find the global optimum solution to a problem, but they are generally good at finding "acceptably good" solutions to problems "acceptably quickly". Where specialized techniques exist for solving particular problems, they are likely to outperform GAs in both speed and accuracy of the final result. Even where existing techniques work well, improvements have been made by hybridizing them with a GA. The basic mechanism of a GA is so robust that, within fairly wide margins, parameter settings are not critical.

5.1.3 Weaknesses A problem with GAs is that the genes from a few comparatively highly fit (but not optimal) individuals may rapidly come to dominate the population, causing it to converge

36

on a local maximum. Once the population has converged, the ability of the GA to continue to search for better solutions is effectively eliminated: crossover of almost identical chromosomes produces little that is new. Only mutation remains to explore entirely new ground, and this simply performs a slow, random search.

5.2 Hybrid Genetic Algorithm

5.2.1 Introduction The performance of a genetic algorithm, like any global optimization algorithm, depends on the mechanism for balancing the two conflicting objectives, which are exploiting the best solutions found so far and at the same time exploring the search space for promising solutions. The power of genetic algorithms comes from their ability to combine both exploration and exploitation in an optimal way. However, although this optimal utilization may be theoretically true for a genetic algorithm, there are problem in practice. These arise because Holland assumed that the population size is infinite, that the fitness function accurately reflects the suitability of a solution, and that the interactions between genes are very small.

In practice, the population size is finite, which influences the sampling ability of a genetic algorithm and as a result affects its performance. Incorporating a local search method within a genetic algorithm can help to overcome most of the obstacles that arise as a result of finite population sizes. Incorporating a local search method can introduce new genes which can help to combat the genetic drift problem caused by accumulation of stochastic errors due to finite populations (genetic drift is the random change in the genetic composition of a population due to chance events causing unequal participation of individuals in producing succeeding generations. Along with natural selection, genetic drift is a principal force in evolution). It can also accelerate the search towards the global optimum, which in turn can guarantee that the convergence rate is large enough to obstruct any genetic drift.

37

Due to its limited population size, a genetic algorithm may also sample bad representatives of good search regions and good representatives of bad regions. A local search method can ensure fair representation of the different search areas by sampling their local optima, which in turn can reduce the possibility of premature convergence. A finite population can cause a genetic algorithm to produce solutions of low quality compared with the quality of solution that can be produced using local search methods. The difficulty of finding the best solution in the best found region accounted for the genetic algorithm operators inability to make small moves in the neighborhood of current solution. Utilizing a local search method within a genetic algorithm can improve the exploiting ability of the search algorithm without limiting its exploring ability. If the right balance between global exploration and local exploitation capabilities can be achieved, the algorithm can easily produce solutions with high accuracy.

Although the genetic algorithms can rapidly locate the region in which the global optimum exists, they take relatively long time to locate the exact local optimum in the region of convergence. A combination of genetic algorithm and a local search method can speed up the search to locate the exact global optimum. In such a hybrid, applying a local search to the solutions that are guided by a genetic algorithm to the most promising region can accelerate convergence to the global optimum. The time needed to reach the global optimum can be further reduced if local search methods and local knowledge are used to accelerate to locating the most promising search region in addition to locating the global optimum starting within its basin of attraction.

38

Initial Population Objective Function Selection Crossover Mutation

Has the generation limit been exceeded? Yes Optimal vector

No

Gradient search

Yes

Has augmented objective function changed? No Final solution Figure 7: Hybrid genetic algorithm

In the present study the optimal parameters of the dynamic models are determined using hybrid genetic algorithm. As shown in Figure 7, the algorithm is a combination of the genetic algorithm and the gradient search (local search method). The hybrid genetic algorithm steps used for discrete time domain approaches in this study are based on Upreti and Ein-Mozaffari (2006) presented algorithm. The hybrid genetic algorithm steps

39

used for continuous time domain approach were given by Patel et al. (2007). The objective function, constraint, mapping, and input variables used in this hybrid genetic algorithm are given in next section.

Objective function The objective function used in this simulation is given by:

Mapping For any optimization parameter, a mapping relates the binary-coded deviation and the mean parameter value a vector to the parameter value . Thus, a mapping provides in its population.

corresponding to each binary-coded deviation vector

The presented optimization algorithm (Upreti, 2006) uses the following logarithmic and linear mappings:

Logarithmic Mapping The purpose of logarithmic mapping is to emphasize relative precision (Coley, 1999b) within the elements of X. For any optimization parameter, the logarithmic mapping provides the value, where,

If If

In Equation 52, b is logarithmic base and minimum values of the parameter,

and

are the maximum and is the value of the domain

. In Equation 53,

40

between the limits of any i-th element of i.e.

and , and .

is the number of representative bits for

Linear Mapping The linear mapping is straightforward, and given by

Inputs The presented optimization algorithm needs the following inputs: (1) The mathematical model and its parameters for the calculation of objective function; (2) The number of optimization parameters (3) The minimum values , and constraints;

of control domain, its maximum value and a factor to vary the size of control domain;

(4) A seed number to generate pseudo-random numbers; The following parameters for the genetic operations of selection, crossover, and mutation: (a) The number of bits for each optimization parameter for each i.e each optimization parameter

(b) The number of cross-over sites (c) The probability of cross-over (d) The probability of mutation (e) The power index

to select objective function every iteration

(f) The number of genetic generations

The hybrid optimization algorithm developed in the above section was applied to the optimization problem for above mentioned three dynamic models. A multi-parameter mapped coding (Goldberg, 1989) was employed for the binary representation of the optimization parameters.

41

5.2.2 Steps of algorithm Following is the hybrid genetic algorithm: (1) Initialize, (a) , the vector of mean value of optimization parameters using,

where

in equation (24) is the -th pseudo-random number obtained

from a pseudo-random number generator (Knuth, 1973). (b) a population of binary-coded deviation vectors using the

pseudo- random number generator; (c) the parameter domain, . parameter. (d) and based on empirical conditions. for each optimization

(2) Set logarithmic mapping for the genetic operations of selection, crossover, and mutation. (3) Generate an optimal vector by repeating the following consecutive operations on the population of for generation:

i. Objective function

evaluation for each

, ,

ii. Selection based on the scaled objective function iii. Crossover with probability iv. Mutation with probability , ,

(4) Obtain the vector, , and corresponding operators. Set the counter, Set

generated so far using genetic and .

(5) For gradient search, the augmented function based on the interior penalty function (Rao, 1996) is given by: for Ein-Mozaffaris dynamic model

42

for Patels dynamic model

for Soltanzadehs dynamic model

where is a small positive number. Equation (56), Equation (57), Equation (58), incorporates the inequality constraints, i.e., equation (16) - (18). incorporates the inequality constraints, i.e., equation (33) - (35). incorporates the inequality constraints, i.e., equation (44) - (46).

The derivatives required for the gradient search are provided in Appendix. Set in this step. (6) Set the gradient search counter, Set and calculate the

corresponding augmented objective function (7) Calculate the vector of the partial derivatives of

for the gradient search. , i.e.,

By using equations (20) ­ (26) for Ein-Mozaffaris dynamic model. By using equations (47) ­ (50) for Patels dynamic model. By using equations (37) ­ (43) for soltanzadehs dynamic model. If (8) Calculate then set and go to step 12.

along the steepest descent direction as follows:

Where

is some positive function. Calculate the corresponding

.

43

(9) If (10) If

then set then set

, and and

and go to step 12.

and go to step 12. (11) Set (12) Calculate and go to step 7. corresponding to If then set , and

and go to step 15. (13) Set , and go to step 15. (14) Reduce the penalty term by setting for, Equation (56) of Ein-Mozaffaris dynamic model in discrete time domain, Equation (57) of Patels dynamic model in continuous time domain, and Equation (58) of Soltanzadehs dynamic model in discrete time domain. Where Step 6. (15) Store the resulting optimal value of objective function optimal vector (16) Replace by . , and corresponding is some positive fraction. Set , and go to If , or then

(17) Repeat Steps 3 ­ 16 once with linear mapping. (18) For each optimization parameter: i. If is equal to either or , set the size variation factor for control

domain, contraction of ii. Set . If

. (This step allows the alternation of the successive with its successive expansion.) , set . If within its limits.) is negligible. set

(This step allows the variation of (19) Go to Step 2 until the iterative change in

44

5.3 Experimental overview The experimental data used in this work were gathered by Saeed et al. (2008). A complete system was designed to investigate the continuous-flow mixing process (Figure 8).

4 1 10 9 2
2 2

4 8 3

9

5

11 7 6
2 2

6
2 2

Figure 8: Schematic of experimental setup

1 Tracer Tank, 2 Injection pump, 3 Solenoid valve, 4 Computer, 5 Feed tank, 6 Progressive cavity pump, 7 Flow through conductivity sensor and transmitter, 8 Mixing vessel, 9 Rotary torque transducer with an encoder disk, 10 Motor, 11 Discharge tank.

The major component of the mixing system is the mixing vessel. A flat-bottomed cylindrical, tank with a volume of 0.075 m3 was used (internal diameter 40 cm and height 60 cm). The tank was equipped with four baffles (4 cm wide and 1.2 cm thick) whose

45

lengths were equal to the tank height. The tank was supplied with a, 2.5 cm diameter topentry shaft driven by a 2 hp motor (Neptune Chemical Pump Co., USA). Impeller torque was measured with a torque meter (Staiger Mohilo, Germany) equipped with an encoder disk to measure impeller speed. Impeller speed was also checked with a tachometer.

The second part of the experimental setup was flow system, consisting of feed section and discharge section. Each section contains a 0.3 m3 cylindrical tank and a progressive cavity pump (Moyno Industrial Products, USA). Mixing tank liquid level was kept constant at 41 1 cm. To maintain this constant level, inlet flow-rate was kept constant and the outlet flow-rate was manipulated to adjust liquid level in the tank.

The third part of the experimental system was the tracer injection unit. To study the dynamic of continuous mixing, a tracer was injected in the input stream by using a metering pump (Milton Roy, USA). The tracer was prepared in a 0.06 m3 plastic tank (1). The injection of the tracer was controlled by a solenoid valve (3) (Ascolectric Ltd., Canada). The conductivity variation in inlet and outlet streams of the mixing vessel were measured using two flow-through conductivity meter.

The last part of the experimental setup was the data acquisition system (4). This system was able to record impeller torque and both input and output conductivity readings. Data acquisition system was controlled by using LABVIEW software (National Instruments, USA).

The xanthan gum solution was pumped from feed tank through a cylindrical mixing vessel and into the discharge tank. The mixing vessel was equipped with a top entry impeller. The dynamic tests were performed by injecting a tracer (saline solution) through a computer controlled solenoid valve into the xanthan gum feed. The conductivity of input and output streams were measured with flow through conductivity sensors and analyzed.

46

The process variables used in the experiment were impeller speed, fluid mass concentration, fluid flow rate, and input/output location. The ranges of experimental variables used in the simulation are given in Table 1.

Table 1 Variables used in experimental work. Variables A200 impeller Speed, (rpm) Xanthan gum mass concentration Xanthan gum flow rate, L/h Input and output location Range 50 to 700 0.5%, 1.0%, 1.5% 227, 603, 896

Configuration 1

Configuration 2

5.4 Rheology of xanthan gum

Xanthan gum is a high-molecular-weight extracellular polysaccharide. It is soluble in cold water and it has a wide range of applications. Xanthan gum applications are split approximately 50/50 between food and non food. Non-food applications include oil field, personal care, pharmaceutical and home care. Typical food applications include sauces and dressings, baked goods, beverages, desserts and ice creams (Imenson., 2010).

47

The xanthan gum solution exhibit Newtonian viscosity at very low shear rates, followed by a pseudoplastic region as shear rate increases and, finally, an upper Newtonian viscosity at very high shear rates. These rheological properties translate into the very effective suspending and flow properties exhibited by xanthan gum solutions. Xanthan gum is a very effective thickner and stabilizer compared to other hydrocolloids (Imenson., 2010).

In this study, parameters of the dynamic models were identified by using the technique (hybrid genetic algorithm) developed by Upreti and Ein-Mozaffari (2006). The discrete time domain approach and continuous time domain approach were used for identification. The simulation was done in three ways: dynamic model with 2 time delays (EinMozaffari et al., 2004) in discrete time domain, dynamic model with 2 time delays (Patel et al., 2007) in continuous time domain, and dynamic model with 1 time delay (Soltanzadeh et al., 2008) in discrete time domain. The constraint used for parameters are given in Appendix. The sensitivity analysis was done in order to check influence of parameters on dynamic model (Ein-Mozaffari et al., 2004) results. One-at-a-time analysis (D. M. Hamby, 1994) method was used to check sensitivity of dynamic model parameters. The experimental data used in this study were for cylindrical mixing vessel and pseudoplastic fluids with yield stress material (xanthan gum solutions).

48

CHAPTER 6

RESULTS AND DISCUSSION

Two parameters were used here to quantify the performance of the continuous mixing: f, the fraction of fluid short-circuiting or channeling in the mixing vessel, and , the

ratio of the fully mixed volume to the total volume of the fluid in the mixing vessel. The primary mixing occurs in the mixing zone; hence the volume ratio is given by: [EinMozaffari et al., 2002]

where Q is the fluid flow rate through the mixing vessel and

is the total volume of

the fluid in the mixing vessel. The effect of recirculation was not observed in the dynamic response of laboratory scale mixing, thus R (recirculation) was set to zero in this study. The hybrid genetic algorithm was employed to compare the dynamic parameters for the following models using the input-output data:   

Dynamic model with 2 time delays in discrete time domain, (Figure 2) Dynamic model with 2 time delays in continuous time domain, (Figure 3) Dynamic model with 1 time delay in discrete time domain, (Figure 4)

6.1 Model validation In this study the dynamic models were validated in two steps. In the first step, we identified the dynamic model parameters using the first set of data. In the second step, using the parameters obtained from the first step, we simulated the second dataset in order to compare the model output with experimental (real system) output. The second dataset had the same experimental conditions as the first dataset but different input signal.

49

Figure 9 shows the experimental input, experimental output and above mentioned three dynamic model predicted outputs for the two steps of model validation. The experimental conditions for the data shown in Figure 9 are: A200 impeller type, 250 rpm impeller speed, 0.5% mass concentration of xanthan gum, and 227 L/h fluid flow rate. Figure 9 a and b show that the predicted outputs using the dynamic model with 2 time delays in discrete time domain (Ein-Mozaffaris model) were in good agreement with the experimental outputs for first and second dataset, respectively. Figure 9 c and d show that the predicted outputs through the dynamic models with 2 time delays in continuous time domain (Patels model) were in good agreement with the experimental outputs for first and second dataset, respectively. Figure 9 e and f show that the predicted outputs using the dynamic model with 1 time delay in discrete time domain were not in good agreement with the experimental outputs for first and second dataset, respectively. The predicted parameters by dynamic models for first set of data are given in Table 2.

Model validation shows that the dynamic models with 2 time delays in both discrete and continuous time domain were able to represent accurately the dynamic behavior of the continuous mixing system. While the dynamic model with 1 time delay in discrete time domain little poorly represented the dynamics of the continuous mixing system. The extent of channeling predicted by the dynamic model with 1 time delay in discrete time domain was 15.02% instead of 23.30% (saeed et al., 2008).

Table 2 Predicted parameters by the dynamic models for first set of data. Parameters Ein-Mozaffaris Model Patels Model Solatanzadehs Model 40 40 60 197 197 --0.9893 0.9893 0.998 0.9989 0.9989 0.9988 0.2301 0.2348 0.1502

50

(a) 5 Conductivity (mS) 4 3 2 1 0 0 (b) 25 Conductivity (mS) 20 15 10 5 0 (c) 5 Conductivity (mS) 4 3 500 1000 Time (s) 1500 2000 2500 500 1000 Time (s) 1500 2000 2500

2
1 0 0 500 1000 Time (s) 1500 2000 2500

51

(d)

25
Conductivity (mS) 20 15 10 5 0 0 (e) 5 Conductivity (mS) 500 1000 Time (s) 1500 2000 2500

4
3 2 1 0 0 500 1000 Time (s) 1500 2000 2500

(f) 25 Conductivity (mS) 20 15 10 5 0 1500 2000 Time (s) Figure 9: Predicted outputs using 3-dynamic model in model validation, Experimental input signal (Dark gray line), Experimental output signal (Gray line), and dynamic model predicted output (Black line).
52

0

500

1000

2500

6.2 Model predicted output

Figure 10 shows the experimental input, experimental output, dynamic model predicted output for above mentioned dynamic models. The experimental conditions for the data shown in Figure 10 are: A200 impeller type, 150 rpm impeller speed, 1.5% mass concentration of xanthan gum, and 896 L/h fluid flow rate. Figure 10 shows that the simulation results of the dynamic models with 2 time delays in both discrete time domain and continuous time domain were in good agreement with the experimental output, while the predicted outputs using the dynamic model with 1 time delay were not in good agreement with the experimental output. The dynamic model with 1 time delay

considered that material takes equal time in both short-circuiting and mixing zones, to pass from inlet to outlet of the mixing vessel. Because of this assumption, the predicted output shows deviation from the experimental output. Generally in the short-circuiting zone fluid leaves the mixing vessel sooner than the fluid in the mixing zone.

The dynamic models with 2 time delays have two separate time delays for shortcircuiting zone and mixing zone, hence they captured well the dynamics of both shortcircuiting and mixing zones. The root mean square error between the models predicted output and experimental output are: 7.35% for the model with 2 time delays in discrete time domain, 7.36% for the model with 2 time delays in continuous time domain, and 18.37% for the model with 1 time delay in discrete time domain. When the channeling is high, the dynamic model with 1 time delay was not predict correctly the extent of shortcircuiting and fully-mixed volume for the continuous mixing systems.

53

(a) 4 Conductivity (mS) 3 2 1 0 (b) 4 200 400 Time (s) 600 800 1000

Conductivity (mS)

3
2 1 0 200 400

Time (s)

600

800

1000

(c) 4 Conductivity (mS)

3

2

1 0 200 400 Time (s) Figure 10: Predicted outputs using 3-dynamic models, Experimental input signal (Dark gray line), Experimental output signal (Gray line), and dynamic model predicted output (Black line).
54

600

800

1000

6.3 Effect of impeller speeds on the extent of channeling and fully mixed volume

Figure 11 shows the results predicted by dynamic model with 2 time delays in discrete time domain (Ein-Mozaffaris model), dynamic model with 2 time delays in continuous time domain (Patels model), and dynamic model with 1 time delay in discrete time domain (Soltanzadehs model). The experimental conditions for the data shown in Figure 11 are: A200 impeller type, 1.5% mass concentration of xanthan gum, and 227 L/h fluid flow rate. It can be seen that f and values computed by the dynamic models with

2 time delays in both discrete time domain and continuous time domain, are in good agreement with those reported by saeed et al., (2008). However, the results predicted by dynamic model with 1 time delay deviates from those reported by saeed et al., (2008) especially at N < 200 rpm.

Figure 11 shows that f (channeling) decreased and the ratio

increased as the

impeller speed increased. The mixing zone in the mixing vessel progressively increases as the impeller speed increases. As a result, the short-circuiting in the mixing vessel decreases. The results predicted by dynamic models with 2 time delays, in both discrete and continuous time domain show good agreement with experimental results from higher to lower impeller speed. However, results predicted by the dynamic model with 1 time delay show that as the impeller speed increases from100 rpm to 150 rpm and from 200 rpm to 250 rpm, f increases and increases f decreases and decreases. We expect that as the impeller speed increases. Thus, some of the results obtained from the

dynamic model with 1 time delay contradict those predicted by the dynamic models with 2 time delays. The dynamic model with 1 time delay underestimates f (channeling) and overestimates especially at lower impeller speed. When the channeling is high,

the dynamic model with 1 time delay was not predict correctly the extent of channeling and fully-mixed volume for the continuous mixing systems. Table 3 shows the CPU time taken for simulation, by above mentioned three dynamic models.

55

(a) 0.8 0.7 0.6 0.5 0.4 f 0.3 0.2 0.1
Saeed's Data (2008) Ein-Mozaffari's Model (2004) Patel's Model (2007) Soltanzadeh's Model (2008)

0
0 100 200 300 400 Impeller Speed (rpm) 500 600 700

(b)

1 0.8 Vfm / Vt 0.6 0.4 0.2 0 0 100 200 300 400 500 Impeller Speed (rpm) 600 700
Saeed's Data (2008) Ein-Mozaffari's Model (2004) Patel's Model (2007) Soltanzadeh's Model (2008)

Figure 11: Predicted results using 3-dynamic models at different impeller speeds

56

Table 3 Comparison of time taken for simulation by computer (Pentium (R) 4 CPU 3 GHz, 0.99 GB of RAM), For specified search intervals of parameters. The experimental conditions are: A200 impeller, 1.5% xanthan gum solution, and 227 L/h fluid flow rate. rpm Model with 1 time delay in discrete time domain, simulation time in s. Model with 2 time delays in discrete time domain, simulation time in s. Model with 2 time delays in continuous time domain, simulation time in s. Sampling time in s.

50 100 150 200 250 300 400 500 600 700

206.54 121.27 192.14 232.22 218.24 205.37 165.73 98.42 123.19 125.93

386.08 344.30 398.84 483.53 400.47 416.86 383.81 373.02 313.21 292.24

3184.19 1069.38 1066.38 1230.48 1116.93 1448.92 1525.61 2321.13 1797.88 1923.46

2071 2319 2249 2299 2290 2239 2174 2299 2309 2379

57

Table 4 shows the root mean square errors obtained with dynamic model with 1 time delay in discrete time domain, for given search interval of parameters. The experimental conditions for the data shown in Table 4 are: A200 impeller type, 1.5% mass concentration of xanthan gum, and 227 L/h fluid flow rate. Minimum root mean square error indicates the optimum values of the f (channeling), within given search interval of parameters (Appendix). Table 4 a shows that for a given experimental conditions, the dynamic model with 1 time delay in discrete time domain predicted optimum channeling has the range of minimum root mean square error. Table 4 b shows root mean square errors obtained with the dynamic model with 1 time delay in discrete time domain, for different parameters of the genetic algorithm. It can be seen that for given search interval of parameters, the predicted channeling by the dynamic model with 1 time delay in discrete time domain are optimum values.

Table 4 Root mean square errors obtained from the dynamic model with 1 time delay in discrete time domain, for the given search region of parameter f (a) 0.7, 0.04, f = 0.2 0.4 0.118 0.365 0.456 0.314 0.246 0.512 0.245 0.693 0.797 0.637 f = 0.4 0.6 1.160 3.670 4.650 3.560 2.470 5.530 5.690 1.240 1.210 1.080 80 f = 0.6 0.8 1.170 0.367 0.465 0.359 0.294 0.820 0.946 1.770 1.700 1.560 f = 0.8 1.0 1.260 0.368 0.465 0.360 0.317 1.130 1.390 2.340 2.230 2.000 Predicted Experimental f f 0.510 0.264 0.344 0.206 0.376 0.275 0.111 0.080 0.050 0.020 0.715 0.642 0.594 0.492 0.409 0.336 0.188 0.117 0.028 0.003

RPM f = 0 - 0.2

50 100 150 200 250 300 400 500 600 700

1.270 0.367 0.465 0.315 0.285 0.564 0.156 0.613 0.577 0.487

58

(b)

0.95,

0.04, RPM 50 100 150 200 250 300 400 500 600 700 f=0-1 1.160 0.367 0.465 0.301 0.246 0.512 0.167 0.619 0.577 0.487

120 Predicted Experimental f f 0.516 0.289 0.332 0.205 0.377 0.275 0.117 0.080 0.050 0.020 0.715 0.642 0.594 0.492 0.409 0.336 0.188 0.117 0.028 0.003

6.4 Effect of xanthan gum mass concentration on the extent of channeling and fully mixed volume

Figure 12 shows the extent of channeling and fully mixed volume predicted by three dynamic models at different xanthan gum mass concentrations (0.5%, 1.0%, and 1.5%) as a function of impeller speed. The experimental conditions for the data shown in Figure 12 are: fluid flow rate 603 L/h and different speed of impeller A200. The data reported by Saeed et al., (2008) for different xanthan gum mass concentrations show that f (channeling) increased and the ratio decreased as suspension concentration

increased at a fixed impeller speed. Energy delivered by the impeller will be quickly dissipated in the concentrated xanthan gum solution without producing enough mixing in the vessel, leading to higher f (channeling) and lower values.

59

(a) 0.5%Xanthan gum solution
0.7 0.6 0.5 0.4
Saeed's Data (2008) Ein-Mozaffari's Model (2004) Patel's Model (2007) Soltanzadeh's Model (2008)

f
0.3 0.2 0.1 0

0

100

200 300 Impeller Speed (rpm)

400

500

(b) 0.5%Xanthan gum solution

1 0.8 Vfm / Vt 0.6 0.4 0.2 0 0 100 200 300 Impeller Speed (rpm) 400 500
Saeed's Data (2008) Ein-Mozaffari's Model (2004) Patel's Model (2007)

Soltanzadeh's Model (2008)

60

(c) 1.0% Xanthan gum solution 0.8 0.7
Saeed's Data (2008) Ein-Mozaffari's Model (2004) Patel's Model (2007) Soltanzadeh's Model (2008)

0.6
0.5 0.4 0.3 0.2 0.1 0 0 100 f

200 300 400 Impeller Speed (rpm)

500

600

(d) 1.0% Xanthan gum solution

1 0.8 Vfm / Vt

0.6
0.4 0.2 0 0 100 200 300 400 Impeller Speed (rpm) 500 600
Saeed's Data (2008) Ein-Mozaffari's Model (2004) Patel's Model (2007) Soltanzadeh's Model (2008)

61

(e) 1.5% Xanthan gum solution 0.8 0.7 0.6 0.5 0.4 0.3 0.2 0.1 0 0 100 200 300 400 500 Impeller Speed (rpm) 600 700
Saeed's Data (2008) Ein-Mozaffari's Model (2004) Patel's Model (2007) Soltanzadeh's Model (2008)

(f) 1.5% Xanthan gum solution

f
Vfm / Vt

1 0.8 0.6 0.4 0.2 0 0 100 200 300 400 500 Impeller Speed (rpm) 600 700
Saeed's Data (2008) Ein-Mozaffari's Model (2004) Patel's Model (2007) Soltanzadeh's Model (2008)

Figure 12: Predicted results using 3-dynamic models at different mass concentrations.

62

Figure 12 b shows that as the impeller speed increased from 150 rpm to 200 rpm, decreased, based on the results predicted by the dynamic model with 1 time delay in discrete time domain. Figures 12 c and d shows that as the impeller speed increased from 50 rpm to 150 rpm, f (channeling) increased and decreased, for

the results obtained from the dynamic model with 1 time delay in discrete time domain. Figure 12 e shows that as the impeller speed increased from 150 rpm to 200 rpm, f (channeling) increased based on the results computed by the dynamic model with 1 time delay in discrete time domain. It can be seen that the dynamic model with 1 time delay was not predict correctly the extent of f and fully mixed volume as a function of impeller speed especially at the lower impeller speed. The estimated values by the dynamic model with 2 time delays in both discrete and continuous time domain show that as the impeller speed increased the f (channeling) decreased and increased.

Figure 12 shows when mass concentration increases from 0.5% to 1.5%, at a fixed impeller speed (50 rpm), f (channeling) decreased and increased based on the

results obtained from the dynamic model with 1 time delay in discrete time domain. We expect that at a specified impeller speed, as the xanthan gum mass concentration increases, f (channeling) increases and decreases. However the results estimated

by the dynamic model with 1 time delay in discrete time domain contradict those results reported by saeed et al., (2008). Because of the assumption of the equal time delays, the dynamic model with 1 time delay underestimates f (channeling) and overestimates . When the channeling is high, the dynamic model with 1 time delay is not capturing well the effect of xanthan gum concentration and impeller speed on the dynamics of continuous mixing. Figure 12 shows that the dynamic models with 2 time delays in both discrete time domain and continuous time domain were able to predict well the effect of xanthan gum mass concentration on the dynamic behavior of the continuous flow mixing system.

63

6.5 Effect of fluid flow rates on the extent of channeling and fully mixed volume

Figures 11, 12 e - f, and 13 shows the extent of channeling and fully mixed volume predicted by three dynamic models at different flow rates (227 L/h, 603 L/h, and 896 L/h) as a function of A200 impeller speed at 1.5% xanthan gum concentration. It can be seen that based on the results reported by saeed et al., (2008), f (channeling) increased and decreased as the fluid flow rate increased at a fixed impeller speed. Increasing the flow rate reduces the mean residence time in the vessel, forcing the material to leave the vessel faster without going into the well-mixed region close to the impeller. Figure 13 a and b show that as the impeller speed increased from 150 rpm to 200 rpm, f increased and decreased, based on the results computed by the dynamic model

with 1 time delay in discrete time domain. When fluid flow rate increased from 227 L/h to 603 L/h, Figure 11 and 12 e-f show that at a fixed impeller speed (e.g. 50 rpm and 100 rpm) f decreased and increased, based on the results computed by the dynamic

model with 1 time delay in discrete time domain. We expect that at a fixed impeller speed, as the fluid flow rate increases, f increases and decreases. However the

results predicted by the dynamic model with 1 time delay in discrete time domain contradict those reported by saeed et al., (2008).

The extent of f (channeling) and

predicted by the models with 2 time delays

in both discrete time domain and continuous time domain show that as the impeller speed increased f decreased and increased. f and ratio , predicted by the models

with 2 time delays show that as the fluid flow rate increased the f increased and decreased. When the channeling and fluid concentration are high, the dynamic model with 1 time delay is not capable of capturing the effect of fluid flow rate and impeller speed on the dynamics of continuous mixing. Figures 11, 12 e - f, and 13 shows the predicted results of dynamic models with 2 time delays in both discrete time domain and continuous time domain, are in good agreements with the data reported by saeed et al., (2008).

64

(a) 0.9 0.8 0.7 0.6 0.5 f 0.4 0.3 0.2 0.1 0 0 100 200 300 400 500 Impeller Speed (rpm) 600 700
Saeed's Data (2008) Ein-Mozaffari's Model (2004) Patel's Model (2007)

Soltanzadeh's Model (2008)

(b)

1 0.8 Vfm / Vt

0.6
0.4 0.2 0 0 100 200 300 400 500 Impeller Speed (rpm) 600 700
Saeed's Data (2008) Ein-Mozaffari's Model (2004) Patel's Model (2007) Soltanzadeh's Model (2008)

Figure 13: Predicted results using 3-dynamic models for 896 L/h flow rate.

.
65

6.6 Effect of different output locations on the extent of channeling and fully mixed volume

Figure 14 shows the effect of the outlet location on the degree of f and

, predicted

by three dynamic models. The outlet locations are: (a) Configuration 1 with bottom outlet and (b) Configuration 2 with side outlet (Table 1). The experimental conditions for the data shown in Figure 14 are: xanthan gum mass concentration 0.5%, flow rate 227 L/h, A200 impeller. Configuration 1 gave the lower value of f and the higher value of for a given impeller speed. Configuration 2 (where the exit location is on the side of the vessel) enables a large percentage of feed to be conveyed directly to the exit location, without being drawn into the mixing zone. In Configuration 1, however, the feed is forced to flow through the mixing zone before leaving the vessel.

Figures 14 a and b show that as the impeller speed increased from 200 rpm to 250 rpm, f (channeling) increased and decreased based on the results obtained from

the dynamic model with 1 time delay. Figure 14 c and d show that as the impeller speed increased from 200 rpm to 250 rpm, f (channeling) increased for the results predicted by the dynamic model with 1 time delay. The dynamic model with 1 time delay underestimates the extent of f (channeling) and overestimates the extent of . The

predicted values by the dynamic model with 1 time delay show that a large percentage of feed passed through the mixing zone instead of the short-circuiting zone for Configuration 2. At impeller speeds 150 rpm and 200 rpm, the predicted results by the dynamic model with 1 time delay in discrete time domain showed that channeling were 20.57% and 20.01%, respectively, while the results reported by saeed et al., (2008) were 58 % and 44.8%, respectively. Figure 14 shows that the dynamic models with 2 time delays in discrete time domain and continuous time domain were able to accurately capture the effect of outlet locations on the dynamic behavior of the continuous mixing system. While the dynamic model with 1 time delay in discrete time domain was not able to capture the effect of outlet location.

66

(a) Configuration 1 0.6
Saeed's Data (2008)

0.5 0.4 0.3 0.2 0.1 0 0 100 f

Ein-Mozaffari's Model (2004) Patel's Model (2007) Soltanzadeh's Model (2008)

200 300 Impeller Speed (rpm)

400

500

(b) Configuration 1

1 0.8 0.6 Vf m / Vt 0.4 0.2 0 0 100

Saeed's Data (2008) Ein-Mozaffari's Model (2004) Patel's Model (2007) Soltanzadeh's Model (2008)

200 300 Impeller Speed (rpm)

400

67

(c) Configuration 2

0.8 0.7 0.6
Saeed's Data (2008) Ein-Mozaffari's Model (2004) Patel's Model (2007) Soltanzadeh's Model (2008)

0.5
0.4 0.3 0.2 0.1 0 0 100 200 Impeller Speed (rpm) f

300

400

(d) Configuration 2

1 0.8 Vfm / Vt 0.6 0.4
Saeed's Data (2008) Ein-Mozaffari's Model (2004) Patel's Model (2007) Soltanzadeh's Model (2008)

0.2
0 0 100 200 Impeller Speed (rpm)

300

400

Figure 14: Predicted outputs by using 3-dynamic models for different output locations
68

6.7 Sensitivity analysis

It was observed that the predicted results by the dynamic models with 2 time delays gave a better match with the experimental results than those computed by using the dynamic model with 1 time delay. In order to study the effect of the dynamic model parameters on the dynamic model response, sensitivity analysis was done for the dynamic model with 2 time delay in discrete time domain. Figure 15 shows the sensitivity analysis plots for the parameters of the Ein-Mozaffari et al. (2004) dynamic model. The experimental conditions for the data shown in Figure 15 are: xanthan gum mass concentration 1.0%, flow rate 603 L/h, A200 impeller, 100 rpm and 500 rpm impeller speed.

Figure 15 a shows that

is more sensitive at lower impeller speed (N = 100 rpm) is more sensitive at higher

when mixing is far from ideal. Figure 15 b shows that

impeller speed (N = 500 rpm) when the mixing quality approaches to ideal. It was observed that as the channeling increases or fully-mixed volume decreases, the sensitivity of parameter increases, and as the channeling decreases or fully-mixed volume increases. Figure 15 c shows that the parameter

increases, the sensitivity of parameter

is more sensitive in the case of high channeling than low channeling. As the channeling increases or fully-mixed volume decreases the sensitivity of parameter increases. Figure 15 d shows that the parameter is more sensitive in the case of low

channeling than high channeling. As the channeling decreases, the sensitivity of parameter increases on the dynamic model results. It was observed that the parameter

became dominant parameter when mixing approached to an ideal mixing.

.

69

(a) 3.00E-01 2.50E-01 2.00E-01 rms 1.50E-01 1.00E-01 5.00E-02 0.00E+00 0 10 20 30 d1 40 50 60 70 100 rpm 500 rpm

(b)

3.00E-01 100 rpm 2.50E-01 2.00E-01 rms 1.50E-01 1.00E-01 5.00E-02 0.00E+00 0 20 40 60 80 100 120 140 160 500 rpm

d2

70

(c) 3.00E-01

2.50E-01
2.00E-01 rms 1.50E-01 1.00E-01 5.00E-02 0.00E+00 0.5

100 rpm 500 rpm

0.55

0.6

0.65

0.7 a1

0.75

0.8

0.85

0.9

0.95

1

(d) 3.00E-01 100 rpm 2.50E-01 2.00E-01 rms 1.50E-01 1.00E-01 5.00E-02 0.00E+00 0.98

500 rpm

0.985 a2

0.99

0.995

1

Figure 15: Sensitivity analysis

71

72

CHAPTER 7

CONCLUSION AND RECOMMENDATION FOR FUTURE WORK

7.1 Conclusion The characterization parameters for the continuous mixing of xanthan gum solutions were determined. The dynamic models with 2 time delays were able to predict well the effect of process variables (e.g. impeller speed, mass concentration, flow rate, output location) on the dynamic behavior of the continuous flow mixing system. The dynamic responses computed using the dynamic models with 2 time delays in both discrete time domain and continuous time domain showed excellent agreement with the experimental results.

The simplified dynamic model with 1 time delay in discrete time domain, underestimated (channeling) and overestimated mixing. , especially when the mixing was far from ideal

The sensitivity analysis with respect to dynamic model parameters indicated that the parameters representing the short-circuiting zone were sensitive toward the model predicted results when the channeling was high. The parameters representing the mixing zone were sensitive toward the model-predicted results when the continuous mixing of xanthan gum solutions approached ideal mixing.

73

7.2 Recommendations for future work

The following are suggestions for future investigations:

1. Estimate dynamic model parameters by using standard PEM (prediction-error minimization) function in MATLAB identification toolbox and compare with the parameters predicted in this work

2. Determine parameters sensitivity on the dynamic model predicted results by using other methods for sensitivity analysis

3. Estimate dynamic model parameter by using hybrid genetic algorithm for industrial data of continuous mixing of non-Newtonian fluids.

74

REFERENCES Bennington, C. P. J., Kerekes, R. J. and Grace, J. R., 1990, "The Yield Stress of Fiber Suspensions" can J Chem. Eng, 68, pp. 784-757.

Brown, J.R., 1968, The dynamic behavior of paper mill stock chests, Sought Pulp and Paper Manufac, 31: 103-112. Carlos A. Smith., Armando B. Corripio., 1997, "Principles and Practice of Automatic Process Control" second edition. Chap. 1- 4, 9, 14. Coley, D.A., 1999 "An Introduction to Genetic Algorithms for Scientists and Engineers" World Scientific, New Jersey, USA.

Ein-Mozaffari, F., 2002, Macroscale mixing and dynamic behavior of agitated pulp stock chests. PhD thesis, Dept of Chem & Bio Eng, University of British Columbia, Vancouver, Canada.

Ein-Mozaffari, F., L. C. Kammer, C. P. J. Bennington and G. A. Dumont., 2003, "Performance and Design of Agitated Pulp Stock Chests", Appita Journal, 56(2), pp. 127133 Ein-Mozaffari, F., L. C. Kammer, C. P. J. Bennington and G. A. Dumont., 2004, " The Effect of Operating Conditions and Design Parameters on the Dynamic Behavior of Agitated pulp Stock Chests", Canadian Journal of Chemical Engineering, 82(1), pp.154161.

Ein-Mozaffari, F., L.C.Kammer, C. P. J. Bennington and G. A. Dumont., 2003, "Dynamic Modeling of Agitated pulp stock Chests", TAPPI Journal, 2(9), pp. 13-17.

75

Ein-Mozaffari, F., C. P. J. Bennington. and G. A. Dumont., 2005, " Suspension Yield Stress and the Dynamic Response of Agitated Pulp chests", Chemical Engineering Science, 60, pp. 2399-2408. Ein-Mozaffari,F., C. P. J. Bennington. and G. A. Dumont., 2007, "Optimization of Rectangular Pulp Stock Mixing Chest Dimensions Using Dynamic Tests", TAPPI Journal, 6(2), pp. 24-30. Enid Reynolds, J. D. Gibbon, and D. Attwood, 1964, "Smoothing Quality Variation in Storage Chests Holding Paper Stock" Trans. Instn Chem. Engrs Vol. 42. Eykhoff, P., 1974 "System identification : Parameter and state estimation" Wiley, London. Ford, C, Ein-Mozaffari, F., Bennington, C. P. J, Taghipour, F., 2006, "Simulation of Mixing Dynamics in Agitated Pulp Stock Chests Using CFD", AIChE J., 52(10), pp.3562-3569. Goldberg, D.E., 1989, "Genetic Algorithm in Search, Optimization & Machine Learning", Chep. 1- 4, Addison Wesley, New York, USA. Hamby, D.M., 1994, "A review of techniques for parameter sensitivity analysis of environmental models", Kluwer Academic Publishers., 32, pp.135-154. Holland, J.H., 1975, "Adaptation in Natural and Artificial Systems", University of Michigan Press, Ann Arbor, USA. Imeson, A., 2010, "Food Stabilisers, Thickeners and Gelling Agents", Blackwell Publishing Ltd., pp. 325-339.

76

Johansson, R., 1994, "Identification of Continuous Time models" IEEE Trans Signal Proc, 42, pp.887-897.

Kammer, L. C., F. Ein-Mozaffari, C. P. J. Bennington and G. A. Dumont., 2005, "Identification of Channeling and Recirculation Parameters of Agitated Pulp Stock Chests", journal of process control,15,pp. 31-38. Kapur, J. N., 1998, "Some eminent Indian mathematicians of the twentieth century", Mathematical Sciences Trust Society, New Delhi. Ljung, L., 1999, "System identification: Theory for the users, 2nd edition, PTR Prentice hall, Upper saddle river, USA. Patel, H., F. Ein-Mozaffari and S. R. Upreti., 2008, "Continuous Time Domain Characterization of Mixing in Agitated Pulp Chests", TAPPI journal, 7(5), pp. 4-10. Rao, S.S. 1996 "Engineering Optimization Theory and Practice" Chep.7, John Wiley & Sons Inc., Toronto, Canada, pp. 489-493. Reynolds, E., Gibbon, J.D. and Attwood, D., 1964, "Smoothing quality variations in storage chests holding paper stock", Trans Inst Chem Eng, 42: T13-T21. Saeed, S., F. Ein-Mozaffari and S.R.Upreti, 2008, "Using Computational Fluid Dynamics to Study the dynamic behavior of the continuous mixing of Herschel-Bulkey Fluid". Industrial and Engineering Chemistry Research, 47(19), pp.7465-7475. Saeed, S., F. Ein-Mozaffari., 2007, "Using Dynamic Test to Study the Continuous mixing of Xanthan Gum Solutions", Journal of chemical technology and Biotechnology, 83, pp. 559-568.

77

Saeed, S., 2008, "Dynamic and CFD Modeling of a Continuous-Flow Mixer of Fluids with Yield Stress" MASc thesis, Dept of Chem Eng, Ryerson University, Toronto, Canada. Samaras, K., Mavros, P., Zamboulis, D., 2006A, "Effect of Continuous Stream and Agitator Type on CFSTR Mixing State", Ind. Eng. Chem., 45, pp.4805-4815.

Soltanzadeh. A, Sujit Bhattacharya, Guy A. Dumont and Chand P. J. Bennington., 2009, "Estimation of residence time and channeling in agitated pulp chests", Nordic Pulp & Paper Research Journal., 24(1), pp. 66-71.

Sung, S.W. and Lee, I.B., 2001, Prediction error identification method for continuoustime processes with time delay, Ind Eng Chem Res, 40: 5743-5751. Upreti, S. R., 2004, "A new robust technique for optimal control of chemical engineering processes", comp chem. Eng, 28(8), pp.1325-1336. Upreti, S. R., F.Ein-Mozaffari., 2006, "Identification of Dynamic Characterization parameters of the Agitated Pulp Chests Using a Hybrid Genetic Algorithm", Chemical Engineering research and Design, 84, pp.221-230.

Wang, Q.G., Guo, X. and Zhang, Y., 2001, Direct identification of continuous time delay systems from step responses, J Proc Cont, 11:531-542. Xiao, Jie., 2002, "System identification for transit buses using a hybrid genetic algorithm", The Pennsylvania State University, PhD thesis, AAT 3065021.

78

APPEDIX

Parameter constraints = 10 ­ 500, = 10 ­ 1000, and =0-1

A200 Impeller, 227 l/h flow rate, 1.5% mass concentrations.

rpm 50 100 150 200 250 300 400 500 600 700 0.995 - 0.001 0.9978 - 0.001 0.9958 - 0.001 0.9958 - 0.001 0.9958 - 0.001 0.965 - 0.03 0.965 - 0.03 0.79 - 0.2 0.86 - 0.1 0.5 - 0.4 0.99 - 0.0016 0.99 - 0.0016 0.99 - 0.0016 0.99 - 0.0013 0.99 - 0.0012 0.9988 - 0.0005 0.9988 - 0.0005 0.9988 - 0.0011 0.9987 - 0.0012 0.9987 - 0.0012

A200 Impeller, 603 l/h flow rate, 0.5% mass concentrations.

rpm 50 100 150 200 250 300 400 500 0.85 - 0.14 0.85 - 0.11 0.93 - 0.05 0.92 - 0.05 0.15 - 0.8 0.15 - 0.8 0.1 - 0.8 0.05 - 0.8 0.995 - 0.0045 0.995 - 0.0045 0.996 - 0.003 0.996 - 0.003 0.9967 - 0.0032 0.9967 - 0.0032 0.9968 - 0.0029 0.9968 - 0.0029

79

A200 Impeller, 603 l/h flow rate, 1.0% mass concentration.

rpm 50 100 150 200 250 300 400 500 600 0.98 - 0.01 0.96 - 0.03 0.94 - 0.05 0.94 - 0.05 0.91 - 0.06 0.85 - 0.1 0.5 - 0.45 0.55 - 0.3 0.1 - 0.85 0.995 - 0.004 0.995 - 0.004 0.995 - 0.004 0.996 - 0.003 0.996 - 0.003 0.9967 - 0.003 0.9968 - 0.003 0.9968 - 0.003 0.9967 - 0.003

A200 Impeller, 603 l/h flow rate, 1.5% mass concentrations.

rpm 50 100 150 200 250 300 400 500 600 700 0.98 - 0.001 0.98 - 0.001 0.95 - 0.03 0.95 - 0.024 0.91 - 0.05 0.95 - 0.04 0.95 - 0.04 0.94 - 0.05 0.8 - 0.1 0.8 - 0.1 0.9952 - 0.0047 0.99 - 0.003 0.9952 - 0.0047 0.9957 - 0.0042 0.9957 - 0.0032 0.9957 - 0.0032 0.9967 - 0.0031 0.9967 - 0.0031 0.9967 - 0.0032 0.9967 - 0.0032

80

A200 Impeller, 896 l/h flow rate, 1.5% mass concentrations.

rpm 50 100 150 200 250 300 400 500 600 700 0.99 - 0.005 0.96 - 0.03 0.96 - 0.03 0.9 - 0.09 0.9 - 0.08 0.9 - 0.08 0.1 - 0.8 0.1 - 0.8 0.1 - 0.8 0.1 - 0.8 0.991 - 0.005 0.991 - 0.008 0.991 - 0.008 0.991 - 0.005 0.9953 - 0.003 0.9953 - 0.004 0.9953 - 0.004 0.9953 - 0.004 0.995 - 0.004 0.994 - 0.005

A200 Impeller, 227 l/h flow rate, 0.5% mass concentration for Configuration 1.

rpm 150 200 250 400 0.99 - 0.0065 0.99 - 0.004 0.99 - 0.008 0.96 - 0.032 0.9985 - 0.001 0.998 - 0.001 0.9987 - 0.001 0.9987 - 0.001

A200 Impeller, 227 l/h flow rate, 0.5% mass concentration for Configuration 2. rpm 150 200 250 400 0.998 - 0.0017 0.998 - 0.0017 0.998 - 0.0017 0.96 - 0.03 0.99 - 0.0013 0.99 - 0.0013 0.99 - 0.0012 0.99 - 0.0012

81

