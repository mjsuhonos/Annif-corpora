Ryerson University

Digital Commons @ Ryerson
Theses and dissertations

1-1-2013

Effect Of Rear Leg Morphology On Energetics Of A Quadrupedal Robot
Jamil Jivraj
Ryerson University

Follow this and additional works at: http://digitalcommons.ryerson.ca/dissertations Part of the Electrical and Computer Engineering Commons Recommended Citation
Jivraj, Jamil, "Effect Of Rear Leg Morphology On Energetics Of A Quadrupedal Robot" (2013). Theses and dissertations. Paper 1482.

This Thesis is brought to you for free and open access by Digital Commons @ Ryerson. It has been accepted for inclusion in Theses and dissertations by an authorized administrator of Digital Commons @ Ryerson. For more information, please contact bcameron@ryerson.ca.

EFFECT OF REAR LEG MORPHOLOGY ON ENERGETICS OF A QUADRUPEDAL ROBOT
by Jamil Jivraj, B.Eng., Ryerson University, November 2010

A thesis presented to Ryerson University in partial fulfillment of the requirements for the degree of Master of Applied Science Toronto, Ontario, Canada, 2012 쯎amil Jivraj, 2013

AUTHOR'S DECLARATION FOR ELECTRONIC SUBMISSION OF A THESIS I hereby declare that I am the sole author of this thesis. This is a true copy of the thesis, including any required final revisions, as accepted by my examiners. I authorize Ryerson University to lend this thesis to other institutions or individuals for the purpose of scholarly research. I further authorize Ryerson University to reproduce this thesis by photocopying or by other means, in total or in part, at the request of other institutions or individuals for the purpose of scholarly research. I understand that my thesis may be made electronically available to the public.

ii

Effect of Rear Leg Morphology on Energetics of a Quadrupedal Robot Master of Applied Science, 2013 Jamil Jivraj Electrical and Computer Engineering, Ryerson University

Abstract
Many biomimetic legged robots exist, but their leg designs appear to be arbitrarily chosen. Here, we examine the performance difference between a canine-inspired rear leg in its normal configuration versus the same leg in a transverse-mirrored configuration. A quadrupedal robot was built to test this hypothesis; the robot was successfully able to walk in with both rear-leg configurations. Successful telemetry of energy and localization data was also demonstrated. Both experimental and simulation results confirm that the transverse-mirrored configuration is faster and more efficient. In experiment the robot achieved speeds of up to 0.4 m/s versus 0.33 m/s, and specific resistances of 3.9 versus 5.1 in transverse and normal experiments, respectively. It is suggested here that the transverse-mirrored configuration, which engages the knee spring more than the normal configuration, be used in designs which require higher speeds and greater efficiencies.

iii

Acknowledgment
Throughout the journey of this project, I have received some very needed support and encouragement from quite a few individuals. This is a small expression of gratitude to these people for their involvement in this project, be it direct or indirect. I'd like to thank:  My supervisor, Dr. James A. Smith, for his guidance throughout this project. From conception to submission, Dr. Smith's day-to-day involvement has been encouraging and eyeopening. I believe I can speak for everyone in the BioRRG lab when I say that his passion for pedagogy is clear in the way he supports and encourages all of us to push ourselves and do things right.  My parents (the classics), for love, support, and just being great folks. (Also, thanks for all the hot food!)  My Brother, Alim, for giving me some good advice that lead me here. Also, thank you to him and Tanaz for letting me sleep on their couch for all those late nights in the lab.  Ron and Kathryn, for all the time spent in the lab and on campus with me, for various coffee runs, and also for just helping me out whenever I needed it. Its great to have awesome friends like you two. Also, thank you Kathryn for your help in designing the toe; your idea worked great.  Rizwan, for always having a sympathetic ear I could vent to. Also, you make a good spotter (ha!).  Zahra, Nis, Mariam, Faiz, Shireen, Danu and Butters, for all the frequent lab visits and constant check-ins, just to make sure I was still alive.  Martin Gross, of the Technical University of Darmstadt, formerly of the University of Jena, for all the help he gave during the design phase of the robot. Also, it was great getting to see his work up close during my visits to Jena.  Daniel Renjewski, for teaching me some valuable lessons about building robots and LabVIEW programming. The chats we had in Jena were interesting and very thought-provoking.  Sten Grimmmer, for doing a great job in organizing the consortium demonstrations in Jena.  Andre Seyfarth and his lab, for being great hosts during the consortium demonstrations and all the associated activities.  Rolf Pfeifer (University of Zurich), Peter Aerts (University of Antwerp), Kasper Stoy (University of Southern Denmark), Auke Ijspeert (EPFL), Andre Seyfarth (Darmstadt). I would also like to thank all of their students who were involved.  Lastly, to my defence committee, Drs. Standish, Venkatesh and Guan, for your much appreciated participation and helpful feedback. iv

Contents
1 Introduction 1.1 Leg Segments and Arrangements in Nature . . . . . . . 1.2 Modelling and Design of Legged Robots . . . . . . . . . 1.2.1 Quadruped Robots . . . . . . . . . . . . . . . . 1.2.2 Boom Supported Robots . . . . . . . . . . . . . 1.2.3 Quadrupeds with Wheels . . . . . . . . . . . . . 1.2.4 Spring-Loaded Inverted Pendulum (SLIP) Model 1.3 Segmented Legs . . . . . . . . . . . . . . . . . . . . . . 1.3.1 Two-Segment Limbs . . . . . . . . . . . . . . . 1.3.2 Three-Segment Limbs . . . . . . . . . . . . . . 1.3.3 Effect of Leg Shape on Locomotion . . . . . . . 1.4 Contributions of this Thesis . . . . . . . . . . . . . . . . 1 2 4 4 5 6 6 7 7 8 9 10 11 12 13 16 17 18 19 20 22 25 38 42 45 53

. . . . . . . . . . .

. . . . . . . . . . .

. . . . . . . . . . .

. . . . . . . . . . .

. . . . . . . . . . .

. . . . . . . . . . .

. . . . . . . . . . .

. . . . . . . . . . .

. . . . . . . . . . .

. . . . . . . . . . .

. . . . . . . . . . .

. . . . . . . . . . .

. . . . . . . . . . .

. . . . . . . . . . .

2

Design and Construction 2.1 Collaborative work with the Locomorph Consortium . . . . . . . . . . . 2.2 Preliminary Design: the GARP-4 Robot . . . . . . . . . . . . . . . . . . 2.3 Design Constraints for the GARP-5 . . . . . . . . . . . . . . . . . . . . 2.3.1 Mass and Size for Commercial Airline Transport . . . . . . . . . 2.3.2 High Availability of Components . . . . . . . . . . . . . . . . . 2.3.3 Ability to Rapidly Iterate Designs . . . . . . . . . . . . . . . . . 2.3.4 Actuator with Consortium-Compatible Communication Standard 2.3.5 Sufficient Torque for Static Standing and Walking . . . . . . . . . 2.3.6 Canine-Like Shape . . . . . . . . . . . . . . . . . . . . . . . . . 2.3.7 Ground Contact Detection . . . . . . . . . . . . . . . . . . . . . 2.3.8 Motion & Power Consumption Tracking . . . . . . . . . . . . . . 2.3.9 Smooth Motion Control . . . . . . . . . . . . . . . . . . . . . . 2.4 Design Conclusions . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

. . . . . . . . . . . . .

. . . . . . . . . . . . .

. . . . . . . . . . . . .

. . . . . . . . . . . . .

. . . . . . . . . . . . .

3

Simulation 54 3.1 Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54 3.1.1 Why Use Simulations? . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54 3.2 GARP-5 Simulation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55

v

3.3 3.4 4

3.2.1 Contact Model and Abducting/Adducting Legs 3.2.2 Verification of Walking . . . . . . . . . . . . . Limitations of Simulations . . . . . . . . . . . . . . . Conclusions . . . . . . . . . . . . . . . . . . . . . . .

. . . .

. . . .

. . . .

. . . .

. . . .

. . . .

. . . .

. . . .

. . . .

. . . .

. . . .

. . . .

. . . .

. . . .

. . . .

55 57 57 59 60 60 60 62 62 63 63 64 65

Leg Morphology Experiments 4.1 Experimentation Method . . . . . . . . . . . . . . . 4.1.1 Experimentation Area . . . . . . . . . . . . 4.1.2 Initial Referencing of Pitch-Encoders . . . . 4.1.3 Setup of Electrical Measurement Equipment 4.1.4 Parameter Sweep . . . . . . . . . . . . . . . 4.1.5 Trial Procedure . . . . . . . . . . . . . . . . 4.1.6 Post Processing . . . . . . . . . . . . . . . . 4.2 Conclusions . . . . . . . . . . . . . . . . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

. . . . . . . .

5

Results & Analysis 66 5.1 Specific Resistance . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 66 5.2 Comparison of Specific Resistance Efficiency Results . . . . . . . . . . . . . . . . 74 Conclusions & Future Work 81 6.1 Conclusions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 81 6.2 Future Work . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82 92 97 102

6

A Simulation Results B Robot Experiment Results C Schematics

vi

List of Figures
1.1 1.2 1.3 1.4 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9 2.10 2.11 2.12 2.13 2.14 2.15 2.16 2.17 2.18 2.19 Showing the three segment of mammalian legs (Modified from [1]). Anatomy of a Canine (taken from [2]). . . . . . . . . . . . . . . . . Spring-loaded inverted pendulum . . . . . . . . . . . . . . . . . . . Dual Segmented Leg. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3 3 7 8

2.20 2.21

The GARP-4 Robot. This was the predecessor to the subject of this thesis, the GARP-5. Photo Credit: Luis Fernandes. . . . . . . . . . . . . . . . . . . . . . . The GARP-5 robot, shown with normal configuration rear legs and regular front toes. In this thesis the front toes have been replaced with wheels. . . . . . . . . . Simplified model showing moment arm at the knee with respect to idealized centre of mass. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Speed-torque curve of a typical DC motor (adapted from [3] . . . . . . . . . . . Simplified model showing the DOFs of the GARP-5 Robot. . . . . . . . . . . . . Simplified diagram of the hind limb. . . . . . . . . . . . . . . . . . . . . . . . . Depiction of knee spring on the hind legs. . . . . . . . . . . . . . . . . . . . . . Simplified diagram of the fore limb. . . . . . . . . . . . . . . . . . . . . . . . . Finalized used for the GARP-5 robot. Top: side view; Bottom: top-view. . . . . . Effective leg geometry for the normal configuration. . . . . . . . . . . . . . . . . Effective leg geometry for the transverse configuration. . . . . . . . . . . . . . . Diagram of the nomenclature used for the boom. . . . . . . . . . . . . . . . . . Both the normal (top) and transverse-mirrored (bottom) hind leg configurations that were studied. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Contact areas for both leg configurations. . . . . . . . . . . . . . . . . . . . . . Sideview of DOS foot the GARP-5's hind legs. . . . . . . . . . . . . . . . . . . Visualization of the axes of force that the toe is sensitive to reading. . . . . . . . Diagram depicting the ranges of sensing limitations of the toe design. . . . . . . Diagram depicting the range position feedback in the Dynamixel RX-28 (reproduced from [4]. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Diagram depicting linear trajectories used to drive the GARP-4's hip motors. "loop Iterations" is analogous to time scale; "Position Values" are 10-bit counts that correspond to the mapping seen in figure 2.18 (reproduced from [5]). . . . . . . . 7-6-5-4 Trajectory Polynomial used to drive legs of the robot. . . . . . . . . . . . High-level state-machine for walking. . . . . . . . . . . . . . . . . . . . . . . . vii

. 14 . 17 . . . . . . . . . . . . . . . 23 24 27 28 29 32 34 35 35 36 37 39 40 41 41

. 46

. 47 . 50 . 52

3.1 3.2 3.3 4.1 5.1 5.2

The simulated GARP-5 robot is shown with a boom in (a), with the transversemirrored leg configuration in (b) and the normal leg configuration in (c). . . . . . . 56 Walking with regular leg configuration, hip touchdown and liftoff angles were set to -30 and 40 degrees, respectively. . . . . . . . . . . . . . . . . . . . . . . . . . . 57 Walking with mirrored leg configuration. . . . . . . . . . . . . . . . . . . . . . . . 58 Bird's eye view of the experimenation area. . . . . . . . . . . . . . . . . . . . . . 61 Normal Configuration, Specific resistance results of simulation (left) and experimentation (right). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Normal leg configuration, specific resistance: Note the increase in specific resistance as TD angles are brought further forward and LO angles are brought further back in the simulation (left) and the experiment (right) . . . . . . . . . . . . . . Normal leg configuration, specific resistance: Note the plateau in specific resistance in the centre of the parameter space in the simulation (left) and the experiment (right) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Transverse Configuration, Specific resistance results of simulation (left) and experimentation (right). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Transverse-mirroed leg configuration, specific resistance: Note the sharp decreasing in specific resistance in the simulation (left) and the experiment (right). . . . Normal Configuration, velocity of simulation (left) and experimentation (right). . Normal leg configuration, velocity: Note the sharp decreasing in specific resistance in the simulation (left) and the experiment (right) . . . . . . . . . . . . . . . . . Transverse Configuration, Velocity results of simulation (left) and experimentation (right). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Transverse-mirrored leg configuration, velocity: Note the sharp increasing in specific resistance in the simulation (left) and the experiment (right) . . . . . . . . . Experimental Velocity vs Specific Resistance comparison of the two leg configurations. (Note how the transverse configuration is consistently more efficient and achieves higher speeds). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Close up of region where divergence between the two configuration starts. . . . . The effective moment arm about the knee joint in the transverse configuration is greater than in the normal configuration. This leads to greater knee flexion, and therefore engagement of the spring, during ground contact. . . . . . . . . . . . . Screen Captures: Normal . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Screen Captures: Transverse . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 68

. 69

5.3

. 69 . 70 . 71 . 72 . 72 . 73 . 74

5.4 5.5 5.6 5.7 5.8 5.9 5.10

5.11 5.12

. 76 . 77

5.13 5.14 A.1 A.2 A.3 A.4

. 77 . 78 . 79 93 94 95 96

Simulation results, normal configuration: TD & LO angles vs specific resistance. . Simulation results, normal configuration: TD & LO angles vs velocity. . . . . . . . Simulation results, transverse configuration: TD & LO angles vs specific resistance. Simulation results, transverse configuration: TD & LO angles vs velocity. . . . . .

B.1 Experimetnal results, normal configuration: TD & LO angles vs specific resistance. 98

viii

B.2 Experimental results, normal configuration: TD & LO angles vs velocity. . . . . . 99 B.3 Experimental results, transverse configuration: TD & LO angles vs specific resistance. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 100 B.4 Experimental results, transverse configuration: TD & LO angles vs velocity. . . . . 101 C.1 AMC motor amplifier series inductance circuit. . . . . . . . . . . . . . . . . . . . 103 C.2 Voltage divider circuit for force sensitive resistors. . . . . . . . . . . . . . . . . . . 104

ix

List of Tables
1.1 2.1 2.2 2.3 2.4 5.1 5.2 Anatomical parts of a canine (taken and translated from [2]) . . . . . . . . . . . . Requirements of the GARP-5 Design. . . . . . . . . . . . . . Geometric nomenclature of GARP-5 robot (refer to figure 2.9). Dimensions of the GARP-5 robot. . . . . . . . . . . . . . . . Geometric nomenclature of boom. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 4 22 33 33 36

Data summary for the experiments in normal configuration. . . . . . . . . . . . . . 67 Data summary for the experiments in transverse-mirrored configuration. . . . . . . 67

x

Chapter 1 Introduction
There are many legged robots in the world but one question that hasn't been asked nearly enough in the field of legged robotics is how the shape of the leg affects the energetics of legged locomotion. If one took a copy of a dog's leg and inversed the joint angles, would it walk the same way? Here, we propose to use a robot to explore this issue. If there is a difference, would it manifest itself in the robot's energy consumption? Few robot designers have answered the question "how does the shape of the leg affect the energetics of locomotion?". The purpose of this study was to answer this question.

Biomimicry is the philosophy by which designers look to nature to solve problems. Form and function found in the natural world can be transposed to man-made arenas to yield effective and often non-intuitive solutions. From looking at whale fins for improving turbine efficiency to finding inspiration in birds to make quieter bullet trains [6], engineers are finding creative ways to incorporate nature's tried and tested designs in to highly complex artificial systems. Many legged robots are bio-inspired. The motivation for such designs can be seen in the way legged creatures negotiate difficult terrain with much less effort than many of today's most advanced wheeled or treaded systems. The use of single, discrete footholds in legged systems rather than continuous contact-support, as is required with wheeled systems permits legged animals to adapt and move well over a large variety of surfaces [7].

1

1.1

Leg Segments and Arrangements in Nature

The goal of designing a biomimetic robot is to capture the functionality that is seen in biological paragons and apply it mechanically. The question faced by designers is what are the valuable biological attributes necessary to support or optimize locomotion, so that they can be transferred to the mechanical system [8, 9]? This question is compounded when one realizes that there is much variation for each individual attribute. For legs, many models exist in nature. This study is primarily concerned with mammalian legs since the amphibio-reptillian leg motion is highly augmented by the use of horizontal spinal undulations [8]. Legs found in nature are typically multi-segmented, as single-segmented limbs would not serve much practical purpose. When recreating biological functionality robotically, how many segments should be used in order to achieve similar locomotion dynamics seen in animals? According to Fischer and Blickhan, the mammalian leg can be essentially thought of as tri-segmented [10]; this is illustrated in figure 1.1. Digital segments, such as toes, add little in the way of energy for forward locomotion. Just focusing on the hind limb, these three segments can be seen as the thigh, shank and foot. As for the proportions, dimensions and angle configurations, a redundancy problem occurs where the effective leg length can be achieved with different combinations of length and angle parameters of the leg [11]. Therefore, if one was to design a multi-segmented leg, how would the proportions and angles be determined? Figure 1.2 and table 1.1 outline basic anatomical structures of a dog. Notice that the front and back legs have multiple portions, or segments. The three segments mentioned correspond to 17 (thigh), 21 (shank), and 19 (metatarsus/pastern, corresponding to the foot) . The thigh is proximally connected to the body by the hip joint and distally connected to the proximal end of the shank by a knee joint. The distal end of the shank connects to the foot via ankle.

2

Hip

Thigh
Knee

Shank

Ankle

Foot/Pastern

Figure 1.1: Showing the three segment of mammalian legs (Modified from [1]).

Figure 1.2: Anatomy of a Canine (taken from [2]).

3

Table 1.1: Anatomical parts of a canine (taken and translated from [2])

Number 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16

Structure Forhead Stop Vat Nose Ear Occipital proturbance Lips Corners of mouth Mandible Dewlap Neck Withers Back Loins Base of tail Tail

Number 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32

Structure Thigh Heel Metatarsus (PASTERN??) Feet Shank Knee Flank Belly Elbow Wrist Metacarpus Lower arm Forechest, Sternum Thorax Upper arm Shoulder

1.2
1.2.1

Modelling and Design of Legged Robots
Quadruped Robots

The field of legged robots is a relatively new one; advancements in recent decades in computer and mechanical technologies have made it possible for researchers to develop intelligent, actuated legged robot systems. Before the use of modern control techniques, legged robots involved the use of complex mechanical linkages designed to perform repetitive, fixed, open-loop movements that mimicked very simplified legged motion [7]. In 1968, Liston and Mosher developed a 1.4 tonne walking robot dubbed "The Walking Truck". The control scheme was human-in-the-loop; this required a human operator to control the actions of the robot using handles and pedals. The robot was able to be maneuvered to amble, climb obstacles and manipulate certain objects [7]. In 1985, Raibert introduced a hydraulically actuated quadruped capable of trotting and bounding [12] using novel control strategies that simplified control algorithms based on leg pairs that moved in tandem [7]. The result was the robot achieving a maximum bounding speed of 2.9 m/s and a 4

maximum trotting speed of 2.2 m/s. in 1999, Yamakazi and Beuhler presented a design for a simple quadruped known as the Scout. This robot had a single actuated degree of freedom and was able to demonstrate simple manoeuvres, such as walking, side stepping, turning, lying down and stair climbing. [13] The initial work of Scout laid the foundation for Scout II, a robot of similar design except but capable of more complex behaviours [14, 15, 16]. Starting in 2003, Kimura's group developed a series of robots known as Tekken [17, 18, 19, 20, 21]. This series of robots was designed to approximate a small dog and develop neural walking controllers based on central pattern generators (CPGs). In 2005, Boston Dynamics, a company founded by Marc Raibert and based in Boston, MA, USA, released a video of a DARPA-funded prototype quadruped robot known as BigDog [22]. The performance of the robot shown in subsequent video releases is unrivalled in terms of stability and adaptation to different terrains.

1.2.2

Boom Supported Robots

Restriction of robot dynamics is a common approach used by many researchers in the legged robotics field. In many cases, the issue of dynamic stability may not be pivotal to the analysis of certain behaviours and dynamics of legged robots. For example, to achieve a simple walking gait using limited DOF actuation, it is not possible to compensate for instability in all planes of motion. Therefore if the system was to be simplified by using continuous support in the under-actuated DOFs, stable walking can be achieved with maintaining the integrity of the gait in the actuated DOFs. Restriction of robot dynamics is generally achieved with the use of booms. Booms are generally used to support the robot in two ways: they either allow the robot to rotate in a circular path of a fixed diameter (rotational booms) or they keep the robot in one spot, such as jumping up and down, or walking on a treadmill (stationary booms). Some famous examples of robots that use rotational booms include by Raibert's monopod and biped robots at MIT, [7], Thumper [23], MABEL [23], RABBIT [24], and Renjewski's Run Bot [25] just to name a few. Robots that are supported by

5

stationary booms include the Jena Walker [26], the KOLT robot [27] , Ernie [28] and most recently the Cheetah robot by Boston Dynamics [29], as well as many others.

1.2.3

Quadrupeds with Wheels

Some robots have designs that comprise of hybrid leg-wheel systems. Hybrid systems are reminiscent of real dogs that are paralyzed or have mobility issues and are restricted to using canine wheelchairs (such as the Walkin' Wheels [30]). The advantage to such systems are that they can manoeuvre and travel the way wheeled vehicles can, but also change their dynamics to take advantage of some of the benefits of having legs. Some leg-wheel hybrid robots include the PAW robot, where all four legs have wheels on the distal ends [16], Suwannasit's rear-wheeled walker [31] and the Sendai Walker developed at Chiba Institute of Technology which uses a similar design [32].

1.2.4

Spring-Loaded Inverted Pendulum (SLIP) Model

During locomotion, the muscles and tendons of the legs are seen to act as springs in that they are capable of elastic energy storage and release. Therefore, biomechanicists have been able to reduce leg dynamics to models that make use of point-masses, rigid members and springs to describe legged motion. A model known as the Spring-Loaded Inverted Pendulum (SLIP) consists of a point-mass atop a rigid massless member with prismatic spring in the centre. This is shown in figure 1.3. Introduced by Blickhan [33] as the Spring-Mass model, it is used to mathematically describe the motion of legs during a gait where there are ballistic phases (bound, trot, gallop, etc). During stance, the length of the leg decreases due to compression of the linear leg spring. The leg is at it's longest length just after lift-off, due to the dissipation of potential energy stored in the spring during ground contact. This model is used to describe robots that have single-segment legs with prismatic springs, such as SOUT I [13, 34] and SCOUT II [16, 15, 35] PAW [16, 36] and the landmark creations by Raibert's group in the 1980's [7].The SLIP model allows for two degrees of freedom (DOFs): a rotational DOF at the hip and a prismatic compliant DOF at the knee. Systems like this are generally underactuated since usually only the hip DOF is actuated, but some robots,

6

Point Mass

Spring

Figure 1.3: Spring-loaded inverted pendulum

like Raibert's [7] have been shown to use prismatic actuation to extend and compress the leg, in addition to the rotational actuation at the hip.

1.3

Segmented Legs

The limitation in the SLIP model is that the leg consists of a single segment. Legs found on various animals tend to have much more complex geometries with multiple segments. Multisegment models have been established to try and understand legged behaviour beyond the simple SLIP model.

1.3.1

Two-Segment Limbs

SLIP models have been useful in their ability to reduce the complexity of locmotion kinematics. However, single-segment models leave much to be desired in terms of biomimicry. Animals generally do not have telescoping/prismatic limbs, and what's more is that animals have biarticular muscles, therreby complicating their dynamics even further. Two segment limb models [17, 37, 38] have been shown to share similarities with the SLIP model. Figure 1.4 shows a dual segmented leg with torsional compliance. These models differ from the SLIP model as they are constructed of two segments: an upper and lower, attached at the knee by a revolute joint. The point-mass

7

Point Mass

Torsion Spring

Figure 1.4: Dual Segmented Leg.

representing the body still sits at the proximal end of the upper link (at the hip), and the distal end of the lower segment is still where contact with the ground occurs. Compliance is modeled by a non-linear torsion spring at the knee. According to Rummel et al, two segmented legs tend to show advantages compared to the simple SLIP model with linear compliance. Larger regions of stable running with respect to landing angle and minimum running speed necessary for a stable run are shown with two-segment models[38]. The dual segment leg has been shown effective robotically as well, not only in simulation. Robots such as HyQ [39], Tekken [17], SQ1 [40] , Little Dog [41] and even the GARP-4 [5], the predecessor to this work, all use variations of the two segment leg configuration. As with the SLIP model, two segment legs have two DOFs, but both are purely rotational. The hip DOF is actuated, and robots have been designed showing actuated or passive compliant knees.

1.3.2

Three-Segment Limbs

Robots legs that are made using three segments tend to be more biomimetic in their design, since three segments closer approximates the true parts of most quadrupedal animals. Generally most quadrupeds legs consist of of three main parts: a thigh, a shank and a foot.

8

1.3.3

Effect of Leg Shape on Locomotion

The effect of leg shape in locomotion is little understood. Specifically, the effect the direction of joints has has not been rigorously studied in the past. This question is hard to address in biology since leg and joint reconfigurability doesn't exist in anmals. Building a legged robot with joint directions that can be changed and energetics that can be monitored can help shed insight into this problem. The joint direction tends to play a role in the leg force and joint torque. According to Seyfarth et al., three-segmented legs that are in a "Bow", meaning that ankle and knee point in the direction opposite to forward locomotion (caudal) reduces limb stiffness and leg force. [42]. The human arm is an example of this sort of limb. This question was addressed with the creation of Biosbot, a quadrupedal robot with two-segment legs (thigh and shank) with reconfigurable knees [43, 44]. The authors established a nomenclature to distinguish which direction the knees were pointed in. "Elbow-style" meant that the knees were pointed in the direction opposite to forward locomotion. "Knee-style" referred to knees which are found on humans, pointing in the direction of forward locomotion. Experiments were conducted with all four legs arranged in knee-style, all four in elbow-style (referred to by the authors as"allknee"or "all-elbow" configuration), all knees pointing inwards (towards body centre) and all knees pointing outwards (away from body center). According to the study, the robot was able to successfully walk in all four knee configurations, but some slippage. In-depth analysis on the differences between the knee configurations was not provided. Different legged robots tend to have knees pointing in various directions. The Tekken series of robots all have knees that point in the caudal direction; that is the direction directly opposite to forward locomotion. This knee configuration is thought of as being non-biomimetic, since in quadrupedal animals, it is usually the elbows that point in the posterior direction, and the knees point in the cranial (towards the head) direction. Robots have been built by other researchers with the same knee direction, such as the one-legged Jena Hopper [45], the KOLT robot developed by Waldron [46, 27], and Pfeifer's quadruped [47]. An interesting thing to note about the different iterations of BigDog is the direction of the 9

knees of its three-segment legs. Noticed by Semini [39], directions of BigDog's knees have been inconsistent throughout the different video releases.

1.4

Contributions of this Thesis

Currently, a reason for the direction of the knee joints in these robots is unknown. One can not find much justification as to why different robots that are meant to mimic animals of seemingly similar basic anatomy have different directions for the joints. It is the objective of this thesis is to begin to answer the question as to the direction of the knee joint that one should design in a quadrupedal robot. This thesis examines two different leg configurations on a small, dog-like, quadrupedal robot in both simulation and experiment. The comparison is made between the resulting energetics and velocities for this robot in the two leg configurations, and it was found that the transverse-mirrored configuration was both faster and more energy efficient, due to how it's knee spring was engaged during walking.

10

Chapter 2 Design and Construction
The main goal of the GARP-5 was compare the energetics and velocities of a quadrupedal robot walking with two different rear-leg configurations. By doing this questions could be asked and possibly answered, such as:  Is there an energy consumption difference between mirrored and normal legs?  Is there a difference in repeatability of dynamics between the two leg configurations?  What role do the knee springs play, and is there a difference in this role between the two configurations?  What difference is there in the control of the two configurations?  If this robot was injured, which configuration would be most energy efficient to get it home?  Can a set of criteria or parameters be determined in designing of future legged systems? There were a number of design goals that were hoped to be achieved with the creation of the GARP-5 platform. Besides the over-arching goal of analyzing energetics between normal and mirrored hind legs, other goals of this study were meant to give novel contribution to the field of legged robotics. Some of these design goals included:  Designing a toe that could detect ground-contact on multiple parts of its geometry.

11

 Demonstrate the simplicity and viability in having non-biarticular knee compliance.  Continue to develop and demonstrate the success of the abducting/adducting ankle design. This chapter will detail the design process behind the creation of the GARP-5. The chapter begins by first analyzing the predecessor, the GARP-4, to give understanding about the basis of the design decisions taken in development of this new, unique platform.

2.1

Collaborative work with the Locomorph Consortium

This project is a part of a research initiative known as Locomorph. As such, many of the design requirements came from discussions within the consortium. The purpose of this consortium is to combine multidisciplinary approaches from biology, biomechanics, neuroscience, robotics and embodied intelligence to investigate locomotion and movements in animals and robots, focusing on the concepts of morphology and morphosis. Locomorph is a consortium that consists of the following universities:  University of Zurich  Technical University of Darmstadt (previously University of Jena)  Ecole Polytechnique Federal de Lausanne (EPFL)  University of Southern Denmark  University of Antwerp  Ryerson University The design of the GARP-5 robot had to enable a collaboration between engineering research at Ryerson, and animal biomechanics research with the consortium members, in particular our German partners at the Technical University of Darmstadt (previously University of Jena). More specifically, it was required to create a dog-like robot because of their canine research; details of this are in the sections that follow, first with GARP-4 and then with GARP-5, the main focus of this thesis. 12

2.2

Preliminary Design: the GARP-4 Robot

The GARP-4 robot was the previous version in the GARP line of robots, and gave a baseline reference for a dog-like robot design. Designed and built in 2010 as an undergraduate capstone project [5], the objective was to design a platform to exhibit quadrupedal locomotion similar to healthy canines, and tripedal locomotion like that seen in amputee-canines. The robot performed reasonably well but did have some limitations. This provided the framework for the GARP-5 robot. The GARP-4 was able to successfully execute three quadrupedal gaits: the amble, trot and pace [16]. The amble gait involves foot falls occurring approximately 90 out of phase with one another; the trot involves diagonal leg pairs moving in phase while being out of phase with the other diagonal pair by 180 , and the pace is similar to the trot except instead of diagonal pairs, adjacent pairs move in tandem. In addition, when a hind leg was deactivated, the GARP-4 was able to continue locomotion. Limitations of the GARP-4 system are outlined in the next subsections. AX-12+ Motors It was found during experimentation that the AX-12+ motors lacked sufficient power to drive the robot faster. This was due to the limited torque available (maximum output torque of 1.6 Nm). The onboard control of the AX-12+ actuators was proportional-only [48] and had very high latency. As well, the AX-12+ motors included a gear train made of plastic; this was a point of concern because of the lack of resistance to shearing, deformation and wear that plastic gears have compared to metallic gears. Also, due to the lack of output power, the robot was not able to achieve any aerial phases. Trajectories In the GARP-4 robot, trajectories were being generated by sending the servos triangular wave trajectories. This method proved to be quite jittery during execution, and specifically harsh at the end points.

13

Figure 2.1: The GARP-4 Robot. This was the predecessor to the subject of this thesis, the GARP-5. Photo Credit: Luis Fernandes.

14

Compliance An RC-shock, a fluid-damped spring piston was used to add compliance to the knees of the GARP4s legs. RC-shocks are used as suspension mechanisms in hobby RC cars. It was seen that the springs, in combination with the fluid made the system too stiff for any appreciable deformation/storage of kinetic energy, and the small stroke length limited the range of flexion for the knee. Ground Contact Detection The GARP-4 robot did not have any method of determining whether or not a foot had made ground contact. Because of this, the high-level gait control was executed purely in open-loop. Toe Slippage During operation, it was noticed that there was insufficient friction between the toe and the ground. The toe would slip during most gaits and therefore cause performance degradation and inefficient walking. Over Heating During extended operation in tripedal mode, the motors were seen to overheat. The housing of the AX-12+s were seen to increase in temperature by up to 26 C (highest recorded temperature was 62.3 C) [49]. According to the AX-12+ operation manual, the maximum operation temperature for the motors is 85 C [50] (This value corresponds to the default value at which the motors switch to non-operational, thermal protection mode; this temperature is sensed internally by circuitry on the internal PCB, thus the temperature on the surface of the housing would be much lower than inside the housing and of the motor itself). Biomimicry The GARP-4 robot was meant to be biomimetic in some aspects. Biomimicry was achieved with respect to the overall form of the robot, and the gaits that it was able to replicate. However, the dimensions of the body and legs weren't strictly based in geometry of real dogs. As well, the knee angles were not selected based on angles found in real dogs. Structurally, the legs did not have any 15

ankles or pasterns; the robot would make contact with the ground effectively using the bottom of the lower legs (the shank and foot were essentially a single straight shaft). Parameter Range The GARP-4 robot had a limited range of effective touch-down and lift-off angles at which the legs were able to achieve for it to walk stably. Also, the range of speeds that the hip motors were able to operate that were limited as well; below motor saturation, the gait performed unstably with low repeatability. Conclusions about the GARP-4 Design While the GARP-4 robot was able to walk, it's motors over-heated and only limited telemetry was available. Because it was a preliminary design, there were only two segments for each of the limbs. In order to conduct further studies on the effect of leg morphology on locomotion, it was decided to design a new platform, the GARP-5.

2.3

Design Constraints for the GARP-5

Based on experiences with the GARP-4 robot, a new biomimetic robot platform design was undertaken. The GARP-5 robot had a number of major design constraints in order to meet the requirements set out in discussions with the Locomorph consortium members. These constraints include: 1. Mass and size for commercial airline transport 2. Actuator with consortium-compatible communication standard 3. High availability of components 4. Sufficient torque for static standing and walking 5. Ability to rapidly iterate designs 6. Canine-like shape 16

Figure 2.2: The GARP-5 robot, shown with normal configuration rear legs and regular front toes. In this thesis the front toes have been replaced with wheels.

7. Ground contact detection 8. Motion tracking & power consumption tracking 9. Smooth motion control Each of the following subsections outline how each of the above design constraints were met.

2.3.1

Mass and Size for Commercial Airline Transport

Size and mass restrictions had to be followed in accordance to the guidelines set-out by the design requirements in the Locomorph consortium. These guidelines stipulated that to ensure transporta-

17

bility by air, the robot had to adhere to size and weight restrictions for regular checked luggage. The robot was required to:  Have a mass between 3kg and 7kg  Fit inside a rectangular volume of 54.5cm x 41.9cm x 20cm (Pelican Case, model 1600, 2 )

1

The 7kg represents the upper-limit for mass because that is the approximate weight of one of the best performing robots in this six, the rHex robot [51]. Calculations for static load testing was performed for a mass in the centre of the range, at 5kg. A design needed to be developed to meet these requirements as well as biomimetic requirements (mentioned in the next section). Given that research partners are the University of Jena (now at Technical University of Darmstadt) specialized in canine research, it was decided that the robot would be modelled after a dog small enough to meet the transport requirements.

2.3.2

High Availability of Components

To build the structure of the robot, a light weight, compact COTS (Consumer, Off-The-Shelf) assembly system was needed since only minimal custom fabrication was possible (simple cutting, drilling and mating). Therefore, several systems were considered:  Maker Beam (http://www.makerbeam.eu/)  Microrax (http://microrax.com/)  Staudinger (http://www.staudinger-est.de/)  Automat (http://www.compact-technik.de/pages/en/construction-kits. php)  Vex (http://www.vexrobotics.com/)
1 2

http://www.pelican.com/airline_allowance_large.php http://www.pelican.com/cases_detail.php?Case=1600

18

 Tetrix (http://www.tetrixrobotics.com/)  Lynxmotion (http://www.lynxmotion.com/) The Staudinger and Automat systems were deemed unusable early on, since the Staudinger system's plastic connection pieces were not viable for anything but static or low dynamics models, and the Automat system did not have a North American distributor. After experimental prototyping, it was decide to construct the body using Microrax, since it's 1cm x 1cm fit well with the previously mentioned size and mass constraints. A combination of COTS parts were used: Lynxmotion parts interfaced well with standard Dynamixel brackets, with some machining. Tetrix parts were larger and less versatile than the Lynxmotion pieces. Vex is steels-based, therefore heavier compared to the aluminum parts from other vendors. Microrax was used for the chassis of the robot. Makerbeam was used for the foot, since it's fastening system allowed for arbitrary screw placement along the length of the pieces. This allowed for proper mating with the Lynxmotionbased ankle assembly; this was not possible with the fixed screw spacings of the Microrax screw plates.

2.3.3

Ability to Rapidly Iterate Designs

As with most projects in the Biomedical Robotics and Rehabilitation Group, modularity and rapidprototyping were the two guiding philosophies throughout the design and construction of the physical experimental setup. The reason for these design principles was to allow for the rapid constriction and reconfiguration of mechanical, electronic and electromechanical components with minimal custom fabrication, thereby reducing costs and development time. Commercial off-the-shelf (COTS) parts are readily available through known distributors, allow for easy interfacing using widely accepted standards, and are relatively low cost in comparison to custom fabricated parts. Many COTS parts were used and assembled into a working platform, with comparatively minimal one-off machining and custom electrical design.

19

2.3.4

Actuator with Consortium-Compatible Communication Standard

Another hard requirement was for the use of the Robotis Dynamixel RX-28, a high-performance digital servo manufactured by Robotis Co. as the main actuator to drive the robot, as was part of the Locomorph guidelines. This actuator provided a COTS (consumer-off-the-shelf), mountable, reconfigurable and modifiable alternative to designing a one-off drive system. Also, given that RS485 was chosen to be the standard communication protocol for all consortium robots, the RX28 was a suitable motor as RS485 is this servo-motor's native communication protocol. Therefore, by applying power and RS485 serial commands, with no external componets the RX-28 provided controlled motion of robot joints. The mechanical brackets available to mate with this servo are compatible with Lynxmotion mechanical parts, with little custom fabrication.The specifications of the RX-28 are given in [4]. Inside the RX-28's 35.6mm x 50.6mm x 35.5mm housing was:  A Maxon RE-MAX 10 motor  193:1 reduction gear system  L6201 DMOS full bridge driver to drive the motors  Atmega8 microcontroller for controlling the system  MAX3443 transceiver to allow for RS-485 communication protocol All the electronics were soldered on two PCBs inside the housing. The main PCB contained all drive and control electronics. A surface-mount potentiometer was soldered to a separate, smaller PCB that laid directly beneath the main PCB to which it was connected via three standard header pins. This separate PCB was anchored directly to the Dynamixel housing by two small screws. The potentiometer attached to the back of the output shaft of the gear transmission. The potentiometer would rotate with the output shaft to track its position, and this was read by the controller for position feedback in the control algorithm. It is shown in [7, 16] that legged locomotion is a relatively high-bandwidth activity, therefore high 20

latency in any part of the control system is not desirable. In a previous study conducted at by BioRRG researchers, a different actuator in the Dynamixel family, the AX-12+, was tested for latency characteristics [52]. This study showed a minimum latency of 17ms between an instruction being sent to the servo, and an increase in current through the motor. Since examination of the AX-12+ showed the same controller as the RX-28, it was assumed that comparable latency would be seen by the RX-28s. This meant that interaction with the servo controller would happen much slower than the required control period of 1ms, as is standard in legged robotics applications [7, 16, 39]. As well, since the Dynamixels are proprietary, improving controller performance is not easily done because of the lack of access the user is given to the control algorithms which drive that drive the system. Robotis does not provide a method for the user to reprogram the controller or directly tune the gain parameters. Therefore, it was decided that the best course of action would be to remove the main PCB and design a control and drive system that could be fully controlled and tailored to the needs of the project. The housing, gears, motor and secondary potentiometer PCB were all left intact.

The GARP-5 uses four Advanced Motion Control DZRALTE 020L080 digital servo drives to drive each of the four hip motors. These amplifiers were chosen to replace the simple L6201 full bridge driver that was present in the stock RX-28. These drives are rated for a maximum peak current of 20A, maximum continuous current of 12A and an input voltage rating from 10V to 80V. These drives advanced features such as four-quadrant regenerative operation, PID position and velocity loops, RS232 and RS485 interfaces and fully configurable voltage, current, speed and position limits. The drives were configured to operate using the RS485 protocol with on-board PID control. The resulting motion of the actuators when using these controllers in RS485 was jittery. Therefore, the contingency plan for the use of the pulse-width modulation (PWM) mode of these controllers was implemented. Closed-loop feedback of the actuators was then performed using the 9S12 microcontroller boards from Technological Arts. Maximum current limits for the motors were set to 1.4A instantaneous and 1A continuous, to protect the motors from damage if a stall event was to occur to any of the legs (given the oscillatory and highly dynamic nature of

21

Table 2.1: Requirements of the GARP-5 Design.

Item Required/Not Required Walking forwards Required Walking backwards Required Standing stationary Required Energy cycling in knee springs during locomotion Required Standing up laying flat Not Required Running Not Required Ballistic phase during locomotion Not Required

legged locomotion, motors found in legged robots typically operate in the instantaneous region due to high accelerations and decelerations and very limited steady-state motion).

The motors inside the Dynamixel RX-28s did not meet the minimum required inductance required for the drives to operate correctly. To increase the inductance seen at the output of the motor drives, RLC filters with relatively high inductance were placed in series between the drives and motors. The circuits were designed based on similar RLC filters sold by the manufacturer of the drives for the same purpose. A circuit diagram is provided in Appendix C.

2.3.5

Sufficient Torque for Static Standing and Walking

Based on the direction of this project and given the constraints mentioned above, certain performance requirements needed to be met for the GARP-5 to be a viable platform to run appropriate tests with. Table 2.1 outlines certain items that were either requirements that the design needed to meet, or desires that were wanted but weren't necessities for the success of the platform.

To calculate maximum loading of the hip motors due to static loading, we assume the robot has a simplified mass of 5kg (between the 3kg-7kg range outlined by the consortium), and we assume that the mass is concentrated at the centre of a body of total length 40cm (conservative estimate, to fit within the consortium volume restrictions). This is shown in figure 2.3. According to the figure, the maximum theoretical torque that could be applied to a single motor during static loading would 22

CoM = 5kg

LCoM = .2m

Dynamixel RX-28

Figure 2.3: Simplified model showing moment arm at the knee with respect to idealized centre of mass.

be ML (49N )(.4m) = = 9.8N m 2 2

max =

(2.1)

where max is the maximum torque, M is the mass of the body (in newtons), and L is the length of the body (in meters). There is no standard, at present, for evaluating dynamic loading of leg motor during walking. Therefore, these static calculations sufficed until experimental load testing. Even though 9.8Nm is far greater than the maximum torque output the RX-28s(approx. 2.78Nm), if this is evenly distributed between all four hip motors (for an idealized static case), we see that the output torque
.8 would barely suffice ( 94 = 2.45N m). We see that the Dynamixel output torque would be sufficient

enough to drive the system, irrespective of frictional forces. However, given that 2.45Nm is very close to the maximum (stall) torque of the RX-28 motors, achieving useful leg velocities would not be possible, because of the saturation limit of the speed-torque curve [3, 53]. It is generally not desirable to operate a motor too close to it's stall torque because of reduced angular velocity and potential damage to the motor caused by prolonged operation in this area. This is shown in figure 2.4. 23

Angular Velocity

Operational Zone

Danger Zone

T
Stall Torque

Figure 2.4: Speed-torque curve of a typical DC motor (adapted from [3]

Assuming ideal operation around the centre of the curve, the effective torque on the hip motors needed to be reduced. It was decided that this would be done using a counter-mass in the opposite end of the boom (more details about the boom are discussed further in this chapter.) Establishing how much counter-mass would be sufficient is difficult due to the complex loading the robot during walking, as well as the imperfections in the system (gear-train friction, contact friction, impact loading, etc). The counter-mass was hand tuned to ensure that the loading on the hip motors was reduced enough to ensure qualitatively stable walking, without excessive ariel phases (similar to hand-tuning done in [54]). Walking was a fundamental performance requirement. Given the nature of the study, the robot needed to be able to walk forward and backward (note that walking is taken as a gait where the back legs are 180컊ut of phase, similar to a biped walking gait). The robot was required to support its own weight during a stationary stance because during testing, the robot need to begin each run from a stance position; this was done so that the robot would be entirely driven under its own power, rather than the human operator placing it on the ground and adding potential energy to the springs and causing variability and interference during experimentation. It was also required that energy cycling occur in the knee springs. This performance requirement fit in with the biomimicry constraint of knee compliance. Standing from laying flat was not a requirement since no testing was planned for the robot to start from that position. Also, since the motor used was constrained to the Dynamixel RX-28,

24

standing from a laying position may not have been realistic given the torque limit of the motors. Aeriel phases and running were not requirements since the study that was conducted was mainly concerned with walking energetics. (Please note that the definition of running used here is of the intuitive type where, according to Raibert, a body experiences ballistic flight to achieve high forwards speeds [7]. More clarification on the different definitions of running, including the more rigorous definitions used by Cavagna and McMahon are discussed by Smith in [16]; however the intuitive definition was decided to be of most practical use for this work, since the goal of this study is not to redefine or study running).

2.3.6

Canine-Like Shape

Because of our collaboration with the University of Jena, and the existing research they conducted on dogs, it was decided that this robot should be dog-like in appearance. Canine Anatomy for Geometric Basis Figure 1.2, along with table 1.1 outlines the basic anatomical detail for canines. The design goal was to recreate as much of the canine structure as functionally necessary to give a biomimetic basis with regards to the study. Specific parts (corresponding to figure 1.2 and table 1.1) that were of anatomical significance for this study were the thigh (17), shank (21), foot (20), knee (22), ankle, metatarsus (19) shoulder (32), forearm (28), elbow (25), wrist (26) and hand. Since the purpose of this robot is for it to be used in testing biomechanics hypothesis and biologically inspired adaptive control, biomimicry was a crucial theme in the design of the GARP-5. Canines were chosen to mimic during the design phase of the GARP-4 robot; this was inspired by observations made by Martin Gro and his team at the University of Jena [55]. A requirement for the GARP-5 robot was it to be more biomimetic than the GARP-4. This requirement was very open-ended and could be interpreted in many ways be different designers. Given the scope of the study and what could be realistically achieved with time, resources, and knowledge/skills constraints, the biomimetic requirements of this project were limited to:  Body dimensions to approximate small canine breeds 25

 Form and structure of hind-legs  Compliance in hind-legs  Replication of some canine gaits Motion of Joints and Degrees of Freedom The motion of a hip joint or shoulder joint of a real dog is a very complex, three dimensional, 6-degree of freedom (DOF) movement. To robotically replicate this is truly a difficult task. But it is not necessary to replicate this movement in its entirety. Many biomimetic robots have been designed that are perfectly capable of legged locomotion with just single-DOF joints [56, 57, 16, 26, 49, 58, 7]. Falling over due to the inability to stabilize in other DOFs is always a concern in legged robots. A planar constraint was to be imposed on the design. Specifically, the robot was to be able to move freely in only in the sagittal plane. This was imposed to reduce complexity and eliminate unnecessary variables in the system. Planarization can be achieved with a rotating boom if the boom is sufficiently long enough. A modified Quanser boom was used, illustrated in Fig. 2.12. More details are given below. Because of the planar constraint of the boom, the GARP-5 robot was able to be simplified in manor without this issue. Therefore the hips and shoulders of the GARP-5 robot were only actuated in the sagittal plane. The hind knees were able to rotate in the same plane, but remained passive and compliant. This meant that the GARP-5 robot was underactuated. The front legs were simplified with no knees, ankles that rotated in the same (sagittal) plane as the hip and no compliance. As with the hind legs, all forward driving force at the front legs were produced at each of the hip motors. Biomimetic Hind Leg Design The key biomimetic element of this robot was the hind leg design. Great care was taken to make sure that it was designed in form and function relating to that of real canines. Simplifications had to be made in order to focus the scope of the study; these are discussed further in this section. The proportions were based on average measurements of specific dog breeds (data used from [59]);

26

Hip (Actuated)

Shoulder (Actuated)

Knee (Passive, Compliant) Ankle (Ab/Aducting)

Wrist (Locked)

Figure 2.5: Simplified model showing the DOFs of the GARP-5 Robot.

this processing was done by Martin Gro from the University of Jena [60]. The proportions of the hind limb were established as follows:  The effective straight-line length of the hind leg, lhind would be approximately 30cm.  The unloaded knee angle, knee would be 142 w.r.t. to the thigh.  The fixed ankle angle, ankle would be 131 w.r.t. to the shank.  The thigh and shank would be approximately the same length.  If the lthigh , lshank and lf oot were summed to 100%, then the lthigh and lshank would represent approximately 37% each, and lf oot would represent approximately 26%. The hind legs of the GARP-4 robot were designed with 1 actuated degree-of-freedom (DOF) at the hip, one passive DOF at the knee and another actuated DOF at the ankle. The hip and knee rotated in the sagittal plane (the plane of forward locomotion), while the ankle rotated in the parasagittal plane. All the driving force was generated at the hip motor, and compliance in the leg 27

Caudal

Cranial

lthigh

Thigh 37% Hip
142

Knee

lhind

Ankle

Shank 37%
131

lshank

Foot 26%

lfoot

Figure 2.6: Simplified diagram of the hind limb.

28

40 mm

5.5 mm 23 mm

F y
38 mm
Knee Angle

Spring F F x

F z

Figure 2.7: Depiction of knee spring on the hind legs.

was introduced at the knee. The ankle was rotated perpendicular to this plane to address the issue of toe-stubbing (covered further in this chapter). This design proved successful in replicating basic quadrupedal locomotion, therefore it was implemented in the GARP-5 design.

Knee Compliance Linearization A monoarticular leg spring was placed about the passive knee to ensure its stability. This acted as the extensor muscle-tendon, ensuring that the knee rested at approximately 38 from the thigh's axis. The spring is analogous to the vastus medialis and vastus lateralis, acting as monoarticular knee extensors [61]. The knee extensor spring, due to constraints for placement of insertion and origin points on the leg mechanism, had to be place diagonally across the frontal plane of the knee joint, as shown in figure 2.7. This leads to a nonlinear stretching of the prismatic spring as the knee rotates. The distance, L, from the origin to the insertion points, located on the thigh and shank, is written as follows:

Lext =

2 (y1 + rcos())2 + z1 + (x1 + rsin())2 ,

(2.2)

where r is the radius of the arm extending from the knee's revolute joint to the insertion point on the shank, y1 , x1 , and z1 are the distances along the y, x and z-axes between the revolute joint and the origin of the spring, located on the thigh. The force developed by this spring is directly 29

proportional to its length, Lext , and its spring constant kext , as per Hooke's Law. This results in an expression for prismatic spring force, Fext :

Fext = kext Lext With Components along the x, y and z-axes, fx , fy , fz , respectively:

(2.3)

fx = kext (x1 + rsin()), fy = kext (y1 + rcos()), and

(2.4) (2.5)

fz = kext z1 which, in turn, leads to a new expression for Fext :

(2.6)

Fext =

2 + f2 + f2 fx y z

(2.7)

This spring force causes a force to be felt tangentially about the knee joint, Ftan , which, in turn, causes a moment about the knee joint, ext :

ext = rFtan = r(fx cos() - fy sin())

(2.8)

Given that the knee was not expected to bend more than 10 , it was decided to represent it as a linearized torsional spring in the operational range of 38 to 48 . This required an assumption that the knee starts at a rest angle of 38 . Using Eq. 2.2 and values of x1 = 40mm, y1 = 5.5mm, z1 = 23mm and r = 38mm, this yields a resting length of the prismatic spring to be 76.2mm. At 48 , using Eqs. 2.4 and 2.5, we obtain forces fx = 71.1N and fy = -66.3N pplied to the insertion point on the shank. This yields a torque of 3.68Nm, according to Eq. 2.8. Therefore, the linearized spring constant for the knee extensor torsional spring, kext : 3.68N - 0N = 0.368N/deg. 48 - 38 30

kext =

(2.9)

Damping for this spring was set to 0.01N/(deg/sec) to provide for realistic motion of the joint. Simplified Fore Leg Design Since the study was concerned with hind legs, the fore legs were simplified. Based on the data analyzed from [59], the straight-line approximation between the hip and and the wrist, assuming the elbow was locked at 145 , was taken to be the length of the main member of the fore limb lSLS . This is shown in figure 2.8, where lstanding is the length from the shoulder to the distal tip of the hand, assuming a 169 position of the wrist; this was found to be the average stance angle of the wrist from the given data. The proportions of the hind limb were established as follows:  The effective straight-line length of the fore leg during standing, lstanding would be approximately 28cm.  The unloaded elbow angle, elbow would be approximately 145 w.r.t. to the fused upper arm.  The fixed wrist angle, wrist would be 169 w.r.t. to the lower arm.  If the lupper , llower and lhand were summed to 100%, then the lupper would represent 55%, llower would represent approximately 30%, and lhand would represent approximately 15%. The wrists of the robot were actuated (in the same plane of motion as the hips), but they were kept locked so that the hands stayed in-line with rest of the forelimb; this effectively made the entire fore-limb a single member. To isolate the effects of the hind legs, the contributions of the fore legs to the dynamics of the system during locomotion needed to be reduced. This way, the energy being cycled through the system would be originating only from the hind legs. To do this, the front legs were locked in a static position of approximately shoulder = 23 . Wheels were added to the distal ends of the front legs rather than feet, to minimize the involvement of any sort of friction from a front foot. The front legs were essentially pushed by the back legs, only supporting the weight of the robot but not adding energy to the system.

31

Cranial

Caudal

Scapula + Upper Arm (Fused) 55%
lstanding lSLS lupper

Hip
145

Elbow

169

Lower Arm 30%
llower

Hand 15%
lhand

Wrist

Figure 2.8: Simplified diagram of the fore limb.

32

Finalized Nomenclature and Dimensions Figures 2.9, 2.10 , 2.11 and table 2.2 define the finalized nomenclature pertaining to the geometry of the GARP-5 robot. Nomenclature describing the boom is define in figure 2.12 and table 2.4. Together, these define the set of geometric parameters for the entire physical system. Table 2.3 gives the dimensions of the GARP-5 robot.
Table 2.2: Geometric nomenclature of GARP-5 robot (refer to figure 2.9).

Parameter Lbody Wbody LCoM lhind lf ore hip shoulder ef f knee  robot

Description Distance two hip actuators lying in the sagittal plane Distance between two hip actuators lying in the parasagittal plane Distance from the hip actuators to the assumed centre of mass Straight-line (effective) length of unloaded hind leg Length of foreleg Angle of thigh wrt the body (zero with legs perpendicular to body, ccw positive) Angle of foreleg wrt the body (zero with legs perpendicular to body, ccw positive) Angle of effective unloaded hind leg wrt the body (ccw positive) Unloaded angle ofknee ; Equals 142 Fixed angle between the robot-thigh and effective unloaded hind leg; Equals 11.2 Pitch angle of the body wrt horizontal (ccw positive)

Table 2.3: Dimensions of the GARP-5 robot.

Parameter Lbody Wbody LCoM lhind lthigh lshank lf oot lf ore

Value 42cm 18cm 21cm 29.5cm 12cm 12.3cm 8cm 32cm

33

L body

vCoM

L CoM

robot

hip knee lthigh lfore ankle lshank

shoulder

lhind

lfoot

vCoM

Wbody

LCoM

Lbody

Figure 2.9: Finalized used for the GARP-5 robot. Top: side view; Bottom: top-view.

34

Perpendicular Axis, w.r.t Body Thigh Axis

Figure 2.10: Effective leg geometry for the normal configuration.

Perpendicular Axis, w.r.t Body

Figure 2.11: Effective leg geometry for the transverse configuration.

Eff ec tiv eg eL Ax is

 eff hip

Thigh Axis

Ef fe ct e iv Le g is Ax

hip

 eff

35

Lboom

boom

Hboom

Figure 2.12: Diagram of the nomenclature used for the boom. Table 2.4: Geometric nomenclature of boom.

Parameter Lboom Hboom boom travel

Description Length of boom arm; distance between boom pivot and robot centre of mass; Equals 1.17m Height of the boom base Pitch angle of the boom wrt horizontal (ccw positive) Boom yaw/angle of travel

Normal and Transverse-Mirrored Leg Configurations Figure 2.13 shows both the configurations that are of interest in this study. The configuration on the top is known as the Normal Configuration. This is the leg configuration that is mimetic of the true morphology of canine hind legs. The knee is pointing in the cranial direction, and the ankle is pointed in the caudal direction. The bottom configuration on figure 2.13 shows the second, Transverse-Mirrored Configuration. This configuration is aptly named so because the leg is mirrored about the transverse plane.This was the unique configuration of interest for this study. By comparing the energetic performances of these two configurations, the goal is to give insight as to what leg design can be used for the purposes of future studies and newer legged robots.

36

vCoM

Transverse Plane

Normal Configuration

vCoM

Transverse Plane

Transversed Mirrored Confuguration

Figure 2.13: Both the normal (top) and transverse-mirrored (bottom) hind leg configurations that were studied.

37

2.3.7

Ground Contact Detection

Because a statemachine-driven controller was envisioned for the GARP-5, similar to the SCOUTII and PAW robots [16], it was required that the robot be able to quickly and consistently detect ground contact and lift-off. This is different that the rHex robot and other CPG driven robots that often do not require explicit ground contact detection. In order for the robot to take proper action during footfall, there needed to be a way for the robot to detect when it had placed a leg on the ground. This was a design aspect that the GARP-4 robot lacked and proved to be a hindrance for more complex behaviours. The GARP-5 design needed to address this problem so that a high-level closed-loop control algorithm could be implemented. An unique design element put developed for this project was the foot and toe assembly. According to simulations and experimentation, the walking surface for the toe was different for each configuration. For the normal configuration, contact happened on what could be thought of as the sole, or plantar surface. For the transversemirrored configuration, contact happened on the toe, or the distal surface. Figure 2.14 shows the general areas of contact that were seen to give successful forward locomotion. Not only did the toe have to be biomimetic, it had to be able to sense ground contact in both of the specified leg configurations. Dubbed the "DOS" foot (Dual Orthogonal Sensing), this new design used two sensors to sense ground contact on the plantar and distal planes of the foot. These two sensors were one force sensitive resistor (FSR), and one load cell. Figure 2.15 shows a diagram detailing the design. As mentioned in the previous chapter, the foot was made from a bending-beam load cell. This acted both as a structural component and sensing element. The load cell that was used was a Phidgets 3134 micro load cell with a maximum load capacity of 20kg. The FSR, an Interlink Electronics 0.5 (dia.) circular (FSR) was used since the load cell was only effective detecting forces applied in a perpendicular direction to it; transverse walking resulted in ground contact being made effectively in the parallel direction to the load cell. Support circuitry was required to interface FSRs to the analog input of the microcontroller. A circuit was constructed based on a suggested circuit from the vendor of the FSRs (found in Appendix C) The circuit consisted of a basic voltage divider, with 5V directly applied across the FSR and an in-series potentiometer, the other end of which was 38

Caudal

Cranial

Caudal

Cranial

vCoM
Contact Area

vCoM

Contact Area

Normal Configuration

Transverse-Mirrored Configuration

Figure 2.14: Contact areas for both leg configurations.

grounded. With its analog input connected across the potentiometer, the microcontroller would read 0 volts when no force was being applied to the FSR and a proportionally higher voltage once a force was felt. The sensors were assembled in such a way as to maximize the transmission of force force from contact to the respective sensor. The load cell was responsible for measuring contact on the plantar plane of the foot (while in normal configuration), and the FSR was responsible for measuring forces on the distal plane (while in transverse-mirrored configuration). The axes of force for each of the sensors are detailed in figure 2.16. It is noted that since both the sensors have different geometries and different characteristics, the range of angles of contact for which a touchdown would be registered by the sensor was limited and unique for each sensor. This is shown in figure 2.17, where N and M are the contact angles for the normal configuration and mirrored configuration, respecitvely. The range of N was found to be larger than M .

39

M5 Machine Screw

MicroRAX Member Load Cell Screw Shaft (Threaded through Load cell)

Force Sensitive Resistor Dragon Skin Toe

Figure 2.15: Sideview of DOS foot the GARP-5's hind legs.

Load Cell as a Structural Element Part of the uniqueness of this toe design comes from the load cell serving dual purposes: sensing and structure. The load cell acts as part of what what be the pastern on a canine. The Phidgets 3134 micro load cell was used as the physical dimensions fit the leg design, and they meet the requirement for strength and durability to withstand repeated impacts. Dragon Skin췛oe With the load cell being a flat, smooth and metallic, a rounder contact surface with higher friction was need at the distal end of the foot. For this, Dragon Skin, a two-part silicone rubber compound was used to cast the distal end of the load cell into a shape that could well-approximate an animal toe. The shape chosen was the wider, bottom half of an ovoid with an equatorial diameter of approximately 3cm, cut along the equatorial plane.

40

F co
ax is

ct nta

F co
nta ct

R FS

Figure 2.16: Visualization of the axes of force that the toe is sensitive to reading.

Lo C ad ell ax is

N M

Figure 2.17: Diagram depicting the ranges of sensing limitations of the toe design.

41

2.3.8

Motion & Power Consumption Tracking

Position and electrical data needed to be captured during the various trials of the robot in order to determine the energetics and performance of the robot. This section outlines the system used to capture position and electrical data.

The boom, introduced earlier in the chapter, came with three optical position encoders built into it to measure:  Yaw/rotational travel of the boom  Pitch angle of the boom  Pitch angle of the robot Each encoder was a US Digital E2-1024-250H 10-bit optical position encoder. The output of the encoders were quadrature signals, thus gave a position resolution of 12-bits. The data from the encoders were captured by a system designed in-house by BioRRG researchers. This system involved using three LS7366 quadrature counting ICs, one for each encoder, to keep track of the position of each of the encoders in real-time. Each counting IC ran at approximately 14MHz. The position data from each IC was then transferred via a serial peripheral interface (SPI) bus to another Adapt9S12XS board. This transfer took place at a frequency of 500Hz; this was the effective sampling rate of the entire boom aquisition system. Foot contact data was also sent from the robot to the controller board in charge of reading the boom data. This was done over a connection directly from the robot microcontroller to the boom acquisition microcontroller. This connection consisted of two separate wires, each connected to two separate digital pins on both controllers. When the robot contacted the ground with leg 3, a TTL-level voltage high would be sent from the robot to the boom capture system over a single digital pin. When leg 4 was placed on the ground, the second digital pin would be raised high. When both feet were on the ground at the same time, both pins would be raised. This data was stored as an integer value from 0-3 by the boom capture system. This integer was interpreted in post processing as: 42

 0 meant neither of the pins raised, thus no legs on the ground  1 meant the first pin was raised, thus leg 3 had made ground contact  2 meant the second pin was raised, thus leg 4 had made ground contact  3 meant both pins were raised, thus both legs had made ground contact The data was transferred via RS-232 over to another controller known as the cRIO (explained in the next section) for saving. The data was sent in the form of a packet that consisted of:  Packet reference markers  Time data  Saw tooth waveform counter (the use of which is explained in P ostP rocessing section)  Boom pitch  Robot pitch  Boom yaw/travel  Foot contact information This data was sent once every control cycle (500Hz), at a baud rate of 115.2 kBd. The National Instruments cRIO, which stands for Compact Reconfigurable Input Output, a rugged, real-time embedded industrial controller was the system used to control the GARP-4, similar to [62]. It features a 400MHz PowerPC processor and a slave FPGA in an architecture that supports the use of proprietary, swappable input/output modules to do a variety of tasks. However, as mentioned earlier, a sufficient control rate was not achieved. Therefore, the system was repurposed for this project to stream in data gathered from the boom acquisition system and to store it for post analysis.

43

Voltage and current data needed to be captured to determine the energy consumption of the robot during each run. This was crucial to determine the average and instantaneous power consumptions, the total energy required per run and other metrics such as specific resistance and cost of transport. Also, more specific analysis was of interest, such as total energy required per step and instantaneous and average consumption per step.

An Agilent N2791A differential voltage probe was connected across the Phoenix-Contact power source to monitor its voltage during each run. The probe is a has a range of 700V, and a bandwidth of 25MHz. The output impedance of the probe is 1M.

An Agilent N2782B current probe was clamped around the return line of the Phoenix-Contact power source to monitor the current being drawn from the system. The probe has a range of 30A (rms) a bandwidh of 50MHz. The output impedance of the probe is 1M.

An Agilent InfiniiVision MSO-X 3014A mixed signal oscilloscope was used to capture the voltage and current data from the two probes mentioned above. Both probes were connected to individual channels on the oscilloscope, making sure there was no miss-match between the input impedance of the scope and the output impedance of the probes. The scope was set to capture 62500 samples of data for each channel, over a span of 50 seconds; this equates to an effective sampling frequency of 1.25KHz.

During post processing, it was crucial that the electrical data from the oscilloscope and the position data from the boom be synchronized so that proper energy consumption information could be determined for each individual run. This was done using synchronization signals between the boom capture system, the cRIO and the oscilloscope. Since the boom data was being streamed to the cRIO to be saved using a LabVIEW GUI front-end, the synchronization signals started from there. At the push of the Write to File button in the LabVIEW GUI, a digital output pin was raised on the NI9401 Digital I/O module (which was connected to the cRIO). This pin was connected

44

by wire to a corresponding digital input pin on the Adapt9S12XS board responsible for streaming data from the boom encoders to the cRIO. The raising of this pin flagged to the boom capture system that data recording had begun. Once this happened, the boom system would increment a counter from 0-254; this counter would be incremented once every cycle (500Hz) and reset once every 255 iterations (effectively a saw tooth waveform). This counter was then streamed into the cRIO, inside the packet of data mentioned in the previous section; this counter information was saved along with the rest of the packet contents. Upon every reset of this counter, a second digital pin on the boom system, this time an output pin, would raise high for one cycle. This digital pin was connected via wire to a third channel on the oscilloscope to be monitored and saved along with the electrical data. During post-processing of data, the peaks of the saw tooth waveform from the boom data and the spikes from the oscilloscope data would be lined up to synchronize both sets of data.

2.3.9

Smooth Motion Control

Because animal limb-motion is relatively smooth, and it was desired to reproduce motion and stance dynamics, it was imperative that motion of the legs was to be executed as smoothly as possible. That means that control hardware and software that was capable of minimizing jerk (3rd motion derivative) was important. Analysis of Control of the GARP-4 Robot Upon inspection of the internal electrical components of the AX-12+ servomotors, it was found that they used an Atmega8 8-bit microcontroller to execute all control and communications processes. A potentiometer connected to the back of the output shaft of the gear train was used to determine the actual angular position of the servo horn. These position values were interpreted by the AX12+ as 10-bit values corresponding to an operational zone of 300 ; this is shown in figure 2.18. The AX-12+ motors did lack some desirable control-related features, and designing the GARP-5 presented an opportunity for these features to be addressed and improved upon. A major shortcoming of these motors was that they used a form of purely proportional control. This meant that

45

Figure 2.18: Diagram depicting the range position feedback in the Dynamixel RX-28 (reproduced from [4].

there was no integral and no derivative terms to aide in the position tracking of these servos. This was confirmed through an email exchange between Dr. James Smith and a representative from Robotis, the manufacturers of the Dynamixel motor series [48]. Since systems that rely purely on proportional control have a slimmer region of stability, its thought that the output of the system was thresholded so that the system would not be driven into instability. The AX-12+ lack the ability for the user to directly tune the gain(s), which is extremely undesirable. It is thought the proportional gain can be tuned partially using the Compliance parameter of the command set of the Dynamixel [4]. During a previous study conducted at BioRRG, the AX-12+s were tested for latency characteristics. This study is outlined in [52]. In summary, the study looked at the response time of the controller and drive system to a drive command sent over the native communication protocol. It was found that the minimum latency that could be expected was 17ms. Given that a 1KHz control frequency was required in the project (this is discussed in greater detail in later sections), a minimum 17ms latency time was deemed too high. As mentioned previously, the National Instruments cRIO was used to control the GARP-4 robot. This system is programmed using the LabVIEW graphical programming environment. The cRIO was used to control the robot by sending it position trajectories (outlined in the next section) via RS-232 through a native DB9 port. The abducting/adducing ankles of the GARP-4 were controlled using a 50Hz PWM signal generated by the NI9401 Digital I/O module plugged into

46

Figure 2.19: Diagram depicting linear trajectories used to drive the GARP-4's hip motors. "loop Iterations" is analogous to time scale; "Position Values" are 10-bit counts that correspond to the mapping seen in figure 2.18 (reproduced from [5]).

one of the slots of the cRIO. The highest control frequency that was achieved using the cRIO was approximately 150Hz. As mentioned previously, position commands were sent to the Dynamixel AX-12+s through an RS-232 communication link. To make these hip actuators move back and forth to approximate canine legged locomotion, the target positions were incremented and decremented linearly to form triangle wave position trajectories. This is shown in figure 2.19. These triangle wave trajectories did work to drive each motor back and forth correctly. The simple, linear nature of the trajectories meant that they took comparatively less computational resources to calculate during operation compared to more mathematically complex trajectories (i.e. sinusoids, high-order polynomials, etc.). During testing, however, it was seen that these trajectories produced somewhat jittery operation of the AX-12+ servomotors. During both forward and back swing, each leg was seen to noticeably jitter.

47

Control Requirements for the GARP-5 Many legged robots have been built by different research groups and many different institutions. Most of these robots have main control loops running at frequencies of approximately 1KHz (some examples include [7, 16, 15, 63, 39]). A rigorous study of control bandwidth in legged robots does not exist to date; current practice in the field dictates informal selection of 1kHz. As such, a 1kHz control rate for the GARP-5 was maintained as the standard requirement. A PD (proportional + derivative) controller needed to be implemented for each individual leg. PD controllers provide a position control, as well as velocity control because of the D-term. An Integral (I) term was not needed in this situation because the added computational complexity and smaller stability margin brought about by the integral term was not worth the benefits of eliminating the already small steady-state error. PD controllers have been used in other legged robots, such as [16, 15]. The GARP-5 needed to have user-tuneable gains to the PD controller so that adjustments could be made to optimize the system or to use different control methods, such as gain scheduling. The controller for the GARP-5 needed to be able to communicate using multiple protocols at different communication speeds. It's main communication tasks were:  communicate to the fore-leg RX-28s via RS-232/485  communicate with the hind-leg feet via 50Hz PWM  send foot-contact information to the data capture system. To do this, the Freescale MC9S12 family of micro controllers was used for control, as are most of the projects in the BioRRG lab. These primarily automotive microcontrollers provide broad feature sets at relatively low complexity. These controllers are capable of being programmed to provide time-deterministic execution, which is necessary given that this chip is prevalent in the automotive industry. Determinism is also extremely important for the control applications seen in the various projects throughout the lab. As well, members of the lab are thoroughly experienced in the use and programming of many MC9S12 variants, thereby cutting development time. It 48

was therefore a requirement for the GARP-5 robot to be controlled using a 9s12 chip-variant. The Adapt9S12XE/S development board, manufactured by Technological Arts of Mississauga, ON was chosen to control the entire robot. The board featured a 9s12XS128 chip-variant, with adequate inputs and outputs for the purposes of this design. Polynomial Trajectory Generation As mentioned previously, it was seen that linear trajectories (triangle waves) did not make a good choice for controlling the servomotors. According to [64], it is desired to have smooth trajectories as not to disturb any resonance modes of the mechanical syste. Steep first (velocity), second (acceleration), and even third (jerk) derivatives of the motion profiles are mitigated as much as possible in planning the movement of robots [65]. A seventh-order trajectory, known as the 7-6-54 polynomial [65] , was used on the GARP-5 robot to achieve smooth movement for each of the legs. The trajectories were used to make the legs go back and forth, much like a canine leg. The trajectories are mathematically summarized below. For a simple trajectory such as f (t) = sin(t) where f (t) is the position profile and t = time. We can easily see that: f (t) = cos(t) f (t) = -sin(t) f (t) = -cos(t) (2.11) (2.12) (2.13) (2.10)

where (2.11) corresponds to the velocity, (2.12) corresponds to the acceleration, and (2.13) corresponds to the jerk of the motion profile. As can be deduced from the above equations, the first, second and third derivatives are out of phase and equal zero at different points in the motion. This is undesirable for smooth motion; it is necessary that the velocity, acceleration and jerk settle to zero once the position trajectory has reached an end position. This could cause un-smooth movement, especially at the ends of the motion. The 7-6-5-4 trajectory solves this issue because its 49

Motion Trajectory with Derivatives for Hip Servomotors 1

Amplitude, Normalized

0.5

0

-0.5

-1 0

Position 1st Deriv. (Vel.) 2nd Deriv. (Accel.) 3rd Deriv. (Jerk) 0.2 0.4 0.6 Time, Normalized 0.8 1

Figure 2.20: 7-6-5-4 Trajectory Polynomial used to drive legs of the robot.

first, second and third derivatives all settle to zero when the position reaches either end points. The polynomial and trajectory plot is given below:

P ( ) = -20 7 + 70 6 - 84 5 + 35 4 where P ( ) is the position trajectory. Therefore, it follows that:

(2.14)

P ( ) = -140 6 + 420 5 - 420 5 + 140 4 P ( ) = -840 5 + 2100 4 - 1680 3 + 420 2 P ( ) = -4200 4 + 8400 3 - 5040 2 + 840 1 P , P , P , and P

(2.15) (2.16) (2.17)

correspond to position, velocity, acceleration and jerk, respectively. 

corresponds to normalized time (from 0 to 1). The 7-6-5-4 polynomial is in figure 2.20 for one half cycle of motion. It is clear that all the derivatives settle to zero at each of the end points of the position function. 50

High-Level Gait State-Machine The walking gait of the robot was controlled by a state-machine that coupled the movement of both hind legs. The state-machine was of the Moore type, where outputs relied purely on the current state rather than current state and current inputs (Mealy type) [66]. The state-machine can be defined by the variables Sn , Si , , , T, G, where:

-Sn is the current state -Si is the initial state - is the set of inputs to the state-machine - is the output of the state-machine -T is the transition function such that -G is the output function such that T: Sn  Sn In the walking state-machine shown in figure 2.21, the input vector is  = {T D3 , T D4 }, where T D3 , T D4 are binary values representing if a leg has made ground contact (T Dx = 1), or no ground contact (T Dx = 0). The output states are  = {Sn , hold1 , hold2 , action1 , action2 }. The robot starts in the initial state Si , which is a stance taken by the robot at the start of every run. The state-machine transitions out of the initial state by timer into the action1 state, where retraction of leg 4 and protraction of leg 3 occur. Once the two legs hit their end point, the state-machine settles into the hold2 state where both legs hold at the end points of their respective trajectories. Once touchdown s sensed on leg three (T D3 ) the action2 state occurs and leg 3 is retracted while leg 4 is protracted. The state-machine then settles into the Hold1 state. During each action state, it is possible for the machine not to reach any Hold states and transition between the two action states if appropriately triggered.

51

Si

TD3

Hold-1 (Retracted3 Protracted4)

TD4

Retract4 + Protract3

TD4

TD3

Retract3 + Protract4

Hold-2 (Retracted4 Protracted3)

TD3

TD4

Figure 2.21: High-level state-machine for walking.

52

2.4

Design Conclusions

The design of the robot met all of the design goals, except for using the RS485 communication standard. The reason for this was the motor drives had to be configured to run in pulse-width modulation mode since the native Dynamixel RX-28 on board electronics had performance issues, namely a high latency. For future design purposes, the robot can be configured to communicate using the RS485 standard, if necessary.

53

Chapter 3 Simulation
3.1 Introduction

A model of the GARP-5 robot was developed in Matlab-Simulink, using the parameters discussed in 6, Table 2.3. The Matlab-Simulink simulation was used to examine two major aspects of the GARP-5 system: basic walking in regular and transverse-mirrored leg configurations. The results are compared, later, with experimental results. The simulations helped nsure that walking was possible in both the regular leg configuration, as well as in the mirrored leg configuration.

3.1.1

Why Use Simulations?

Simulations are useful in the engineering process for a multitude of reasons. Physical systems generally have real constraints on them when it comes to experimentation. Durability, cost, time constraints and many others all play a role in limiting the number of real-world experiments once could carry out on a physical system. Scientists and engineers turn to simulations when the type or number of experiments become unrealistic and/or too costly. Destructive analysis is one example of an experiment type which could be extremely costly and may not be repeatable. Destructive analysis in simulation, however, could be repeated an nth number of times without increasing costs with every experiment. Simulations are also able to give researchers insight into the inner workings of systems that may be hard to come by through pure experimentation. Simulations allow a human operator to delve into the parts of the virtual that may not be accessible, measurable or visible in the real system. 54

An extension of this is that the virtual experiment can be slowed down or sped up for analysis purposes, something that is again hard to realize in reality. Simulations do have drawbacks, with realism being the most evident. Simulating a physical system only approximates how it would be have in the "sterile" environment of the simulation space. Simplifications and assumptions inherent in the process of designing a simulation tend to ultimately detract the virtual result from what happens in reality.

3.2

GARP-5 Simulation

The GARP-5 platform was simulated in the MATLAB/Simulink environment. The sections below outline the steps and procedures taken to design and execute these simulations. The simulation for the GARP-5 robot was based on was simulation originally developed by Smith for the PAW (Platform for Ambulation with Wheels) robot [16]. The model had to be scaled down, a boom added and more complex legs were implemented to reflect the design study at hand. The model, shown in Fig. 3.1, is a reasonable approximation of the actual robot. The main body parts (e.g. central body, upper leg segment, toe, etc.) are considered to be uniformly dense masses. Their individual mass values were calculated and applied to the model. A boom is used in this model, as it was on the robot. The front legs have sliding contacts with vertical ground reaction, but no horizontal plane friction, to approximate the rolling wheels of the actual robot.

3.2.1

Contact Model and Abducting/Adducting Legs

The model has abducting / adducting toes, just as the robot does. These toes have a switchable ground contact model that engages when the toes penetrate a predefined plane approximating ground. Ground Contact Model The Ground Contact Model (GCM) used in the simulation was developed by Smith but based on the model by Hunt and Crossley [67]. It includes three components: a vertical component (yaxis) and two horizontal components (x-axis and z-axis). The vertical component is described as 55

(a) Robot Model with Boom

(b) Transverse-mirrored leg configuration

(c) Normal leg configuration

Figure 3.1: The simulated GARP-5 robot is shown with a boom in (a), with the transverse-mirrored leg configuration in (b) and the normal leg configuration in (c).

non-linear spring damper: d dt

Fn = k + 

(3.1)

Where Fn is the normal force/vertical ground reaction force k is the spring rate (set to 500kN/m),  is the damping constant,  is the penetration depth and n is an exponential term that controls the penetration dynamics of the system (set to 1.5). The damping constant  is equal to 50-1 N s/m. The two horizontal components are defined as the same piecewise function:  탃    00015-v  -(탎 - 탃 )( 0.0 ) - 탃  .00005   -10000v탎 (v ) = 10000 v탎    00015-v  ( - 탃 )( 0.0 ) + 탃  .00005   s 탃 : v < -0.00015 : -0.0001 > v > -0.00015 : 0 > v > -0.0001 : 0 < v < 0.0001 : 0.0001 < v < 0.00015 : v > 0.00015

(3.2)

where 탎 and 탃 refer to the coefficients of static and kinetic friction respectively, and v refers to 56

either vx or vz , the velocities in along the x and y axes (in m/s).

3.2.2

Verification of Walking

The first objective of the simulation was to ensure that walking could be achieved in either leg configuration using the robot in the GARP-5 configuration. As can be see in FIgs. 3.2 and 3.3, the model was able to walk

(a) Start

(b) Capture 1

(c) Capture 2

(d) Capture 3

Figure 3.2: Walking with regular leg configuration, hip touchdown and liftoff angles were set to -30 and 40 degrees, respectively.

3.3

Limitations of Simulations

There are a number of factors that are near impossible to model with a high level of accuracy in legged robots. These include motor and gear / transmission characteristics (friction, backlash, speed-torque limits, etc.), as well as ground contact. The result is that the majority of legged 57

(a) Start

(b) Capture 1

(c) Capture 2

(d) Capture 3

Figure 3.3: Walking with mirrored leg configuration.

58

system models are, at best, only qualitatively similar. As will be seen in the Results and Analysis chapter, a qualitative match has been found between the simulations and the experimental results.

3.4

Conclusions

The simulations qualitatively demonstrate walking in both normal and transverse-mirrored leg hind-leg configurations. A comparison between simulation and experiment follows in Chapter 5.

59

Chapter 4 Leg Morphology Experiments
The major goal of this project was to contrast the performance effects of using a biomimetic leg in two configurations. The question that is to be answered here is will one leg configuration provide for faster and/or more efficient locomotion? A robot with biomimetic hind legs was made to walk forward with the legs in the normal, biomimetic configuration. Then, the legs were turned so that they were mirrored about the transverse plane, and the robot was made to walk in the same, forward direction. The robot was subjected to extensive experimentation in order to quantify the differences in order to inspire future designs. Below is a discussion of how tests were conducted to compare the speed and efficiency of the two leg configurations.

4.1
4.1.1

Experimentation Method
Experimentation Area

The experiments were conducted on linoleum flooring inside the BioRRG laboratory. A curved section of the laboratory space, roughly 2m2 was cordoned off as a test track for the robot to walk on. The track corresponded to the robot walking along a semi-circular path approximately 3.7m in distance. Figure 4.1 shows a bird's eye view of the test area.

60

Counter Mass Boom Base Lab Floor (Linoleum)

travel

Boom Arm GARP-5 Test Area
vCoM

Figure 4.1: Bird's eye view of the experimenation area.

61

4.1.2

Initial Referencing of Pitch-Encoders

All three of the encoders on the robot (robot pitch, boom pitch and boom yaw/travel) did not have an index output. This meant that the only position that was able to be ascertained from the encoder data was relative, and not with respect to a global point of reference (global with respect to each encoder). This was not a problem for the encoder measuring the boom travel, since a a relative distance traveled was all that was needed. However, this presented a problem for both of the pitch encoders since there was no way to determine what the horizontal positions of the boom and robot were. A procedure was developed to correct this so that during post-processing of the data, the absolute pitch of the boom and the robot could be determined. Since the LS7366 quadrature counting ICs (mentioned in the Electronics chapter) have no non-volatile memory, the accumulated count is reset to a value of 0 every time the power is cycled. Using two separate, perpendicularly positioned bubble levels (one along the boom and one along the robot body), the boom and the robot were positioned so that they were both parallel to the ground; the data acquisition system was then powered on. By doing this, the counters were initialized to 0 when both encoders were parallel to the ground, thus establishing a reference.

4.1.3

Setup of Electrical Measurement Equipment

The electrical measurement equipment, introduced in the Electronics section, was connected to the robot system to gather energy consumption data in synchronization with the stream of position data. The differential voltage probe and the current probe were connected to the oscilloscope (making sure impedances were matched). The terminals of the voltage probe were connected across the output of the Phoenix-Contact power supply, with the current probe was clamped around its return line. A third channel of the oscilloscope was connected (via a standard oscilloscope probe) to a digital output pin on the Adapt9S12XE/S board of the boom acquisition system; this channel was used to synchronize the boom data and electrical data (explanation is given in the Post Processing section). The scope was set to capture 62500 samples per channel over a period of 50 seconds (corresponding to a sampling frequency of 1.25kHz per channel).

62

4.1.4

Parameter Sweep

The parameters that were of interest were the touch-down (T Dx ) and lift-off (LOx ) angles for the hind legs (where the subscript x corresponds to the leg numbers 3 and 4). A total of 8 parameter sets were chosen to be analyzed for each leg configuration. A total of ten trials per parameter set was performed for purposes of statistical significance. Each leg used the same angles for each set, keeping the leg movements as symmetric as possible.

4.1.5

Trial Procedure

During each trial, a standard procedure was followed so that variability between each trial was minimized as much as possible. This procedure is listed below. 1. The oscilloscope was prepared to capture data by preparing the filename and pausing all acquisition on the scope by pushing the"Run/Stop" button. 2. The LabVIEW program was prepared for capture by preparing the file name, executing the VI and clearing the serial port read buffer of old, discarded samples from previous runs. 3. Acquisition on the scope was resumed by again pushing the"Run/Stop" button. 4. The"Write to File" button on the LabVIEW UI was pushed; this signalled LabVIEW to start saving all serial data, and also to start the synchronization waveform. 5. The robot was then activated by turning on the power switch. Upon activation, the control code already loaded on the microcontroller began to execute, initializing the robot in the stance position. 6. The robot, being at rest and suspended, was picked up and placed at the starting position marked on the ground; this was done before the ten seconds of stance were elapsed and the walking procedure was activated. Enough time was given so that the robot's leg springs could settle and all external energy added by the human operator to the robot by the picking and placing of the robot could be dissipated. 63

7. The robot was left alone to walk until it reached the end of the test track. 8. Once the end was reached, the robot was picked up and suspended once again. 9. The "Write to File" button was pushed again on the LabVIEW UI, ceasing the recording of the boom data. 10. The "Run/Stop" button on the oscilloscope was pushed once more, freezing the 50 seconds of captured electrical data; the data was then saved. Before every set of ten trials, the floor was swept and both feet of the robot were wiped with a damp cloth to ensure dust and debris played a minimal roll on the interaction between the feet and floor.

4.1.6

Post Processing

The first task in processing the data was to determine where the robot was in stance, as this represented the very beginning of the trial. This was done by plotting the boom travel data and looking for a very distinct and easily identifiable flat line near the beginning of the data. This represented where the robot stood still and the travel encoder count was not being incremented or decremented. The time a which robot moved at total of five encoder counts (corresponding to approximately 9mm of travel) in any direction from the flatline value was marked as the start of the walk. The second data processing task was to synchronize the boom data and electrical data using the synchronization waveforms (mentioned in the Electronics section). The boom data was used as a base, and the time from the first recorded sawtooth peak to the start of the walk was the time between when the human operator started recording data to the beginning of the robot walk. This time value was used to find where the robot started to walk with respect to the scope data by counting this same amount of time up from the first recorded spike on the third channel of the scope data. Even though the robot was made to walk for approximately 3.7m ever trial, only 2.30m of the run was used for data processing. This was because for some parameter sets, the robot wasn't able to walk the entire 3.7m distance before the 50s acquisition buffer on the oscilloscope reached its 64

capacity. Also, near the end of every trial, intervention by the human operator added variability. Some runs required the operator to pick up the robot at a shorter distance, again because of the 50s scope limit. 2.3m, starting from the stance position, represented a "safe" zone of undisturbed walking that the robot reached in every trial. Therefore, a completed walk was considered to be when the robot had reached 1300 encoder counts (2.3m) from where it was at the start of the walk. Given the oscillatory nature of load cells, the foot contact data relayed from the robot to the boom acquisition system need to be low-pass filtered in order to correctly isolate the individual steps taken by the robot. This was important because some parts of the data were analyzed on a per-step and/or per-stride basis.

4.2

Conclusions

32 data sets for stable walking were found (16 normal and 16 transverse). Each data set was tested 10 times, and the mean values were found. It was immediately evident that the transverse-mirrored configuration was capable of faster locomotion that the normal configuration. Further analysis of speed and efficiency is detailed in Chapter 5.

65

Chapter 5 Results & Analysis
To determine if the two leg configurations indeed have an energetics difference, extensive experimentation was carried-out on the physical robot and the robot simulation. Correlation between these two methods would provide mutual insight into and validation of each other. As mentioned earlier, the goal of this study was to compare results from simulation and experimentation. High degrees of quantitative correlation between simulation and experimentation in legged-robotics studies is rare [53, 12, 68]. Typically, either experimental results are given (e.g. [69, 70]), or simulation results (e.g. [71, 72, 73, 74]), but not both. The authors focus on behaviours and trends in data to ensure that he robot results were not an artifact if the experimental setup. Experimentation was done as analogously as possible between the robot and simulation so that the results could be properly compared. A summary of the experimental data is given in tables 5.1 and 5.2.

5.1

Specific Resistance

Specific resistance is a quantity of measure to compare efficiencies of vehicles as a function of their average velocities. Put forward by Gabrielli and von Karman [75], It is a unit-less measure that is defined by: P (v ) mgv

(v ) =

(5.1)

where v is the velocity of the vehicle, P (v ) is the total power expenditure w.r.t. to velocity, m is the mass of the vehicle and g is gravitational acceleration. The specific resistance was analyzed for the 66

Table 5.1: Data summary for the experiments in normal configuration.

Touch-Down Angle 43 43 43 43 49 49 49 49 55 55 55 55 61 61 61 61

Lift-Off Angle -56 -27 12 11 -56 -39 -27 -9 -56 -42 -27 -20 -56 -53 -50 -47

Velocity (m/s) 0.30 0.31 0.31 0.25 0.25 0.27 0.33 0.31 0.27 0.24 0.29 0.29 0.18 0.20 0.23 0.22

Consumption (joules) 193 181 184 228 232 213 183 182 235 237 203 198 315 298 240 266

Spec. Res. 5.3 5.1 5.3 6.4 6.2 5.9 5.1 5.1 6.4 6.5 5.6 5.4 8.9 8.0 6.8 7.4

Table 5.2: Data summary for the experiments in transverse-mirrored configuration.

Touch-Down Angle -9 -9 -9 -9 -6 -6 -6 -6 -4 -4 -4 -4 2 2 2 2

Lift-Off Angle - 71 -61 -50 -40 -71 -61 -50 -40 -71 -61 -50 -40 -71 -68 -65 -62

Velocity (m/s) 0.39 0.36 0.32 0.29 0.40 0.36 0.32 0.29 0.31 0.31 0.24 0.21 0.28 0.17 0.23 0.24

Consumption (joules) 156 151 175 193 142 157 171 191 149 186 221 272 225 215 209 232

Spec. Res. 4.4 4.1 4.6 5.1 3.9 4.3 4.7 5.2 4.1 5.1 6.8 7.2 6.4 5.9 5.8 6.3

67

Analysis: Specific Resistance, Resistance Normal Config
NORMAL: Hip Fwd Angle & Rev Angle vs Specific Resistance
EXPERIMENT: TD Angle & LO Angle vs Specific resistance

3 Spec cific Resistance e 25 2.5 2 1.5 1 0.5
Spe ecific Resistance

9 8 7 6 5 4 0

0 -10 -15 -20 LO Angle -20 0 -10 TD Angle 10

-20 -40 -60 LO Angle -80 30 TD Angle 50 40

Figure 5.1: Normal Configuration, Specific resistance results of simulation (left) and experimentation (right).

average velocities obtained for each set of touch-down and lift-off angles. The specific resistance was analyzed for the average velocities obtained for each touch down (TD) and lift off (LO) angles simulated. This is shown on the left in figure 5.1 . Specific resistance results are shown for experiments carried out with the robot in the normal configuration on the rightin figure 5.1. The highest specific resistance found with the robot during experimentation was approximately 8.9; the lowest was approximately 5.1. The figure clearly shows that as the LO angle more negative (meaning the robot kicks further back) and the TD increases (robot takes a larger step forward), the specific resistance increased (shown in figure 5.2). For the simulations carried out with the robot's hind legs in the normal configuration, a valley of relatively low specific resistance values appears to dominate most of the parameter space (figure 5.3). As the TD angle becomes increasingly positive (larger step forward), a sharp rise in the specific resistance values occurs. Similar behaviour can be seen as the LO angle value gets increasingly negative (farther kickback). The specific resistance for the robot in T ransverse configuration is shown in 5.4 (c); a steady decline is seen as the LO angle was made more negative (towards the posterior). The lowest spe68

Analysis: Specific Resistance, Resistance Normal Config
NORMAL: Hip Fwd Angle & Rev Angle vs Specific Resistance
EXPERIMENT: TD Angle & LO Angle vs Specific resistance

3 Spec cific Resistance e 25 2.5 2 1.5 1 0.5
Spe ecific Resistance

9 8 7 6 5 4 0

0 -10 -15 -20 LO Angle -20 0 -10 TD Angle 10

-20 -40 -60 LO Angle -80 30 TD Angle 50 40

Figure 5.2: Normal leg configuration, specific resistance: Note the increase in specific resistance as TD angles are brought further forward and LO angles are brought further back in the simulation (left) and the experiment (right)

Analysis: Specific Resistance, Resistance Normal Config
NORMAL: Hip Fwd Angle & Rev Angle vs Specific Resistance 3 Spec cific Resistance e 25 2.5 2 1.5 1 0.5
Spe ecific Resistance 9 8 7 6 5 4 0

EXPERIMENT: TD Angle & LO Angle vs Specific resistance

0 -10 -15 -20 LO Angle -20 0 -10 TD Angle 10

-20 -40 -60 LO Angle -80 30 TD Angle 50 40

Figure 5.3: Normal leg configuration, specific resistance: Note the plateau in specific resistance in the centre of the parameter space in the simulation (left) and the experiment (right)

69

Analysis: Specific Resistance, Resistance Transverse Config
TRANSVERSE: Effective TD & LO Angle vs Specific Resistance
TRANSVERSE: TD & LO Angles vs Specific Resistance 7.5 7 6.5 Spec cific Resistance 6 5.5 5 4.5 4 3.5 -20

3 Spec Res s 2 4 1 0 0 -20 -2 -60 TD Angle -80 -4 0 -40 2 6

-40 LO Angle -60 0

5

10 TD Angle

15

LO Angle

Figure 5.4: Transverse Configuration, Specific resistance results of simulation (left) and experimentation (right).

cific resistance was found to be approximately 3.9, while the highest was found to be 7.3.

The plot o the left-hand side of figure 5.4 shows the specific resistances found during the simulation of the transverse-configured robot, plotted against the TD and LO angles. Notice that there is a sharp decline in the specific resistance as the LO angle becomes more negative (towards the posterior) and the TD angle increases (farther forward, towards head); this is shown in figure 5.5. It is also obvious from the figure that the results plateau quite quickly to a region where the specific resistance doesn't change much with increasing TD angle and decreasing LO angle.

Similar trends were seen in both the simulated and experimental specific resistance results for the normal leg configuration. The specific resistance was seen to climb sharply in both cases as the TD angle increased (steps farther forward) and the LO angle became more negative (kicks farther backwards). This meant that the robot's efficiency was seen to decrease as the leg was extended farther in front to take a step, and kicked further back while completing the step. Further more, the specific resistance was also seen climbing when the LO angle approached zero ( perpendicular to 70

Analysis: Specific Resistance, Resistance Transverse Config
TRANSVERSE: Effective TD & LO Angle vs Specific Resistance
TRANSVERSE: TD & LO Angles vs Specific Resistance 7.5 7 6.5 Spec cific Resistance 6 5.5 5 4.5 4 3.5 -20

3 Spec Res s 2 4 1 0 0 -20 -2 -60 TD Angle -80 -4 0 -40 2 6

-40 LO Angle -60 0

5

10 TD Angle

15

LO Angle

Figure 5.5: Transverse-mirroed leg configuration, specific resistance: Note the sharp decreasing in specific resistance in the simulation (left) and the experiment (right).

the body) at the same time the TD angle decreased (brought closer to the centre). This meant that there was efficiency loss due to the touchdown and liftoff of the leg happening too close too each other; in other words, when the robot would take smaller steps. Both simulation and experimental data showed the same general trend of a sharp decrease in specific resistance in the transverse configuration when the LO angle became more negative (towards the back) and the TD angle became more positive (towards the head). The simulation data showed that a large plateau was reached around the centre of the parameter space; this was not seen with the experimental results. It is thought that since the stable paramerter-space for the experimental is shifted further in the negative LO angle region then compared to the simulation, the robot could not kick back any further as the could have been hitting an mechanical limit of rotation. Taking a look at the plateaued area in the simulated results, making the LO angle more negative did not show much of an effect; it is thought that this might be due to the further kicking back of the leg doing nothing more than just increasing the flight-time of the leg, therefore having no significant impact on the energetics. The right-hand side of figure 5.6 shows the velocity trend for the experiments conducted in 71

Analysis: Velocity, Velocity Normal Config
NORMAL: Hip Fwd Angle & Rev Angle vs Velocity

EXPERIMENT: TD Angle & LO Angle vs Velocity

1 0.8 Velocity m/s V 0.6 0.4 0.2 0 -10 -15 -20 LO Angle -20 0 -10 TD Angle 10

0.35

0.3

0 25 0.25

0.2 0 -20 -40 -60 LO Angle -80 30 TD Angle 50 40

Figure 5.6: Normal Configuration, velocity of simulation (left) and experimentation (right).

Analysis: Velocity, Velocity Normal Config
NORMAL: Hip Fwd Angle & Rev Angle vs Velocity

EXPERIMENT: TD Angle & LO Angle vs Velocity

1 0.8 Velocity m/s V 0.6 0.4 0.2 0 -10 -15 -20 LO Angle -20 0 -10 TD Angle 10

0.35

0.3

0 25 0.25

0.2 0 -20 -40 -60 LO Angle -80 30 TD Angle 50 40

Figure 5.7: Normal leg configuration, velocity: Note the sharp decreasing in specific resistance in the simulation (left) and the experiment (right)

72

Analysis: Velocity, Velocity Transverse Config
TRANSVERSE: Effective TD & LO Angle Velocity
TRANSVERSE: TD & LO Angles vs Velocity 0.45

1 0.8 Spe eed 0.6 0.4 0.2 0 0 -20 -40 -2 -60 -80 -4 TD Angle 2 0 6 4
02 0.2 -30 -40 LO Angle 5 -50 -60 0 TD Angle 10 Foward V Velocity (m/s) 0.4 0.35 0.3 0.25 15

LO Angle

Figure 5.8: Transverse Configuration, Velocity results of simulation (left) and experimentation (right).

normal leg configuration. It is evident that the velocities decline as the LO angles become increasingly negative and the TD angles become increasingly positive (robot kicking further back and stepping farther forward). A maximum average velocity of 0.33 m/s and a minimum average velocity of 0.18 m/s were reached during experimentation. The left-hand side of figure 5.6 shows the velocities achieved for a given range of interest of TD and LO angles during simulation. One can clearly see a rise in and a fall in the velocity of the robot as the LO angle gets more negative and the TD angle increases. The similarities in the trends between experiment and simulation are shown in figure 5.7.

A steady increase in velocity is seen on the right-hand sdide of figure 5.8, when the robot was configured to walk in the transverse configuration. According to the figure, this was happening when the LO angle was made more negative (further kick back). However, a slight increase, then a steep decrease was seen in the velocity as the TD angle was increased (farther step TD). The highest velocity attained in this configuration was 0.4 m/s, while the slowest was 0.21 m/s. The left-hand side of figure 5.8 clearly shows a trend seen in the resulting velocities of the simulations of the transverse-configured robot. It is seen that there is a sharp increase in velocity of 73

Analysis: Velocity, Velocity Transverse Config
TRANSVERSE: Effective TD & LO Angle Velocity
TRANSVERSE: TD & LO Angles vs Velocity 0.45

1 0.8 Spe eed 0.6 0.4 0.2 0 0 -20 -40 -2 -60 -80 -4 TD Angle 2 0 6 4
02 0.2 -30 -40 LO Angle 5 -50 -60 0 TD Angle 10 Foward V Velocity (m/s) 0.4 0.35 0.3 0.25 15

LO Angle

Figure 5.9: Transverse-mirrored leg configuration, velocity: Note the sharp increasing in specific resistance in the simulation (left) and the experiment (right)

the robot with increasingly negative LO angles, but around approximately -35컏he velocity starts to decline. Also, a steady incline can be seen in both simulation and experimental resultsin the velocity can be seen as the TD angle becomes increasingly positive; this is shown in figure 5.9. The trend was clear in both the simulated results and experimental results: the more negative the LO angle became, the faster the robot would move, similar to [53]. In experiment, the velocity typically increased as the TD leg angle (at or prior to touchdown) is increased, up to a point where a braking action engages because the angle is too great. This was expected and is similar to other legged robots. We, however, did not find the region of braking in simulation for the transverse leg configuration and likely need to expand our search space to find it.

5.2

Comparison of Specific Resistance Efficiency Results

Figure 5.10 shows the comparison between the velocities vs specific resistances achieved for each configuration for the experimental results. This comparison gives a good understanding of how much power is being consumed to achieve particular velocities. Both lines are 3rd order curves fitted to their respective points. 74

Conf igN = (-720.61v 3 + 682.10v 2 - 230.61v + 32.66) Conf igT r = (594.25v 3 - 466.93v 2 + 97.03v + 2.01)

(5.2) (5.3)

We see that around 0.25m/s, there is not much of an obvious difference in efficiency. However the curves diverge once the velocity increase, with the T ransversed configuration curve staying beneath the curve of the normal configuration. Comparing both configurations, it was shown in simulation and experimentation that the transverse arrangement equalled or outperformed the normal configuration. The transverse configuration had better maximum velocity and better minimum specific resistance. The transverse configuration was able to achieve higher average TD walking velocities and use less energy in most speeds that were able to be achieved by both configurations. We see in figure 5.11 that even when both configurations yield approximately the same forward velocity, the transverse configuration is still shown to be more efficient. To understand the reason for these results, one must look at the behaviour of the knee joint and knee spring to ascertain their roles. The knee was seen to rotate much more in the transverse configuration than in the normal configuration. The knee flexed less than five degrees in the normal configuration trials, while flexion up to 20 degrees was observed in the transverse leg trials. The reason for this is because the effective torque applied to the knee joint during stance is greater in the transverse configuration. Figure 5.12 shows the effective moment arm at the knee for both leg configurations. It is clear that the transverse configuration has a much longer effective moment arm than the normal configuration. A larger moment arm means that the knee spring is able to be engaged much more; this storing of more energy in the spring is a large factor in the more efficient and faster walking seen in the transverse configuration mode. Screen Captures Figures 5.13 and 5.14 show screen captures of the robot walking in both configurations. Notice for figure 5.14 (b), the robot is shown to achieve an ariel phase of both it's hind legs. This is thought to be a direct result of the increased spring engagement seen in the transverse configuration. 75

Velocity vs Specific Resistance 12 11 10 Specific Resistance (Unitless) 9 8 7 6 5 4 3 2 Normal Config Transverse-Mirrored Config

0.2

0.25

0.3 Velocity (m/s)

0.35

0.4

Figure 5.10: Experimental Velocity vs Specific Resistance comparison of the two leg configurations. (Note how the transverse configuration is consistently more efficient and achieves higher speeds). 76

Analysis: Comparison
12 11 10 Specific Re esistance (Unitless s) 9 8 7 6 5 4 3 2 Velocity vs Specific Resistance Normal Config Transverse-Mirrored Config

0.29 m/s @SR = 5.6

0.29 m/s @SR = 5.2

0.2

0.25

0.3 Velocity (m/s)

0.35

0.4

Figure 5.11: Close up of region where divergence between the two configuration starts.

Caudal

Cranial

Caudal

Cranial

Extension Spring

FContact

Extension Spring

FContact

Lmoment
Normal Configuration

Lmoment
Transverse-Mirrored Configuration

Figure 5.12: The effective moment arm about the knee joint in the transverse configuration is greater than in the normal configuration. This leads to greater knee flexion, and therefore engagement of the spring, during ground contact.

77

(a) Right-hind leg makes contact

(b) Right-hind leg pushes back; left-hind leg swings forward

(c) Left-hind leg makes contact

(d) Left-hind leg pushes back; right-hind leg swings forward

Figure 5.13: Step sequence of walking in the normal configuration.

78

(a) Right-hind leg makes contact

(b) Right-hind leg pushes back; left-hind leg swings forward (notice the ariel phase achieved by both hind legs)

(c) Left-hind leg makes contact

(d) Left-hind leg pushes back; right-hind leg swings forward

Figure 5.14: Step sequence of walking in the transverse configuration.

79

Additional Comments It should be noted that when comparing the regions of stable walking between both platforms, it was seen that the robot was consistently shifted to a more negative region of LO angles and more positive region of forward angles. This is thought to be due to the nature of the instrumentation used to detect ground contact on the robot. (Specific information about the sensor ranges is covered in chapter 2). It was also seen that the specific resistance (absolute) values in the simulation were generally in a lower range than what with the robot. This is because electrical measurements (motor current and voltage) were used to evaluate power in the robot, while mechanical measurements (joint speed and torque) were used in simulation. Due to inefficiencies in the typical conversion of electrical power to mechanical power via a motor, electrical power is typically higher for a given mechanical power output.

80

Chapter 6 Conclusions & Future Work
6.1 Conclusions

The objective of this thesis was to examine possible reasons for choosing one leg configuration over another in a quadrupedal robot. In the process we documented the research and development of a boom-supported, biomimetic quadrupedal robot, the GARP-5. This included the development of a multi-sensor toe design used for detecting ground contact for two different configurations of the same leg. The hind leg included a monoarticular spring to provide overall leg compliance. This robot was able to successfully achieve walking with its hind legs in a normal, biomimetic configuration, as well as with a transverse-mirrored configuration. The walking trials for these two configurations, and the accompanying comparison of speed and specific resistance, was the focus of this thesis. To the author's knowledge, no quadrupedal robot has been examined in such a manner. During experimentation, it was found that the transverse-mirrored hind leg configuration was more energy efficient and was able to attain faster walking velocities than the normal, biomimetic hind leg configuration. The lowest overall experimental specific resistance was found in the transverse configuration at 3.9. In experiments, the fastest average forward walking velocity for the transverse-mirrored configuration was approximately 0.4m/s. However, it was found that around 0.25m/s, both configurations had approximately the same efficiency. It was found that both configurations consumed approximately the same average instantaneous energy. The normal configuration was seen to have a much larger operational range of touchdown angles compared to the 81

transverse-mirrored configuration.

The reason for the better performance in the transverse-mirrored configuration is found in the larger moment arm from the toe to the knee. This engages the knee spring to provide for more energetically efficient motion at higher speeds. Therefore, the transverse-mirrored configuration (knees pointing caudally, ankles pointing cranially) should be selected if speed and energy efficiency are pivotal design or performance factors. However if large ranges of touchdown and liftoff angles are required of the robot, it may be advantageous to develop the legs with a normal biomimetic leg design (knees pointing cranially, ankles pointing caudally). The design of the robot met all of the design goals apart from using the RS485 communication standard. This design successfully demonstrated walking in both leg configurations, and also demonstrated successful telemetry to power and localization data.

6.2

Future Work

Improvements for future studies include:  Moving to an untethered, dynamically stable system, so that the dynamics could be seen in three dimensions. To do this, stronger actuators will be needed so that the robot would be able to support its own weight, for the same size.  Encoder feedback for the individual PD control loops for each leg. Currently, potentiometer feedback is being utilized for position feedback to the control system for each leg. Analog feedback is inherently susceptible to electromagnetic interference, affecting tracking performance. Jitter was seen when each leg was in a steady locked position; this is thought to be because of the interference on the feedback lines. Encoder feedback is inherently more robust to noise, and on a tightly packed system like the GARP-5 where high power lines are in close proximity to feedback lines, this would be quite advantageous.  The addition of knee-flexion sensing would be advantageous so that a direct measurement of the change in knee angle during walking could be used to deduce the amount of energy 82

being stored in the spring be found. This could possibly give insight as to why there is an energy consumption difference between the two leg configurations.  Different compounds and shapes could be experimented with respect to design the toe as to optimize contact and minimize slippage.  Improvement to the control system so that state-machine chatter. This was shown to occur when both feet came in contact with the ground; an oscillation of states would occur for a brief period until one foot would dominate, and walking would continue.  To use statistical analysis techniques to determine the optimum number of trials per set of touch-down and lift-off parameters.  More simulation work needs to be carried out so that there is a higher correlation between the experimental setup and the simulated model. The simulation can give a better idea of ground reaction forces and other dynamics that may not be completely obvious or hard to ascertain from the experimental setup. Higher correlation between these two would assuredly lead to stronger insight of the behaviours.

83

Bibliography
[1] Wilhelm Ellenberger, Hermann Baum, and Hermann Dittrich (illustrator). Animal anatomical engraving from handbuch der anatomie der tiere f ur k unstler', 1889 and 1911-1925. [2] Mider. Image of a dog with numbers for specific anatomical structures, December 2005. [3] Ned Mohan. Electric Drives - An Integrative Approach, pages 713 and 718. MNPERE, Minneapolis, MN, USA, 3rd edition, 2003. [4] Robotis Inc. Dynamixel RX-28 User Manual. Robtos Inc, 1506 Ace High-End Tower No. 3, 371-50 Gasan-dong Geumcheon-gu, Seoul, South Korea, v1.10 edition. [5] Jamil Jivraj, Timothy Dalan, Murtaza Dohadwala, and James Andrew Smith. Gait adapting robotic platform. Undergraduate capstone project, Ryerson University, 350 Victoria St., Toronto, Ontario, Canada, April 2010. [6] James A. Smith. Using biology to inspire engineering. TEDxRyerson Talk, November 2011. [7] M. H. Raibert. Legged Robots That Balance. MIT Press, Cambridge, MA, USA, 1986. [8] Hartmut Witte, Remi Hackert, Karin E. Lilje, Nadia Schilling, Danja Voges, Gertrud Klauer, Winfried Ilg, Jan Albiez, Andre Seyfarth, Daniel Germann, Manfred Hiller, Rudiger Dillman, and Martin S. Fischer. Transfer of biological principles into the construction of quadruped walking machines. In 2001 Proceedingsof the Second International Workshop on Robot Motion and Control, pages 145149. IEEE, 2001. [9] Jan Albiez and Karstan Berns. Biologically inspired walking - how much nature do we need? In Climbing and Walking Robots, number Three, pages 357364. Springer, 2005. 84

[10] Martin S. Fischer and Reinhard Blickhan. The tri-segmented limbs of therian mammals: kinematics, dynamics, and self-stabilization - a review. Journal of Experimental Zoology Part A: Comparative Experimental Biology, 305A(11):935  952, 2006. [11] A. Seyfarth, M. Guenther, and Blickhan R. Stable operation of an elastic three-segmented leg. Biological Cybernetics, 84:364  382, 2001. [12] M. Raibert. Trotting, pacing and bounding by a quadruped robot. Journal of Biomechanics, 23:7990, 1990. [13] K. Yamazaki. The design and control of scout i, a simple quadruped robot. Master's thesis, McGill University, Montreal, Quebec, Canada, February 1999. [14] Robert Battaglia. Design of the Scout II quadruped with preliminary stair climbing. Master's thesis, McGill University, May 1999. [15] Martin de Lasa. Dynamic compliant walking of the Scout II quadruped. Master's thesis, McGill University, 2000. [16] J. A. Smith. Galloping, Bounding and Wheeled-Leg Modes of Locomotion on Underactuated Quadrupedal Robots. PhD thesis, McGill University, Montreal, Quebec, Canada, November 2006. [17] Z. G. Zhang, Y. Fukuoka, and H. Kimura. Stable quadrupedal running based spring-loaded two-segment legged on a model. In IEEE International Conference on Robotics and Automation (ICRA), pages 2601  2606, New Orleans, LA, USA, April 2004. [18] Z. G. Zhang, Y. Fukuoka, and H. Kimura. Adaptive running of a quadruped robot using delayed feedback control. In Proceedings of the 2005 IEEE International Conference on Robotics and Automation (ICRA '05), pages 3750  3755, Barcelona, Spain, April 2005. [19] Hiroshi Kimura, Yasuhiro Fukuoka, and Avis H. Cohen. Adaptive dynamic walking of a quadruped robot on natural ground based on biological concepts. volume 26, pages 475490. 2007. 85

[20] Yasuhiro Fukuoka and Hiroshi Kimura. Biomorphic quadruped 'tekken' robot using various gaits: Walk, trot, free-gait and bound. volume 6, pages 19. March 2009. [21] Yasuhiro Fukuoka, Hiroki Katabuchi, and Hiroshi Kimura. Dynamic Locomotion of

Quadrupeds"Tekken 3 and 4" Using Simple Navigation System, volume 22, pages 3642. February 2010. [22] M. Buehler, R. Playter, and M. Raibert. Robots step outside. In Int. S. on Adaptive Motion of Animals and Machines, Ilmenau, Germany, September 2005. [23] J. Hurst and A. Rizzi. Series compliance for an efficient running gait. Robotics & Automation Magazine, IEEE, 15(3):4251, September 2008. [24] C. Chevallereau, G. Abba, Y. Aoustin, F. Plestan, E.R. Westervelt, C. Canudas de Wit, and J.W. Grizzle. Rabbit: A testbed for advanced control theory. IEEE Control Systems Magazine, June 2003. [25] Daniel Ranjewski and Andre Seyfarth. Robots in human biomechanics, 2012. [26] James Andrew Smith and Andre Seyfarth. Elastic leg function in a bipedal walking robot. In Proceedings of the XXI Congress of the International Society of Biomechanics, Taipei, Taiwan, July 2007. International Society of Biomechanics. [27] J. G. Nichol, L. R. Palmer, S. P. N. Singh, D. E. Orin, and D. E. Waldron. System design of a quadrupedal galloping machine. International Journal of Robotics Research, 23(1011):10131027, 2004. [28] Serrani A. Yang, T.and Westerveltand E.R. and J.P. Schmiedeler. A framework for the control of stable aperiodic walking in underactuated planar bipeds, 2009. [29] Boston Dynamics. Cheetah - fastest legged robot. Online, 2012. http://www.

bostondynamics.com/robot_cheetah.html. [30] Walkin' wheels, 2012. 86

[31] Kawee Suwannasit and Sathaporn Laksanacharoen. A bio-inspired hybrid leg-wheel robot. In In proceeding of: TENCON 2004, volume D. IEEE Region 10 Conference, 2004. [32] Shuro Nakajima and Eiji Nakano. Adaptive gait for large rough terrain of a leg-wheel robot (fifth report: Integrated gait). Journal of Robotics and Mechantronics, 21(3):419420, 2009. [33] R. Blickhan. The spring-mass model for running and hopping. J. Biomech., 22(11-12):1217 1227, 1989. [34] M. Buehler, R. Battaglia, A. Cocosco, G. Hawker, and Y. Yamazaki. SCOUT: A simple quadruped that walks, climbs, and runs. In Proceedings of the 1998 International Conference on Robotics and Automation (ICRA), pages 17071712, Leuven, Belgium, 1998. [35] I. Poulakakis, E. Papadopoulos, and M. Buehler. On the stability of the passive dynamics of quadrupedal running with a bounding gait. The International Journal of Robotics Research, 25(7):669  687, July 2006. [36] Carl Steeves. Design and behavioural control of a dynamic quadruped with active wheels. Master's thesis, McGill University, November 2002. [37] H. Geyer, A. Seyfarth, and R. Blickhan. Positive force feedback in bouncing gaits? Proc. R. Soc. London B, 270(1529):21732183, 2003. [38] J. Rummel and A. Seyfarth. Stable running with segmented legs. Int. J. Robot. Res., 27(8):919934, August 2008. [39] Claudio Semini. HyQ  Design and Development of a Hydraulically Actuated Quadruped Robot. Hyq, italy, italian, quadruped, hydraulic, electric, Italian Institute of Technology and University of Genoa, Genoa, Italy, 2010. [40] Evan Ackerman. ber 2011. Sq1: Quadruped robot from south korea. Online, Octo-

Url: http://spectrum.ieee.org/automaton/robotics/robotics-software/video-sq1-

quadruped-robot-from-south-korea.

87

[41] Evan Ackerman.

Littledog navigates ruff terrain.

Online, September 2007.

Url:http://spectrum.ieee.org/automaton/robotics/military-robots/littledog-navigates-ruffterrain. [42] A. Seyfarth, H. Geyer, S. Lipfert, and J. Rummel. Running and Walking with Compliant Legs, volume 340, pages 383401. Springer. [43] Xiuli Zhang, Haojun Zheng, Xu Guan, Zhifeng Cheng, and Liyao Zhao. A biologically inspired quadruped: Structure and control. In 2005 IEE International Conference on Robotics and Biomimetics. IEEE, 2005. [44] Xu Guan, Haojun Zheng, and Xiuli Zhang. Biologically inspired quadruped robot biosbot: Modelling, simulation and experiment. In 2nd International Conference on Autonomous Robots and Agents, pages 261266, Palmerston North, New Zealand, December 2004. [45] J. Rummel, F. Iida, and A. Seyfarth. Enlarging regions of stable running with segmented legs. In IEEE Int. Conf. Robot. Autom., pages 367372, Pasadena, California, 2008. [46] L. R. Palmer, D. E. Orin, D. W. Marhefka, J. P. Schmiedeler, and K. J. Waldron. Intelligent control of an experimental articulated leg for a galloping machine. In IEEE International Conference on Robotics and Automation, 2003. Proceedings. ICRA '03, pages 38213827, Taipei, Taiwan, September 2003. [47] F. Iida and R. Pfeifer. Sensing through body dynamics. Robotics and Automation Systems, 54:631640, 2006. [48] James Andrew Smith. Details on ax-12+ "goal position" and "moving speed". Online, November 8 2010. http://www.robotis.com/xe/34722#comment_34824. [49] Jamil Jivraj and James Andrew Smith. Primary energetics analysis of tripedal and

quadrupedal gaits using the garp-4 robot. In Proceedings of the 24th Canadian Conference on Electrical and Computer Engineering (CCECE), pages 001206 001211, Niagara Falls, Ontario, Canada, May 2011. IEEE, IEEE. 88

[50] Robotis Inc. Dynamixel AX-12+ User Manual. Robtos Inc, 1506 Ace High-End Tower No. 3, 371-50 Gasan-dong Geumcheon-gu, Seoul, South Korea, June 2006. [51] D. McMordie. Towards pronking with a hexapod robot. Master's thesis, McGill University, Montreal, Quebec, Canada, July 2002. [52] James Andrew Smith and Jamil Jivraj. Analysis of robotis dynamixel ax-12+ actuator latencies. In Symposium on Brain, Body and Machine, Montreal, Quebec, Canada, November 2010. McGill University, McGill University. [53] James Andrew Smith, Ioannis Poulakakis, Michael Trentini, and Inna Sharf. Bounding with active wheels and liftoff angle velocity adjustment. The International Journal of Robotics Research, 29(4):414  427, April 2009. [54] I. Poulakakis. On the passive dynamics of quadrupedal running. Master's thesis, McGill University, Montr eal, Qu ebec, Canada, July 2002. [55] Martin Gross and Juergen Rummel. Swing-leg strategies for stable dog trotting. In Molecular and Integrative Physiology, volume 153 (2, Supplement 1), 2009. [56] U. Saranli, M. Buehler, and D. E. Koditschek. RHex: A simple and highly mobile hexapod robot. Int. J. Robot. Res., 20(7):616631, 2001. [57] Didier Papadopoulos. Stable running for a quadruped robot with compliant legs. Master's thesis, McGill University, Montreal, Quebec, Canada, April 2000. [58] Joaquin Estremera and Kenneth J Waldron. Thrust Control, Stabilization and Energetics of a Quadruped Running Robot. The International Journal of Robotics Research, 27(10):1135 1151, 2008. [59] Martin S. Fischer and Karin E. Lilje. Hunde In Bewegung. Franckh-Kosmos Verlags-GmbH and Co., Stuttgart, Germany, 1 edition, 2011.

89

[60] Martin Gross, Jamil Jivraj, and James A. Smith. Email exchange with martin gross about robot design. Email, April to September 2011. [61] Franc  ois Hug and Sylvain Dorel. Electromyographic analysis of pedaling: A review. Journal of Electromyography and Kinesiology, 19:182198, 2009. [62] M. Hutter, C. Gehring, M. Bloesch, M. Hoepflinger, C. D. Remy, and R. Siegwart. Starleth: A compliant quadrupedal robot for fast, efficient, and versatile locomotion. In Proceedings of the International Conference on Climbing and Walking Robots (CLAWAR), 2012. [63] James Andrew Smith and Andre Seyfarth. Elastic leg function in a bipedal walking robot. J. Biomech., 40(S2):S306, 2007. [64] Bruno Siciliano, Lorenzo Sciavicco, Luigi Villani, and Giuseppe Oriolo. Robotics Modelling, Planning and Control. Advanced Textbooks in Control and Signal Processing Series. Springer-Verlag, London, United Kingdom, 2009. [65] Jorge Angeles. Fundamentals of Robotic Mechanical Systems - Theory, Methods, and Algorithms. Springer-Verlag, second edition, June 2002. [66] Charles H. Roth Jr. Fundamentals of Logic Design. Wadsworth Publishing Company, 2004. [67] K. H. Hunt and F. R. E. Crossley. Coefficient of restitution interpreted as damping in vibroimpact. Transactions of the ASME: Journal of Applied Mechanics, 42(2):440  445, June 1975. [68] A. Seyfarth, R. Tausch, M. Stelzer, F. Iida, A. Karguth, and O. von Stryk. Towards

bipedal running as a natural result of optimizing walking speed for passively compliant threesegmented legs. In CLAWAR 2006, Brussels, Belgium, September 2006. [69] F. Iida, G. J. Gomez, and R. Pfeifer. Exploiting body dynamics for controlling a running quadruped robot. In Proceedings of the 12th International Conference on Advanced Robotics (ICAR05), pages 229235, Seattle, WA, USA, July 2005.

90

[70] Philippe Giguere, Gregory Dudek, Chris Prahacs, and Shane Saunderson. Environment identification for a running robot using inertial and actuator cues. In Robotics: Science and Systems II, Philidelphia, USA, 2006. [71] Moritz Maus. Stabilisierung des oberkoerpers beim rennen und gehen. Diploma thesis, Friedrich-Schiller-Universitaet Jena, Jena, Germany, 2008. [72] R. Ringrose. Self-stabilizing running. In Proceedings of the 1997 IEEE International Conference on Robotics & Automation, pages 487493, Albuquerque, NM, USA, 1997. [73] J.P. Schmiedeler and K.J. Waldron. The mechanics of quadrupedal galloping and the future of legged vehicles. International Journal of Robotics Research, 18(12):12241234, December 1999. [74] D. W. Marhefka, D. E. Orin, J. P. Schmiedeler, and K. J. Waldron. Intelligent control of quadruped gallops. IEEE/ASME Transactions on Mechatronics, 8(4):446  456, December 2003. [75] G. Gabrielli and T. H. von Karman. What price speed?: specific power required for propulsion of vehicles. Mechanical Engineering, 72(10):775781, 1950.

91

Appendix A Simulation Results
Appendix A contains plots of the data collected during simulation of the GARP-5 model in the MATLAB/Simulink environment. These can also be found in the Results & Analysis section of the thesis.

92

NORMAL: Hip Fwd Angle & Rev Angle vs Specific Resistance

3 2.5 Specific Resistance 2 1.5 1 0.5 0 -10 -12 -14 -16 -18 -20 -22 LO Angle -24 -20 -10 TD Angle 0 10

Figure A.1: Simulation results, normal configuration: TD & LO angles vs specific resistance.

93

NORMAL: Hip Fwd Angle & Rev Angle vs Velocity

1

0.9

0.8

0.7

0.6 Velocity m/s

0.5

0.4

0.3

0.2

0.1

0 -10 -12 -14 -16 -18 -20 -22 -24 LO Angle -20 TD Angle -15 -10 -5 0 10 5 15

Figure A.2: Simulation results, normal configuration: TD & LO angles vs velocity.

94

TRANSVERSE: Effective TD & LO Angle vs Specific Resistance

3 Spec Res 2 4 1 2 0 0 -20 -40 -60 LO Angle -80 -4 -2 TD Angle 0 6

Figure A.3: Simulation results, transverse configuration: TD & LO angles vs specific resistance.

95

TRANSVERSE: Effective TD & LO Angle Velocity

1 0.8 Speed 0.6 0.4 0.2 4 0 0 -20 -40 -2 -60 -80 -4 TD Angle 2 0 6

LO Angle

Figure A.4: Simulation results, transverse configuration: TD & LO angles vs velocity.

96

Appendix B Robot Experiment Results
Appendix B contains plots of the data collected during robot experimentation. These can also be found in the Results & Analysis section of the thesis.

97

EXPERIMENT: TD Angle & LO Angle vs Specific resistance

9

8 Specific Resistance

7

6

5

4 0 -20 -40 40 -60 30 LO Angle -80 TD Angle 50

Figure B.1: Experimetnal results, normal configuration: TD & LO angles vs specific resistance.

98

EXPERIMENT: TD Angle & LO Angle vs Velocity

0.36

0.34

0.32

Foward Velocity (m/s)

0.3

0.28

0.26

0.24

0.22

0.2 0 -10 -20 -30 -40 -50 -60 -70 -80 LO Angle 25 TD Angle 30 35 40 45 50 55

Figure B.2: Experimental results, normal configuration: TD & LO angles vs velocity.

99

TRANSVERSE: TD & LO Angles vs Specific Resistance

7.5 7 6.5 Specific Resistance 6 5.5 5 4.5 4 3.5 -25 -30 -35 -40 -45 -50 -55 LO Angle -60 0 TD Angle 5 10

Figure B.3: Experimental results, transverse configuration: TD & LO angles vs specific resistance.

100

TRANSVERSE: TD & LO Angles vs Velocity

0.45

0.4

Foward Velocity (m/s)

0.35

0.3

0.25 15 0.2 -25 10 -30 -35 -40 5 -45 -50 -55 -60 0 TD Angle

LO Angle

Figure B.4: Experimental results, transverse configuration: TD & LO angles vs velocity.

101

Appendix C Schematics
Appendix C includes certain schematics of the system and associated hardware.

102

MOTOR AMPLIFIER INDUCTANCE CARD

C = 0.01uF L = 100uH

AMC DZRALTE020L080 Servo Amplifier

MAXON REMAX35 BRUSHED DC MOTOR

L = 100uH

C = 0.01uF

103
Figure C.1: AMC motor amplifier series inductance circuit.

Figure C.2: Voltage divider circuit for force sensitive resistors.

104

